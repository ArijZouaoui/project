{"ast":null,"code":"/*!\n * FullCalendar v3.10.1\n * Docs & License: https://fullcalendar.io/\n * (c) 2019 Adam Shaw\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"moment\"), require(\"jquery\"));else if (typeof define === 'function' && define.amd) define([\"moment\", \"jquery\"], factory);else if (typeof exports === 'object') exports[\"FullCalendar\"] = factory(require(\"moment\"), require(\"jquery\"));else root[\"FullCalendar\"] = factory(root[\"moment\"], root[\"jQuery\"]);\n})(typeof self !== 'undefined' ? self : this, function (__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 256);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n      /***/\n    },,\n    /* 1 */\n\n    /* 2 */\n\n    /***/\n    function (module, exports) {\n      /*\r\n      derived from:\r\n      https://github.com/Microsoft/tslib/blob/v1.6.0/tslib.js\r\n      \n      only include the helpers we need, to keep down filesize\r\n      */\n      var extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n\n      exports.__extends = function (d, b) {\n        extendStatics(d, b);\n\n        function __() {\n          this.constructor = d;\n        }\n\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n      };\n      /***/\n\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment = __webpack_require__(0);\n\n      var $ = __webpack_require__(3);\n      /* FullCalendar-specific DOM Utilities\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n      // and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\n\n\n      function compensateScroll(rowEls, scrollbarWidths) {\n        if (scrollbarWidths.left) {\n          rowEls.css({\n            'border-left-width': 1,\n            'margin-left': scrollbarWidths.left - 1\n          });\n        }\n\n        if (scrollbarWidths.right) {\n          rowEls.css({\n            'border-right-width': 1,\n            'margin-right': scrollbarWidths.right - 1\n          });\n        }\n      }\n\n      exports.compensateScroll = compensateScroll; // Undoes compensateScroll and restores all borders/margins\n\n      function uncompensateScroll(rowEls) {\n        rowEls.css({\n          'margin-left': '',\n          'margin-right': '',\n          'border-left-width': '',\n          'border-right-width': ''\n        });\n      }\n\n      exports.uncompensateScroll = uncompensateScroll; // Make the mouse cursor express that an event is not allowed in the current area\n\n      function disableCursor() {\n        $('body').addClass('fc-not-allowed');\n      }\n\n      exports.disableCursor = disableCursor; // Returns the mouse cursor to its original look\n\n      function enableCursor() {\n        $('body').removeClass('fc-not-allowed');\n      }\n\n      exports.enableCursor = enableCursor; // Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n      // By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n      // any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and\n      // reduces the available height.\n\n      function distributeHeight(els, availableHeight, shouldRedistribute) {\n        // *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n        // and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n        var minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n\n        var minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n\n        var flexEls = []; // elements that are allowed to expand. array of DOM nodes\n\n        var flexOffsets = []; // amount of vertical space it takes up\n\n        var flexHeights = []; // actual css height\n\n        var usedHeight = 0;\n        undistributeHeight(els); // give all elements their natural height\n        // find elements that are below the recommended height (expandable).\n        // important to query for heights in a single first pass (to avoid reflow oscillation).\n\n        els.each(function (i, el) {\n          var minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n          var naturalOffset = $(el).outerHeight(true);\n\n          if (naturalOffset < minOffset) {\n            flexEls.push(el);\n            flexOffsets.push(naturalOffset);\n            flexHeights.push($(el).height());\n          } else {\n            // this element stretches past recommended height (non-expandable). mark the space as occupied.\n            usedHeight += naturalOffset;\n          }\n        }); // readjust the recommended height to only consider the height available to non-maxed-out rows.\n\n        if (shouldRedistribute) {\n          availableHeight -= usedHeight;\n          minOffset1 = Math.floor(availableHeight / flexEls.length);\n          minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n        } // assign heights to all expandable elements\n\n\n        $(flexEls).each(function (i, el) {\n          var minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n          var naturalOffset = flexOffsets[i];\n          var naturalHeight = flexHeights[i];\n          var newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n\n          if (naturalOffset < minOffset) {\n            // we check this again because redistribution might have changed things\n            $(el).height(newHeight);\n          }\n        });\n      }\n\n      exports.distributeHeight = distributeHeight; // Undoes distrubuteHeight, restoring all els to their natural height\n\n      function undistributeHeight(els) {\n        els.height('');\n      }\n\n      exports.undistributeHeight = undistributeHeight; // Given `els`, a jQuery set of <td> cells, find the cell with the largest natural width and set the widths of all the\n      // cells to be that width.\n      // PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\n\n      function matchCellWidths(els) {\n        var maxInnerWidth = 0;\n        els.find('> *').each(function (i, innerEl) {\n          var innerWidth = $(innerEl).outerWidth();\n\n          if (innerWidth > maxInnerWidth) {\n            maxInnerWidth = innerWidth;\n          }\n        });\n        maxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n\n        els.width(maxInnerWidth);\n        return maxInnerWidth;\n      }\n\n      exports.matchCellWidths = matchCellWidths; // Given one element that resides inside another,\n      // Subtracts the height of the inner element from the outer element.\n\n      function subtractInnerElHeight(outerEl, innerEl) {\n        var both = outerEl.add(innerEl);\n        var diff; // effin' IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n\n        both.css({\n          position: 'relative',\n          left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n\n        });\n        diff = outerEl.outerHeight() - innerEl.outerHeight(); // grab the dimensions\n\n        both.css({\n          position: '',\n          left: ''\n        }); // undo hack\n\n        return diff;\n      }\n\n      exports.subtractInnerElHeight = subtractInnerElHeight;\n      /* Element Geom Utilities\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // borrowed from https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51\n\n      function getScrollParent(el) {\n        var position = el.css('position');\n        var scrollParent = el.parents().filter(function () {\n          var parent = $(this);\n          return /(auto|scroll)/.test(parent.css('overflow') + parent.css('overflow-y') + parent.css('overflow-x'));\n        }).eq(0);\n        return position === 'fixed' || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent;\n      }\n\n      exports.getScrollParent = getScrollParent; // Queries the outer bounding area of a jQuery element.\n      // Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n      // Origin is optional.\n\n      function getOuterRect(el, origin) {\n        var offset = el.offset();\n        var left = offset.left - (origin ? origin.left : 0);\n        var top = offset.top - (origin ? origin.top : 0);\n        return {\n          left: left,\n          right: left + el.outerWidth(),\n          top: top,\n          bottom: top + el.outerHeight()\n        };\n      }\n\n      exports.getOuterRect = getOuterRect; // Queries the area within the margin/border/scrollbars of a jQuery element. Does not go within the padding.\n      // Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n      // Origin is optional.\n      // WARNING: given element can't have borders\n      // NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\n\n      function getClientRect(el, origin) {\n        var offset = el.offset();\n        var scrollbarWidths = getScrollbarWidths(el);\n        var left = offset.left + getCssFloat(el, 'border-left-width') + scrollbarWidths.left - (origin ? origin.left : 0);\n        var top = offset.top + getCssFloat(el, 'border-top-width') + scrollbarWidths.top - (origin ? origin.top : 0);\n        return {\n          left: left,\n          right: left + el[0].clientWidth,\n          top: top,\n          bottom: top + el[0].clientHeight // clientHeight includes padding but NOT scrollbars\n\n        };\n      }\n\n      exports.getClientRect = getClientRect; // Queries the area within the margin/border/padding of a jQuery element. Assumed not to have scrollbars.\n      // Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n      // Origin is optional.\n\n      function getContentRect(el, origin) {\n        var offset = el.offset(); // just outside of border, margin not included\n\n        var left = offset.left + getCssFloat(el, 'border-left-width') + getCssFloat(el, 'padding-left') - (origin ? origin.left : 0);\n        var top = offset.top + getCssFloat(el, 'border-top-width') + getCssFloat(el, 'padding-top') - (origin ? origin.top : 0);\n        return {\n          left: left,\n          right: left + el.width(),\n          top: top,\n          bottom: top + el.height()\n        };\n      }\n\n      exports.getContentRect = getContentRect; // Returns the computed left/right/top/bottom scrollbar widths for the given jQuery element.\n      // WARNING: given element can't have borders (which will cause offsetWidth/offsetHeight to be larger).\n      // NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\n\n      function getScrollbarWidths(el) {\n        var leftRightWidth = el[0].offsetWidth - el[0].clientWidth;\n        var bottomWidth = el[0].offsetHeight - el[0].clientHeight;\n        var widths;\n        leftRightWidth = sanitizeScrollbarWidth(leftRightWidth);\n        bottomWidth = sanitizeScrollbarWidth(bottomWidth);\n        widths = {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: bottomWidth\n        };\n\n        if (getIsLeftRtlScrollbars() && el.css('direction') === 'rtl') {\n          // is the scrollbar on the left side?\n          widths.left = leftRightWidth;\n        } else {\n          widths.right = leftRightWidth;\n        }\n\n        return widths;\n      }\n\n      exports.getScrollbarWidths = getScrollbarWidths; // The scrollbar width computations in getScrollbarWidths are sometimes flawed when it comes to\n      // retina displays, rounding, and IE11. Massage them into a usable value.\n\n      function sanitizeScrollbarWidth(width) {\n        width = Math.max(0, width); // no negatives\n\n        width = Math.round(width);\n        return width;\n      } // Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\n\n\n      var _isLeftRtlScrollbars = null;\n\n      function getIsLeftRtlScrollbars() {\n        if (_isLeftRtlScrollbars === null) {\n          _isLeftRtlScrollbars = computeIsLeftRtlScrollbars();\n        }\n\n        return _isLeftRtlScrollbars;\n      }\n\n      function computeIsLeftRtlScrollbars() {\n        var el = $('<div><div/></div>').css({\n          position: 'absolute',\n          top: -1000,\n          left: 0,\n          border: 0,\n          padding: 0,\n          overflow: 'scroll',\n          direction: 'rtl'\n        }).appendTo('body');\n        var innerEl = el.children();\n        var res = innerEl.offset().left > el.offset().left; // is the inner div shifted to accommodate a left scrollbar?\n\n        el.remove();\n        return res;\n      } // Retrieves a jQuery element's computed CSS value as a floating-point number.\n      // If the queried value is non-numeric (ex: IE can return \"medium\" for border width), will just return zero.\n\n\n      function getCssFloat(el, prop) {\n        return parseFloat(el.css(prop)) || 0;\n      }\n      /* Mouse / Touch Utilities\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\n\n\n      function isPrimaryMouseButton(ev) {\n        return ev.which === 1 && !ev.ctrlKey;\n      }\n\n      exports.isPrimaryMouseButton = isPrimaryMouseButton;\n\n      function getEvX(ev) {\n        var touches = ev.originalEvent.touches; // on mobile FF, pageX for touch events is present, but incorrect,\n        // so, look at touch coordinates first.\n\n        if (touches && touches.length) {\n          return touches[0].pageX;\n        }\n\n        return ev.pageX;\n      }\n\n      exports.getEvX = getEvX;\n\n      function getEvY(ev) {\n        var touches = ev.originalEvent.touches; // on mobile FF, pageX for touch events is present, but incorrect,\n        // so, look at touch coordinates first.\n\n        if (touches && touches.length) {\n          return touches[0].pageY;\n        }\n\n        return ev.pageY;\n      }\n\n      exports.getEvY = getEvY;\n\n      function getEvIsTouch(ev) {\n        return /^touch/.test(ev.type);\n      }\n\n      exports.getEvIsTouch = getEvIsTouch;\n\n      function preventSelection(el) {\n        el.addClass('fc-unselectable').on('selectstart', preventDefault);\n      }\n\n      exports.preventSelection = preventSelection;\n\n      function allowSelection(el) {\n        el.removeClass('fc-unselectable').off('selectstart', preventDefault);\n      }\n\n      exports.allowSelection = allowSelection; // Stops a mouse/touch event from doing it's native browser action\n\n      function preventDefault(ev) {\n        ev.preventDefault();\n      }\n\n      exports.preventDefault = preventDefault;\n      /* General Geometry Utils\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\n\n      function intersectRects(rect1, rect2) {\n        var res = {\n          left: Math.max(rect1.left, rect2.left),\n          right: Math.min(rect1.right, rect2.right),\n          top: Math.max(rect1.top, rect2.top),\n          bottom: Math.min(rect1.bottom, rect2.bottom)\n        };\n\n        if (res.left < res.right && res.top < res.bottom) {\n          return res;\n        }\n\n        return false;\n      }\n\n      exports.intersectRects = intersectRects; // Returns a new point that will have been moved to reside within the given rectangle\n\n      function constrainPoint(point, rect) {\n        return {\n          left: Math.min(Math.max(point.left, rect.left), rect.right),\n          top: Math.min(Math.max(point.top, rect.top), rect.bottom)\n        };\n      }\n\n      exports.constrainPoint = constrainPoint; // Returns a point that is the center of the given rectangle\n\n      function getRectCenter(rect) {\n        return {\n          left: (rect.left + rect.right) / 2,\n          top: (rect.top + rect.bottom) / 2\n        };\n      }\n\n      exports.getRectCenter = getRectCenter; // Subtracts point2's coordinates from point1's coordinates, returning a delta\n\n      function diffPoints(point1, point2) {\n        return {\n          left: point1.left - point2.left,\n          top: point1.top - point2.top\n        };\n      }\n\n      exports.diffPoints = diffPoints;\n      /* Object Ordering by Field\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n      function parseFieldSpecs(input) {\n        var specs = [];\n        var tokens = [];\n        var i;\n        var token;\n\n        if (typeof input === 'string') {\n          tokens = input.split(/\\s*,\\s*/);\n        } else if (typeof input === 'function') {\n          tokens = [input];\n        } else if ($.isArray(input)) {\n          tokens = input;\n        }\n\n        for (i = 0; i < tokens.length; i++) {\n          token = tokens[i];\n\n          if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ? {\n              field: token.substring(1),\n              order: -1\n            } : {\n              field: token,\n              order: 1\n            });\n          } else if (typeof token === 'function') {\n            specs.push({\n              func: token\n            });\n          }\n        }\n\n        return specs;\n      }\n\n      exports.parseFieldSpecs = parseFieldSpecs;\n\n      function compareByFieldSpecs(obj1, obj2, fieldSpecs, obj1fallback, obj2fallback) {\n        var i;\n        var cmp;\n\n        for (i = 0; i < fieldSpecs.length; i++) {\n          cmp = compareByFieldSpec(obj1, obj2, fieldSpecs[i], obj1fallback, obj2fallback);\n\n          if (cmp) {\n            return cmp;\n          }\n        }\n\n        return 0;\n      }\n\n      exports.compareByFieldSpecs = compareByFieldSpecs;\n\n      function compareByFieldSpec(obj1, obj2, fieldSpec, obj1fallback, obj2fallback) {\n        if (fieldSpec.func) {\n          return fieldSpec.func(obj1, obj2);\n        }\n\n        var val1 = obj1[fieldSpec.field];\n        var val2 = obj2[fieldSpec.field];\n\n        if (val1 == null && obj1fallback) {\n          val1 = obj1fallback[fieldSpec.field];\n        }\n\n        if (val2 == null && obj2fallback) {\n          val2 = obj2fallback[fieldSpec.field];\n        }\n\n        return flexibleCompare(val1, val2) * (fieldSpec.order || 1);\n      }\n\n      exports.compareByFieldSpec = compareByFieldSpec;\n\n      function flexibleCompare(a, b) {\n        if (!a && !b) {\n          return 0;\n        }\n\n        if (b == null) {\n          return -1;\n        }\n\n        if (a == null) {\n          return 1;\n        }\n\n        if ($.type(a) === 'string' || $.type(b) === 'string') {\n          return String(a).localeCompare(String(b));\n        }\n\n        return a - b;\n      }\n\n      exports.flexibleCompare = flexibleCompare;\n      /* Date Utilities\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n      exports.dayIDs = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n      exports.unitsDesc = ['year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond']; // descending\n      // Diffs the two moments into a Duration where full-days are recorded first, then the remaining time.\n      // Moments will have their timezones normalized.\n\n      function diffDayTime(a, b) {\n        return moment.duration({\n          days: a.clone().stripTime().diff(b.clone().stripTime(), 'days'),\n          ms: a.time() - b.time() // time-of-day from day start. disregards timezone\n\n        });\n      }\n\n      exports.diffDayTime = diffDayTime; // Diffs the two moments via their start-of-day (regardless of timezone). Produces whole-day durations.\n\n      function diffDay(a, b) {\n        return moment.duration({\n          days: a.clone().stripTime().diff(b.clone().stripTime(), 'days')\n        });\n      }\n\n      exports.diffDay = diffDay; // Diffs two moments, producing a duration, made of a whole-unit-increment of the given unit. Uses rounding.\n\n      function diffByUnit(a, b, unit) {\n        return moment.duration(Math.round(a.diff(b, unit, true)), // returnFloat=true\n        unit);\n      }\n\n      exports.diffByUnit = diffByUnit; // Computes the unit name of the largest whole-unit period of time.\n      // For example, 48 hours will be \"days\" whereas 49 hours will be \"hours\".\n      // Accepts start/end, a range object, or an original duration object.\n\n      function computeGreatestUnit(start, end) {\n        var i;\n        var unit;\n        var val;\n\n        for (i = 0; i < exports.unitsDesc.length; i++) {\n          unit = exports.unitsDesc[i];\n          val = computeRangeAs(unit, start, end);\n\n          if (val >= 1 && isInt(val)) {\n            break;\n          }\n        }\n\n        return unit; // will be \"milliseconds\" if nothing else matches\n      }\n\n      exports.computeGreatestUnit = computeGreatestUnit; // like computeGreatestUnit, but has special abilities to interpret the source input for clues\n\n      function computeDurationGreatestUnit(duration, durationInput) {\n        var unit = computeGreatestUnit(duration); // prevent days:7 from being interpreted as a week\n\n        if (unit === 'week' && typeof durationInput === 'object' && durationInput.days) {\n          unit = 'day';\n        }\n\n        return unit;\n      }\n\n      exports.computeDurationGreatestUnit = computeDurationGreatestUnit; // Computes the number of units (like \"hours\") in the given range.\n      // Range can be a {start,end} object, separate start/end args, or a Duration.\n      // Results are based on Moment's .as() and .diff() methods, so results can depend on internal handling\n      // of month-diffing logic (which tends to vary from version to version).\n\n      function computeRangeAs(unit, start, end) {\n        if (end != null) {\n          // given start, end\n          return end.diff(start, unit, true);\n        } else if (moment.isDuration(start)) {\n          // given duration\n          return start.as(unit);\n        } else {\n          // given { start, end } range object\n          return start.end.diff(start.start, unit, true);\n        }\n      } // Intelligently divides a range (specified by a start/end params) by a duration\n\n\n      function divideRangeByDuration(start, end, dur) {\n        var months;\n\n        if (durationHasTime(dur)) {\n          return (end - start) / dur;\n        }\n\n        months = dur.asMonths();\n\n        if (Math.abs(months) >= 1 && isInt(months)) {\n          return end.diff(start, 'months', true) / months;\n        }\n\n        return end.diff(start, 'days', true) / dur.asDays();\n      }\n\n      exports.divideRangeByDuration = divideRangeByDuration; // Intelligently divides one duration by another\n\n      function divideDurationByDuration(dur1, dur2) {\n        var months1;\n        var months2;\n\n        if (durationHasTime(dur1) || durationHasTime(dur2)) {\n          return dur1 / dur2;\n        }\n\n        months1 = dur1.asMonths();\n        months2 = dur2.asMonths();\n\n        if (Math.abs(months1) >= 1 && isInt(months1) && Math.abs(months2) >= 1 && isInt(months2)) {\n          return months1 / months2;\n        }\n\n        return dur1.asDays() / dur2.asDays();\n      }\n\n      exports.divideDurationByDuration = divideDurationByDuration; // Intelligently multiplies a duration by a number\n\n      function multiplyDuration(dur, n) {\n        var months;\n\n        if (durationHasTime(dur)) {\n          return moment.duration(dur * n);\n        }\n\n        months = dur.asMonths();\n\n        if (Math.abs(months) >= 1 && isInt(months)) {\n          return moment.duration({\n            months: months * n\n          });\n        }\n\n        return moment.duration({\n          days: dur.asDays() * n\n        });\n      }\n\n      exports.multiplyDuration = multiplyDuration; // Returns a boolean about whether the given duration has any time parts (hours/minutes/seconds/ms)\n\n      function durationHasTime(dur) {\n        return Boolean(dur.hours() || dur.minutes() || dur.seconds() || dur.milliseconds());\n      }\n\n      exports.durationHasTime = durationHasTime;\n\n      function isNativeDate(input) {\n        return Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\n      }\n\n      exports.isNativeDate = isNativeDate; // Returns a boolean about whether the given input is a time string, like \"06:40:00\" or \"06:00\"\n\n      function isTimeString(str) {\n        return typeof str === 'string' && /^\\d+\\:\\d+(?:\\:\\d+\\.?(?:\\d{3})?)?$/.test(str);\n      }\n\n      exports.isTimeString = isTimeString;\n      /* Logging and Debug\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n      function log() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        var console = window.console;\n\n        if (console && console.log) {\n          return console.log.apply(console, args);\n        }\n      }\n\n      exports.log = log;\n\n      function warn() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        var console = window.console;\n\n        if (console && console.warn) {\n          return console.warn.apply(console, args);\n        } else {\n          return log.apply(null, args);\n        }\n      }\n\n      exports.warn = warn;\n      /* General Utilities\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n      var hasOwnPropMethod = {}.hasOwnProperty; // Merges an array of objects into a single object.\n      // The second argument allows for an array of property names who's object values will be merged together.\n\n      function mergeProps(propObjs, complexProps) {\n        var dest = {};\n        var i;\n        var name;\n        var complexObjs;\n        var j;\n        var val;\n        var props;\n\n        if (complexProps) {\n          for (i = 0; i < complexProps.length; i++) {\n            name = complexProps[i];\n            complexObjs = []; // collect the trailing object values, stopping when a non-object is discovered\n\n            for (j = propObjs.length - 1; j >= 0; j--) {\n              val = propObjs[j][name];\n\n              if (typeof val === 'object') {\n                complexObjs.unshift(val);\n              } else if (val !== undefined) {\n                dest[name] = val; // if there were no objects, this value will be used\n\n                break;\n              }\n            } // if the trailing values were objects, use the merged value\n\n\n            if (complexObjs.length) {\n              dest[name] = mergeProps(complexObjs);\n            }\n          }\n        } // copy values into the destination, going from last to first\n\n\n        for (i = propObjs.length - 1; i >= 0; i--) {\n          props = propObjs[i];\n\n          for (name in props) {\n            if (!(name in dest)) {\n              // if already assigned by previous props or complex props, don't reassign\n              dest[name] = props[name];\n            }\n          }\n        }\n\n        return dest;\n      }\n\n      exports.mergeProps = mergeProps;\n\n      function copyOwnProps(src, dest) {\n        for (var name_1 in src) {\n          if (hasOwnProp(src, name_1)) {\n            dest[name_1] = src[name_1];\n          }\n        }\n      }\n\n      exports.copyOwnProps = copyOwnProps;\n\n      function hasOwnProp(obj, name) {\n        return hasOwnPropMethod.call(obj, name);\n      }\n\n      exports.hasOwnProp = hasOwnProp;\n\n      function applyAll(functions, thisObj, args) {\n        if ($.isFunction(functions)) {\n          functions = [functions];\n        }\n\n        if (functions) {\n          var i = void 0;\n          var ret = void 0;\n\n          for (i = 0; i < functions.length; i++) {\n            ret = functions[i].apply(thisObj, args) || ret;\n          }\n\n          return ret;\n        }\n      }\n\n      exports.applyAll = applyAll;\n\n      function removeMatching(array, testFunc) {\n        var removeCnt = 0;\n        var i = 0;\n\n        while (i < array.length) {\n          if (testFunc(array[i])) {\n            // truthy value means *remove*\n            array.splice(i, 1);\n            removeCnt++;\n          } else {\n            i++;\n          }\n        }\n\n        return removeCnt;\n      }\n\n      exports.removeMatching = removeMatching;\n\n      function removeExact(array, exactVal) {\n        var removeCnt = 0;\n        var i = 0;\n\n        while (i < array.length) {\n          if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt++;\n          } else {\n            i++;\n          }\n        }\n\n        return removeCnt;\n      }\n\n      exports.removeExact = removeExact;\n\n      function isArraysEqual(a0, a1) {\n        var len = a0.length;\n        var i;\n\n        if (len == null || len !== a1.length) {\n          // not array? or not same length?\n          return false;\n        }\n\n        for (i = 0; i < len; i++) {\n          if (a0[i] !== a1[i]) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      exports.isArraysEqual = isArraysEqual;\n\n      function firstDefined() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        for (var i = 0; i < args.length; i++) {\n          if (args[i] !== undefined) {\n            return args[i];\n          }\n        }\n      }\n\n      exports.firstDefined = firstDefined;\n\n      function htmlEscape(s) {\n        return (s + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/'/g, '&#039;').replace(/\"/g, '&quot;').replace(/\\n/g, '<br />');\n      }\n\n      exports.htmlEscape = htmlEscape;\n\n      function stripHtmlEntities(text) {\n        return text.replace(/&.*?;/g, '');\n      }\n\n      exports.stripHtmlEntities = stripHtmlEntities; // Given a hash of CSS properties, returns a string of CSS.\n      // Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\n\n      function cssToStr(cssProps) {\n        var statements = [];\n        $.each(cssProps, function (name, val) {\n          if (val != null) {\n            statements.push(name + ':' + val);\n          }\n        });\n        return statements.join(';');\n      }\n\n      exports.cssToStr = cssToStr; // Given an object hash of HTML attribute names to values,\n      // generates a string that can be injected between < > in HTML\n\n      function attrsToStr(attrs) {\n        var parts = [];\n        $.each(attrs, function (name, val) {\n          if (val != null) {\n            parts.push(name + '=\"' + htmlEscape(val) + '\"');\n          }\n        });\n        return parts.join(' ');\n      }\n\n      exports.attrsToStr = attrsToStr;\n\n      function capitaliseFirstLetter(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n      }\n\n      exports.capitaliseFirstLetter = capitaliseFirstLetter;\n\n      function compareNumbers(a, b) {\n        return a - b;\n      }\n\n      exports.compareNumbers = compareNumbers;\n\n      function isInt(n) {\n        return n % 1 === 0;\n      }\n\n      exports.isInt = isInt; // Returns a method bound to the given object context.\n      // Just like one of the jQuery.proxy signatures, but without the undesired behavior of treating the same method with\n      // different contexts as identical when binding/unbinding events.\n\n      function proxy(obj, methodName) {\n        var method = obj[methodName];\n        return function () {\n          return method.apply(obj, arguments);\n        };\n      }\n\n      exports.proxy = proxy; // Returns a function, that, as long as it continues to be invoked, will not\n      // be triggered. The function will be called after it stops being called for\n      // N milliseconds. If `immediate` is passed, trigger the function on the\n      // leading edge, instead of the trailing.\n      // https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\n\n      function debounce(func, wait, immediate) {\n        if (immediate === void 0) {\n          immediate = false;\n        }\n\n        var timeout;\n        var args;\n        var context;\n        var timestamp;\n        var result;\n\n        var later = function () {\n          var last = +new Date() - timestamp;\n\n          if (last < wait) {\n            timeout = setTimeout(later, wait - last);\n          } else {\n            timeout = null;\n\n            if (!immediate) {\n              result = func.apply(context, args);\n              context = args = null;\n            }\n          }\n        };\n\n        return function () {\n          context = this;\n          args = arguments;\n          timestamp = +new Date();\n          var callNow = immediate && !timeout;\n\n          if (!timeout) {\n            timeout = setTimeout(later, wait);\n          }\n\n          if (callNow) {\n            result = func.apply(context, args);\n            context = args = null;\n          }\n\n          return result;\n        };\n      }\n\n      exports.debounce = debounce;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment = __webpack_require__(0);\n\n      var moment_ext_1 = __webpack_require__(11);\n\n      var UnzonedRange =\n      /** @class */\n      function () {\n        function UnzonedRange(startInput, endInput) {\n          // TODO: move these into footprint.\n          // Especially, doesn't make sense for null startMs/endMs.\n          this.isStart = true;\n          this.isEnd = true;\n\n          if (moment.isMoment(startInput)) {\n            startInput = startInput.clone().stripZone();\n          }\n\n          if (moment.isMoment(endInput)) {\n            endInput = endInput.clone().stripZone();\n          }\n\n          if (startInput) {\n            this.startMs = startInput.valueOf();\n          }\n\n          if (endInput) {\n            this.endMs = endInput.valueOf();\n          }\n        }\n        /*\r\n        SIDEEFFECT: will mutate eventRanges.\r\n        Will return a new array result.\r\n        Only works for non-open-ended ranges.\r\n        */\n\n\n        UnzonedRange.invertRanges = function (ranges, constraintRange) {\n          var invertedRanges = [];\n          var startMs = constraintRange.startMs; // the end of the previous range. the start of the new range\n\n          var i;\n          var dateRange; // ranges need to be in order. required for our date-walking algorithm\n\n          ranges.sort(compareUnzonedRanges);\n\n          for (i = 0; i < ranges.length; i++) {\n            dateRange = ranges[i]; // add the span of time before the event (if there is any)\n\n            if (dateRange.startMs > startMs) {\n              // compare millisecond time (skip any ambig logic)\n              invertedRanges.push(new UnzonedRange(startMs, dateRange.startMs));\n            }\n\n            if (dateRange.endMs > startMs) {\n              startMs = dateRange.endMs;\n            }\n          } // add the span of time after the last event (if there is any)\n\n\n          if (startMs < constraintRange.endMs) {\n            // compare millisecond time (skip any ambig logic)\n            invertedRanges.push(new UnzonedRange(startMs, constraintRange.endMs));\n          }\n\n          return invertedRanges;\n        };\n\n        UnzonedRange.prototype.intersect = function (otherRange) {\n          var startMs = this.startMs;\n          var endMs = this.endMs;\n          var newRange = null;\n\n          if (otherRange.startMs != null) {\n            if (startMs == null) {\n              startMs = otherRange.startMs;\n            } else {\n              startMs = Math.max(startMs, otherRange.startMs);\n            }\n          }\n\n          if (otherRange.endMs != null) {\n            if (endMs == null) {\n              endMs = otherRange.endMs;\n            } else {\n              endMs = Math.min(endMs, otherRange.endMs);\n            }\n          }\n\n          if (startMs == null || endMs == null || startMs < endMs) {\n            newRange = new UnzonedRange(startMs, endMs);\n            newRange.isStart = this.isStart && startMs === this.startMs;\n            newRange.isEnd = this.isEnd && endMs === this.endMs;\n          }\n\n          return newRange;\n        };\n\n        UnzonedRange.prototype.intersectsWith = function (otherRange) {\n          return (this.endMs == null || otherRange.startMs == null || this.endMs > otherRange.startMs) && (this.startMs == null || otherRange.endMs == null || this.startMs < otherRange.endMs);\n        };\n\n        UnzonedRange.prototype.containsRange = function (innerRange) {\n          return (this.startMs == null || innerRange.startMs != null && innerRange.startMs >= this.startMs) && (this.endMs == null || innerRange.endMs != null && innerRange.endMs <= this.endMs);\n        }; // `date` can be a moment, a Date, or a millisecond time.\n\n\n        UnzonedRange.prototype.containsDate = function (date) {\n          var ms = date.valueOf();\n          return (this.startMs == null || ms >= this.startMs) && (this.endMs == null || ms < this.endMs);\n        }; // If the given date is not within the given range, move it inside.\n        // (If it's past the end, make it one millisecond before the end).\n        // `date` can be a moment, a Date, or a millisecond time.\n        // Returns a MS-time.\n\n\n        UnzonedRange.prototype.constrainDate = function (date) {\n          var ms = date.valueOf();\n\n          if (this.startMs != null && ms < this.startMs) {\n            ms = this.startMs;\n          }\n\n          if (this.endMs != null && ms >= this.endMs) {\n            ms = this.endMs - 1;\n          }\n\n          return ms;\n        };\n\n        UnzonedRange.prototype.equals = function (otherRange) {\n          return this.startMs === otherRange.startMs && this.endMs === otherRange.endMs;\n        };\n\n        UnzonedRange.prototype.clone = function () {\n          var range = new UnzonedRange(this.startMs, this.endMs);\n          range.isStart = this.isStart;\n          range.isEnd = this.isEnd;\n          return range;\n        }; // Returns an ambig-zoned moment from startMs.\n        // BEWARE: returned moment is not localized.\n        // Formatting and start-of-week will be default.\n\n\n        UnzonedRange.prototype.getStart = function () {\n          if (this.startMs != null) {\n            return moment_ext_1.default.utc(this.startMs).stripZone();\n          }\n\n          return null;\n        }; // Returns an ambig-zoned moment from startMs.\n        // BEWARE: returned moment is not localized.\n        // Formatting and start-of-week will be default.\n\n\n        UnzonedRange.prototype.getEnd = function () {\n          if (this.endMs != null) {\n            return moment_ext_1.default.utc(this.endMs).stripZone();\n          }\n\n          return null;\n        };\n\n        UnzonedRange.prototype.as = function (unit) {\n          return moment.utc(this.endMs).diff(moment.utc(this.startMs), unit, true);\n        };\n\n        return UnzonedRange;\n      }();\n\n      exports.default = UnzonedRange;\n      /*\r\n      Only works for non-open-ended ranges.\r\n      */\n\n      function compareUnzonedRanges(range1, range2) {\n        return range1.startMs - range2.startMs; // earlier ranges go first\n      }\n      /***/\n\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var ParsableModelMixin_1 = __webpack_require__(52);\n\n      var Class_1 = __webpack_require__(35);\n\n      var EventDefParser_1 = __webpack_require__(36);\n\n      var EventSource =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(EventSource, _super); // can we do away with calendar? at least for the abstract?\n        // useful for buildEventDef\n\n\n        function EventSource(calendar) {\n          var _this = _super.call(this) || this;\n\n          _this.calendar = calendar;\n          _this.className = [];\n          _this.uid = String(EventSource.uuid++);\n          return _this;\n        }\n        /*\r\n        rawInput can be any data type!\r\n        */\n\n\n        EventSource.parse = function (rawInput, calendar) {\n          var source = new this(calendar);\n\n          if (typeof rawInput === 'object') {\n            if (source.applyProps(rawInput)) {\n              return source;\n            }\n          }\n\n          return false;\n        };\n\n        EventSource.normalizeId = function (id) {\n          if (id) {\n            return String(id);\n          }\n\n          return null;\n        };\n\n        EventSource.prototype.fetch = function (start, end, timezone) {// subclasses must implement. must return a promise.\n        };\n\n        EventSource.prototype.removeEventDefsById = function (eventDefId) {// optional for subclasses to implement\n        };\n\n        EventSource.prototype.removeAllEventDefs = function () {// optional for subclasses to implement\n        };\n        /*\r\n        For compairing/matching\r\n        */\n\n\n        EventSource.prototype.getPrimitive = function (otherSource) {// subclasses must implement\n        };\n\n        EventSource.prototype.parseEventDefs = function (rawEventDefs) {\n          var i;\n          var eventDef;\n          var eventDefs = [];\n\n          for (i = 0; i < rawEventDefs.length; i++) {\n            eventDef = this.parseEventDef(rawEventDefs[i]);\n\n            if (eventDef) {\n              eventDefs.push(eventDef);\n            }\n          }\n\n          return eventDefs;\n        };\n\n        EventSource.prototype.parseEventDef = function (rawInput) {\n          var calendarTransform = this.calendar.opt('eventDataTransform');\n          var sourceTransform = this.eventDataTransform;\n\n          if (calendarTransform) {\n            rawInput = calendarTransform(rawInput, this.calendar);\n          }\n\n          if (sourceTransform) {\n            rawInput = sourceTransform(rawInput, this.calendar);\n          }\n\n          return EventDefParser_1.default.parse(rawInput, this);\n        };\n\n        EventSource.prototype.applyManualStandardProps = function (rawProps) {\n          if (rawProps.id != null) {\n            this.id = EventSource.normalizeId(rawProps.id);\n          } // TODO: converge with EventDef\n\n\n          if ($.isArray(rawProps.className)) {\n            this.className = rawProps.className;\n          } else if (typeof rawProps.className === 'string') {\n            this.className = rawProps.className.split(/\\s+/);\n          }\n\n          return true;\n        };\n\n        EventSource.uuid = 0;\n        EventSource.defineStandardProps = ParsableModelMixin_1.default.defineStandardProps;\n        EventSource.copyVerbatimStandardProps = ParsableModelMixin_1.default.copyVerbatimStandardProps;\n        return EventSource;\n      }(Class_1.default);\n\n      exports.default = EventSource;\n      ParsableModelMixin_1.default.mixInto(EventSource); // Parsing\n      // ---------------------------------------------------------------------------------------------------------------------\n\n      EventSource.defineStandardProps({\n        // manually process...\n        id: false,\n        className: false,\n        // automatically transfer...\n        color: true,\n        backgroundColor: true,\n        borderColor: true,\n        textColor: true,\n        editable: true,\n        startEditable: true,\n        durationEditable: true,\n        rendering: true,\n        overlap: true,\n        constraint: true,\n        allDayDefault: true,\n        eventDataTransform: true\n      });\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /*\r\n      Utility methods for easily listening to events on another object,\r\n      and more importantly, easily unlistening from them.\r\n      \n      USAGE:\r\n        import { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\r\n      in class:\r\n        listenTo: ListenerInterface['listenTo']\r\n        stopListeningTo: ListenerInterface['stopListeningTo']\r\n      after class:\r\n        ListenerMixin.mixInto(TheClass)\r\n      */\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var Mixin_1 = __webpack_require__(15);\n\n      var guid = 0;\n\n      var ListenerMixin =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ListenerMixin, _super);\n\n        function ListenerMixin() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        /*\r\n        Given an `other` object that has on/off methods, bind the given `callback` to an event by the given name.\r\n        The `callback` will be called with the `this` context of the object that .listenTo is being called on.\r\n        Can be called:\r\n          .listenTo(other, eventName, callback)\r\n        OR\r\n          .listenTo(other, {\r\n            eventName1: callback1,\r\n            eventName2: callback2\r\n          })\r\n        */\n\n\n        ListenerMixin.prototype.listenTo = function (other, arg, callback) {\n          if (typeof arg === 'object') {\n            // given dictionary of callbacks\n            for (var eventName in arg) {\n              if (arg.hasOwnProperty(eventName)) {\n                this.listenTo(other, eventName, arg[eventName]);\n              }\n            }\n          } else if (typeof arg === 'string') {\n            other.on(arg + '.' + this.getListenerNamespace(), // use event namespacing to identify this object\n            $.proxy(callback, this) // always use `this` context\n            // the usually-undesired jQuery guid behavior doesn't matter,\n            // because we always unbind via namespace\n            );\n          }\n        };\n        /*\r\n        Causes the current object to stop listening to events on the `other` object.\r\n        `eventName` is optional. If omitted, will stop listening to ALL events on `other`.\r\n        */\n\n\n        ListenerMixin.prototype.stopListeningTo = function (other, eventName) {\n          other.off((eventName || '') + '.' + this.getListenerNamespace());\n        };\n        /*\r\n        Returns a string, unique to this object, to be used for event namespacing\r\n        */\n\n\n        ListenerMixin.prototype.getListenerNamespace = function () {\n          if (this.listenerId == null) {\n            this.listenerId = guid++;\n          }\n\n          return '_listener' + this.listenerId;\n        };\n\n        return ListenerMixin;\n      }(Mixin_1.default);\n\n      exports.default = ListenerMixin;\n      /***/\n    },,\n    /* 8 */\n\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var EventDef_1 = __webpack_require__(37);\n\n      var EventInstance_1 = __webpack_require__(53);\n\n      var EventDateProfile_1 = __webpack_require__(16);\n\n      var SingleEventDef =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(SingleEventDef, _super);\n\n        function SingleEventDef() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        /*\r\n        Will receive start/end params, but will be ignored.\r\n        */\n\n\n        SingleEventDef.prototype.buildInstances = function () {\n          return [this.buildInstance()];\n        };\n\n        SingleEventDef.prototype.buildInstance = function () {\n          return new EventInstance_1.default(this, // definition\n          this.dateProfile);\n        };\n\n        SingleEventDef.prototype.isAllDay = function () {\n          return this.dateProfile.isAllDay();\n        };\n\n        SingleEventDef.prototype.clone = function () {\n          var def = _super.prototype.clone.call(this);\n\n          def.dateProfile = this.dateProfile;\n          return def;\n        };\n\n        SingleEventDef.prototype.rezone = function () {\n          var calendar = this.source.calendar;\n          var dateProfile = this.dateProfile;\n          this.dateProfile = new EventDateProfile_1.default(calendar.moment(dateProfile.start), dateProfile.end ? calendar.moment(dateProfile.end) : null, calendar);\n        };\n        /*\r\n        NOTE: if super-method fails, should still attempt to apply\r\n        */\n\n\n        SingleEventDef.prototype.applyManualStandardProps = function (rawProps) {\n          var superSuccess = _super.prototype.applyManualStandardProps.call(this, rawProps);\n\n          var dateProfile = EventDateProfile_1.default.parse(rawProps, this.source); // returns null on failure\n\n          if (dateProfile) {\n            this.dateProfile = dateProfile; // make sure `date` shows up in the legacy event objects as-is\n\n            if (rawProps.date != null) {\n              this.miscProps.date = rawProps.date;\n            }\n\n            return superSuccess;\n          } else {\n            return false;\n          }\n        };\n\n        return SingleEventDef;\n      }(EventDef_1.default);\n\n      exports.default = SingleEventDef; // Parsing\n      // ---------------------------------------------------------------------------------------------------------------------\n\n      SingleEventDef.defineStandardProps({\n        start: false,\n        date: false,\n        end: false,\n        allDay: false\n      });\n      /***/\n    },,\n    /* 10 */\n\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment = __webpack_require__(0);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var ambigDateOfMonthRegex = /^\\s*\\d{4}-\\d\\d$/;\n      var ambigTimeOrZoneRegex = /^\\s*\\d{4}-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?)?$/;\n      var newMomentProto = moment.fn; // where we will attach our new methods\n\n      exports.newMomentProto = newMomentProto;\n      var oldMomentProto = $.extend({}, newMomentProto); // copy of original moment methods\n\n      exports.oldMomentProto = oldMomentProto; // tell momentjs to transfer these properties upon clone\n\n      var momentProperties = moment.momentProperties;\n      momentProperties.push('_fullCalendar');\n      momentProperties.push('_ambigTime');\n      momentProperties.push('_ambigZone');\n      /*\r\n      Call this if you want Moment's original format method to be used\r\n      */\n\n      function oldMomentFormat(mom, formatStr) {\n        return oldMomentProto.format.call(mom, formatStr); // oldMomentProto defined in moment-ext.js\n      }\n\n      exports.oldMomentFormat = oldMomentFormat; // Creating\n      // -------------------------------------------------------------------------------------------------\n      // Creates a new moment, similar to the vanilla moment(...) constructor, but with\n      // extra features (ambiguous time, enhanced formatting). When given an existing moment,\n      // it will function as a clone (and retain the zone of the moment). Anything else will\n      // result in a moment in the local zone.\n\n      var momentExt = function () {\n        return makeMoment(arguments);\n      };\n\n      exports.default = momentExt; // Sames as momentExt, but forces the resulting moment to be in the UTC timezone.\n\n      momentExt.utc = function () {\n        var mom = makeMoment(arguments, true); // Force it into UTC because makeMoment doesn't guarantee it\n        // (if given a pre-existing moment for example)\n\n        if (mom.hasTime()) {\n          // don't give ambiguously-timed moments a UTC zone\n          mom.utc();\n        }\n\n        return mom;\n      }; // Same as momentExt, but when given an ISO8601 string, the timezone offset is preserved.\n      // ISO8601 strings with no timezone offset will become ambiguously zoned.\n\n\n      momentExt.parseZone = function () {\n        return makeMoment(arguments, true, true);\n      }; // Builds an enhanced moment from args. When given an existing moment, it clones. When given a\n      // native Date, or called with no arguments (the current time), the resulting moment will be local.\n      // Anything else needs to be \"parsed\" (a string or an array), and will be affected by:\n      //    parseAsUTC - if there is no zone information, should we parse the input in UTC?\n      //    parseZone - if there is zone information, should we force the zone of the moment?\n\n\n      function makeMoment(args, parseAsUTC, parseZone) {\n        if (parseAsUTC === void 0) {\n          parseAsUTC = false;\n        }\n\n        if (parseZone === void 0) {\n          parseZone = false;\n        }\n\n        var input = args[0];\n        var isSingleString = args.length === 1 && typeof input === 'string';\n        var isAmbigTime;\n        var isAmbigZone;\n        var ambigMatch;\n        var mom;\n\n        if (moment.isMoment(input) || util_1.isNativeDate(input) || input === undefined) {\n          mom = moment.apply(null, args);\n        } else {\n          // \"parsing\" is required\n          isAmbigTime = false;\n          isAmbigZone = false;\n\n          if (isSingleString) {\n            if (ambigDateOfMonthRegex.test(input)) {\n              // accept strings like '2014-05', but convert to the first of the month\n              input += '-01';\n              args = [input]; // for when we pass it on to moment's constructor\n\n              isAmbigTime = true;\n              isAmbigZone = true;\n            } else if (ambigMatch = ambigTimeOrZoneRegex.exec(input)) {\n              isAmbigTime = !ambigMatch[5]; // no time part?\n\n              isAmbigZone = true;\n            }\n          } else if ($.isArray(input)) {\n            // arrays have no timezone information, so assume ambiguous zone\n            isAmbigZone = true;\n          } // otherwise, probably a string with a format\n\n\n          if (parseAsUTC || isAmbigTime) {\n            mom = moment.utc.apply(moment, args);\n          } else {\n            mom = moment.apply(null, args);\n          }\n\n          if (isAmbigTime) {\n            mom._ambigTime = true;\n            mom._ambigZone = true; // ambiguous time always means ambiguous zone\n          } else if (parseZone) {\n            // let's record the inputted zone somehow\n            if (isAmbigZone) {\n              mom._ambigZone = true;\n            } else if (isSingleString) {\n              mom.utcOffset(input); // if not a valid zone, will assign UTC\n            }\n          }\n        }\n\n        mom._fullCalendar = true; // flag for extended functionality\n\n        return mom;\n      } // Week Number\n      // -------------------------------------------------------------------------------------------------\n      // Returns the week number, considering the locale's custom week number calcuation\n      // `weeks` is an alias for `week`\n\n\n      newMomentProto.week = newMomentProto.weeks = function (input) {\n        var weekCalc = this._locale._fullCalendar_weekCalc;\n\n        if (input == null && typeof weekCalc === 'function') {\n          // custom function only works for getter\n          return weekCalc(this);\n        } else if (weekCalc === 'ISO') {\n          return oldMomentProto.isoWeek.apply(this, arguments); // ISO getter/setter\n        }\n\n        return oldMomentProto.week.apply(this, arguments); // local getter/setter\n      }; // Time-of-day\n      // -------------------------------------------------------------------------------------------------\n      // GETTER\n      // Returns a Duration with the hours/minutes/seconds/ms values of the moment.\n      // If the moment has an ambiguous time, a duration of 00:00 will be returned.\n      //\n      // SETTER\n      // You can supply a Duration, a Moment, or a Duration-like argument.\n      // When setting the time, and the moment has an ambiguous time, it then becomes unambiguous.\n\n\n      newMomentProto.time = function (time) {\n        // Fallback to the original method (if there is one) if this moment wasn't created via FullCalendar.\n        // `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.\n        if (!this._fullCalendar) {\n          return oldMomentProto.time.apply(this, arguments);\n        }\n\n        if (time == null) {\n          // getter\n          return moment.duration({\n            hours: this.hours(),\n            minutes: this.minutes(),\n            seconds: this.seconds(),\n            milliseconds: this.milliseconds()\n          });\n        } else {\n          // setter\n          this._ambigTime = false; // mark that the moment now has a time\n\n          if (!moment.isDuration(time) && !moment.isMoment(time)) {\n            time = moment.duration(time);\n          } // The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).\n          // Only for Duration times, not Moment times.\n\n\n          var dayHours = 0;\n\n          if (moment.isDuration(time)) {\n            dayHours = Math.floor(time.asDays()) * 24;\n          } // We need to set the individual fields.\n          // Can't use startOf('day') then add duration. In case of DST at start of day.\n\n\n          return this.hours(dayHours + time.hours()).minutes(time.minutes()).seconds(time.seconds()).milliseconds(time.milliseconds());\n        }\n      }; // Converts the moment to UTC, stripping out its time-of-day and timezone offset,\n      // but preserving its YMD. A moment with a stripped time will display no time\n      // nor timezone offset when .format() is called.\n\n\n      newMomentProto.stripTime = function () {\n        if (!this._ambigTime) {\n          this.utc(true); // keepLocalTime=true (for keeping *date* value)\n          // set time to zero\n\n          this.set({\n            hours: 0,\n            minutes: 0,\n            seconds: 0,\n            ms: 0\n          }); // Mark the time as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n          // which clears all ambig flags.\n\n          this._ambigTime = true;\n          this._ambigZone = true; // if ambiguous time, also ambiguous timezone offset\n        }\n\n        return this; // for chaining\n      }; // Returns if the moment has a non-ambiguous time (boolean)\n\n\n      newMomentProto.hasTime = function () {\n        return !this._ambigTime;\n      }; // Timezone\n      // -------------------------------------------------------------------------------------------------\n      // Converts the moment to UTC, stripping out its timezone offset, but preserving its\n      // YMD and time-of-day. A moment with a stripped timezone offset will display no\n      // timezone offset when .format() is called.\n\n\n      newMomentProto.stripZone = function () {\n        var wasAmbigTime;\n\n        if (!this._ambigZone) {\n          wasAmbigTime = this._ambigTime;\n          this.utc(true); // keepLocalTime=true (for keeping date and time values)\n          // the above call to .utc()/.utcOffset() unfortunately might clear the ambig flags, so restore\n\n          this._ambigTime = wasAmbigTime || false; // Mark the zone as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n          // which clears the ambig flags.\n\n          this._ambigZone = true;\n        }\n\n        return this; // for chaining\n      }; // Returns of the moment has a non-ambiguous timezone offset (boolean)\n\n\n      newMomentProto.hasZone = function () {\n        return !this._ambigZone;\n      }; // implicitly marks a zone\n\n\n      newMomentProto.local = function (keepLocalTime) {\n        // for when converting from ambiguously-zoned to local,\n        // keep the time values when converting from UTC -> local\n        oldMomentProto.local.call(this, this._ambigZone || keepLocalTime); // ensure non-ambiguous\n        // this probably already happened via local() -> utcOffset(), but don't rely on Moment's internals\n\n        this._ambigTime = false;\n        this._ambigZone = false;\n        return this; // for chaining\n      }; // implicitly marks a zone\n\n\n      newMomentProto.utc = function (keepLocalTime) {\n        oldMomentProto.utc.call(this, keepLocalTime); // ensure non-ambiguous\n        // this probably already happened via utc() -> utcOffset(), but don't rely on Moment's internals\n\n        this._ambigTime = false;\n        this._ambigZone = false;\n        return this;\n      }; // implicitly marks a zone (will probably get called upon .utc() and .local())\n\n\n      newMomentProto.utcOffset = function (tzo) {\n        if (tzo != null) {\n          // setter\n          // these assignments needs to happen before the original zone method is called.\n          // I forget why, something to do with a browser crash.\n          this._ambigTime = false;\n          this._ambigZone = false;\n        }\n\n        return oldMomentProto.utcOffset.apply(this, arguments);\n      };\n      /***/\n\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /*\r\n      Meant to be immutable\r\n      */\n\n      var ComponentFootprint =\n      /** @class */\n      function () {\n        function ComponentFootprint(unzonedRange, isAllDay) {\n          this.isAllDay = false; // component can choose to ignore this\n\n          this.unzonedRange = unzonedRange;\n          this.isAllDay = isAllDay;\n        }\n        /*\r\n        Only works for non-open-ended ranges.\r\n        */\n\n\n        ComponentFootprint.prototype.toLegacy = function (calendar) {\n          return {\n            start: calendar.msToMoment(this.unzonedRange.startMs, this.isAllDay),\n            end: calendar.msToMoment(this.unzonedRange.endMs, this.isAllDay)\n          };\n        };\n\n        return ComponentFootprint;\n      }();\n\n      exports.default = ComponentFootprint;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /*\r\n      USAGE:\r\n        import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\r\n      in class:\r\n        on: EmitterInterface['on']\r\n        one: EmitterInterface['one']\r\n        off: EmitterInterface['off']\r\n        trigger: EmitterInterface['trigger']\r\n        triggerWith: EmitterInterface['triggerWith']\r\n        hasHandlers: EmitterInterface['hasHandlers']\r\n      after class:\r\n        EmitterMixin.mixInto(TheClass)\r\n      */\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var Mixin_1 = __webpack_require__(15);\n\n      var EmitterMixin =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(EmitterMixin, _super);\n\n        function EmitterMixin() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // jQuery-ification via $(this) allows a non-DOM object to have\n        // the same event handling capabilities (including namespaces).\n\n\n        EmitterMixin.prototype.on = function (types, handler) {\n          $(this).on(types, this._prepareIntercept(handler));\n          return this; // for chaining\n        };\n\n        EmitterMixin.prototype.one = function (types, handler) {\n          $(this).one(types, this._prepareIntercept(handler));\n          return this; // for chaining\n        };\n\n        EmitterMixin.prototype._prepareIntercept = function (handler) {\n          // handlers are always called with an \"event\" object as their first param.\n          // sneak the `this` context and arguments into the extra parameter object\n          // and forward them on to the original handler.\n          var intercept = function (ev, extra) {\n            return handler.apply(extra.context || this, extra.args || []);\n          }; // mimick jQuery's internal \"proxy\" system (risky, I know)\n          // causing all functions with the same .guid to appear to be the same.\n          // https://github.com/jquery/jquery/blob/2.2.4/src/core.js#L448\n          // this is needed for calling .off with the original non-intercept handler.\n\n\n          if (!handler.guid) {\n            handler.guid = $.guid++;\n          }\n\n          intercept.guid = handler.guid;\n          return intercept;\n        };\n\n        EmitterMixin.prototype.off = function (types, handler) {\n          $(this).off(types, handler);\n          return this; // for chaining\n        };\n\n        EmitterMixin.prototype.trigger = function (types) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          } // pass in \"extra\" info to the intercept\n\n\n          $(this).triggerHandler(types, {\n            args: args\n          });\n          return this; // for chaining\n        };\n\n        EmitterMixin.prototype.triggerWith = function (types, context, args) {\n          // `triggerHandler` is less reliant on the DOM compared to `trigger`.\n          // pass in \"extra\" info to the intercept.\n          $(this).triggerHandler(types, {\n            context: context,\n            args: args\n          });\n          return this; // for chaining\n        };\n\n        EmitterMixin.prototype.hasHandlers = function (type) {\n          var hash = $._data(this, 'events'); // http://blog.jquery.com/2012/08/09/jquery-1-8-released/\n\n\n          return hash && hash[type] && hash[type].length > 0;\n        };\n\n        return EmitterMixin;\n      }(Mixin_1.default);\n\n      exports.default = EmitterMixin;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Interaction =\n      /** @class */\n      function () {\n        function Interaction(component) {\n          this.view = component._getView();\n          this.component = component;\n        }\n\n        Interaction.prototype.opt = function (name) {\n          return this.view.opt(name);\n        };\n\n        Interaction.prototype.end = function () {// subclasses can implement\n        };\n\n        return Interaction;\n      }();\n\n      exports.default = Interaction;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Mixin =\n      /** @class */\n      function () {\n        function Mixin() {}\n\n        Mixin.mixInto = function (destClass) {\n          var _this = this;\n\n          Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            if (!destClass.prototype[name]) {\n              // if destination class doesn't already define it\n              destClass.prototype[name] = _this.prototype[name];\n            }\n          });\n        };\n        /*\r\n        will override existing methods\r\n        TODO: remove! not used anymore\r\n        */\n\n\n        Mixin.mixOver = function (destClass) {\n          var _this = this;\n\n          Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            destClass.prototype[name] = _this.prototype[name];\n          });\n        };\n\n        return Mixin;\n      }();\n\n      exports.default = Mixin;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var UnzonedRange_1 = __webpack_require__(5);\n      /*\r\n      Meant to be immutable\r\n      */\n\n\n      var EventDateProfile =\n      /** @class */\n      function () {\n        function EventDateProfile(start, end, calendar) {\n          this.start = start;\n          this.end = end || null;\n          this.unzonedRange = this.buildUnzonedRange(calendar);\n        }\n        /*\r\n        Needs an EventSource object\r\n        */\n\n\n        EventDateProfile.parse = function (rawProps, source) {\n          var startInput = rawProps.start || rawProps.date;\n          var endInput = rawProps.end;\n\n          if (!startInput) {\n            return false;\n          }\n\n          var calendar = source.calendar;\n          var start = calendar.moment(startInput);\n          var end = endInput ? calendar.moment(endInput) : null;\n          var forcedAllDay = rawProps.allDay;\n          var forceEventDuration = calendar.opt('forceEventDuration');\n\n          if (!start.isValid()) {\n            return false;\n          }\n\n          if (forcedAllDay == null) {\n            forcedAllDay = source.allDayDefault;\n\n            if (forcedAllDay == null) {\n              forcedAllDay = calendar.opt('allDayDefault');\n            }\n          }\n\n          if (forcedAllDay === true) {\n            start.stripTime();\n\n            if (end) {\n              end.stripTime();\n            }\n          } else if (forcedAllDay === false) {\n            if (!start.hasTime()) {\n              start.time(0);\n            }\n\n            if (end && !end.hasTime()) {\n              end.time(0);\n            }\n          }\n\n          if (end && (!end.isValid() || !end.isAfter(start))) {\n            end = null;\n          }\n\n          if (!end && forceEventDuration) {\n            end = calendar.getDefaultEventEnd(!start.hasTime(), start);\n          }\n\n          return new EventDateProfile(start, end, calendar);\n        };\n\n        EventDateProfile.isStandardProp = function (propName) {\n          return propName === 'start' || propName === 'date' || propName === 'end' || propName === 'allDay';\n        };\n\n        EventDateProfile.prototype.isAllDay = function () {\n          return !(this.start.hasTime() || this.end && this.end.hasTime());\n        };\n        /*\r\n        Needs a Calendar object\r\n        */\n\n\n        EventDateProfile.prototype.buildUnzonedRange = function (calendar) {\n          var startMs = this.start.clone().stripZone().valueOf();\n          var endMs = this.getEnd(calendar).stripZone().valueOf();\n          return new UnzonedRange_1.default(startMs, endMs);\n        };\n        /*\r\n        Needs a Calendar object\r\n        */\n\n\n        EventDateProfile.prototype.getEnd = function (calendar) {\n          return this.end ? this.end.clone() : // derive the end from the start and allDay. compute allDay if necessary\n          calendar.getDefaultEventEnd(this.isAllDay(), this.start);\n        };\n\n        return EventDateProfile;\n      }();\n\n      exports.default = EventDateProfile;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var DragListener_1 = __webpack_require__(59);\n      /* Tracks mouse movements over a component and raises events about which hit the mouse is over.\r\n      ------------------------------------------------------------------------------------------------------------------------\r\n      options:\r\n      - subjectEl\r\n      - subjectCenter\r\n      */\n\n\n      var HitDragListener =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(HitDragListener, _super);\n\n        function HitDragListener(component, options) {\n          var _this = _super.call(this, options) || this;\n\n          _this.component = component;\n          return _this;\n        } // Called when drag listening starts (but a real drag has not necessarily began).\n        // ev might be undefined if dragging was started manually.\n\n\n        HitDragListener.prototype.handleInteractionStart = function (ev) {\n          var subjectEl = this.subjectEl;\n          var subjectRect;\n          var origPoint;\n          var point;\n          this.component.hitsNeeded();\n          this.computeScrollBounds(); // for autoscroll\n\n          if (ev) {\n            origPoint = {\n              left: util_1.getEvX(ev),\n              top: util_1.getEvY(ev)\n            };\n            point = origPoint; // constrain the point to bounds of the element being dragged\n\n            if (subjectEl) {\n              subjectRect = util_1.getOuterRect(subjectEl); // used for centering as well\n\n              point = util_1.constrainPoint(point, subjectRect);\n            }\n\n            this.origHit = this.queryHit(point.left, point.top); // treat the center of the subject as the collision point?\n\n            if (subjectEl && this.options.subjectCenter) {\n              // only consider the area the subject overlaps the hit. best for large subjects.\n              // TODO: skip this if hit didn't supply left/right/top/bottom\n              if (this.origHit) {\n                subjectRect = util_1.intersectRects(this.origHit, subjectRect) || subjectRect; // in case there is no intersection\n              }\n\n              point = util_1.getRectCenter(subjectRect);\n            }\n\n            this.coordAdjust = util_1.diffPoints(point, origPoint); // point - origPoint\n          } else {\n            this.origHit = null;\n            this.coordAdjust = null;\n          } // call the super-method. do it after origHit has been computed\n\n\n          _super.prototype.handleInteractionStart.call(this, ev);\n        }; // Called when the actual drag has started\n\n\n        HitDragListener.prototype.handleDragStart = function (ev) {\n          var hit;\n\n          _super.prototype.handleDragStart.call(this, ev); // might be different from this.origHit if the min-distance is large\n\n\n          hit = this.queryHit(util_1.getEvX(ev), util_1.getEvY(ev)); // report the initial hit the mouse is over\n          // especially important if no min-distance and drag starts immediately\n\n          if (hit) {\n            this.handleHitOver(hit);\n          }\n        }; // Called when the drag moves\n\n\n        HitDragListener.prototype.handleDrag = function (dx, dy, ev) {\n          var hit;\n\n          _super.prototype.handleDrag.call(this, dx, dy, ev);\n\n          hit = this.queryHit(util_1.getEvX(ev), util_1.getEvY(ev));\n\n          if (!isHitsEqual(hit, this.hit)) {\n            // a different hit than before?\n            if (this.hit) {\n              this.handleHitOut();\n            }\n\n            if (hit) {\n              this.handleHitOver(hit);\n            }\n          }\n        }; // Called when dragging has been stopped\n\n\n        HitDragListener.prototype.handleDragEnd = function (ev) {\n          this.handleHitDone();\n\n          _super.prototype.handleDragEnd.call(this, ev);\n        }; // Called when a the mouse has just moved over a new hit\n\n\n        HitDragListener.prototype.handleHitOver = function (hit) {\n          var isOrig = isHitsEqual(hit, this.origHit);\n          this.hit = hit;\n          this.trigger('hitOver', this.hit, isOrig, this.origHit);\n        }; // Called when the mouse has just moved out of a hit\n\n\n        HitDragListener.prototype.handleHitOut = function () {\n          if (this.hit) {\n            this.trigger('hitOut', this.hit);\n            this.handleHitDone();\n            this.hit = null;\n          }\n        }; // Called after a hitOut. Also called before a dragStop\n\n\n        HitDragListener.prototype.handleHitDone = function () {\n          if (this.hit) {\n            this.trigger('hitDone', this.hit);\n          }\n        }; // Called when the interaction ends, whether there was a real drag or not\n\n\n        HitDragListener.prototype.handleInteractionEnd = function (ev, isCancelled) {\n          _super.prototype.handleInteractionEnd.call(this, ev, isCancelled);\n\n          this.origHit = null;\n          this.hit = null;\n          this.component.hitsNotNeeded();\n        }; // Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\n\n        HitDragListener.prototype.handleScrollEnd = function () {\n          _super.prototype.handleScrollEnd.call(this); // hits' absolute positions will be in new places after a user's scroll.\n          // HACK for recomputing.\n\n\n          if (this.isDragging) {\n            this.component.releaseHits();\n            this.component.prepareHits();\n          }\n        }; // Gets the hit underneath the coordinates for the given mouse event\n\n\n        HitDragListener.prototype.queryHit = function (left, top) {\n          if (this.coordAdjust) {\n            left += this.coordAdjust.left;\n            top += this.coordAdjust.top;\n          }\n\n          return this.component.queryHit(left, top);\n        };\n\n        return HitDragListener;\n      }(DragListener_1.default);\n\n      exports.default = HitDragListener; // Returns `true` if the hits are identically equal. `false` otherwise. Must be from the same component.\n      // Two null values will be considered equal, as two \"out of the component\" states are the same.\n\n      function isHitsEqual(hit0, hit1) {\n        if (!hit0 && !hit1) {\n          return true;\n        }\n\n        if (hit0 && hit1) {\n          return hit0.component === hit1.component && isHitPropsWithin(hit0, hit1) && isHitPropsWithin(hit1, hit0); // ensures all props are identical\n        }\n\n        return false;\n      } // Returns true if all of subHit's non-standard properties are within superHit\n\n\n      function isHitPropsWithin(subHit, superHit) {\n        for (var propName in subHit) {\n          if (!/^(component|left|right|top|bottom)$/.test(propName)) {\n            if (subHit[propName] !== superHit[propName]) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      }\n      /***/\n\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.version = '3.10.1'; // When introducing internal API incompatibilities (where fullcalendar plugins would break),\n      // the minor version of the calendar should be upped (ex: 2.7.2 -> 2.8.0)\n      // and the below integer should be incremented.\n\n      exports.internalApiVersion = 12;\n\n      var util_1 = __webpack_require__(4);\n\n      exports.applyAll = util_1.applyAll;\n      exports.debounce = util_1.debounce;\n      exports.isInt = util_1.isInt;\n      exports.htmlEscape = util_1.htmlEscape;\n      exports.cssToStr = util_1.cssToStr;\n      exports.proxy = util_1.proxy;\n      exports.capitaliseFirstLetter = util_1.capitaliseFirstLetter;\n      exports.getOuterRect = util_1.getOuterRect;\n      exports.getClientRect = util_1.getClientRect;\n      exports.getContentRect = util_1.getContentRect;\n      exports.getScrollbarWidths = util_1.getScrollbarWidths;\n      exports.preventDefault = util_1.preventDefault;\n      exports.parseFieldSpecs = util_1.parseFieldSpecs;\n      exports.compareByFieldSpecs = util_1.compareByFieldSpecs;\n      exports.compareByFieldSpec = util_1.compareByFieldSpec;\n      exports.flexibleCompare = util_1.flexibleCompare;\n      exports.computeGreatestUnit = util_1.computeGreatestUnit;\n      exports.divideRangeByDuration = util_1.divideRangeByDuration;\n      exports.divideDurationByDuration = util_1.divideDurationByDuration;\n      exports.multiplyDuration = util_1.multiplyDuration;\n      exports.durationHasTime = util_1.durationHasTime;\n      exports.log = util_1.log;\n      exports.warn = util_1.warn;\n      exports.removeExact = util_1.removeExact;\n      exports.intersectRects = util_1.intersectRects;\n      exports.allowSelection = util_1.allowSelection;\n      exports.attrsToStr = util_1.attrsToStr;\n      exports.compareNumbers = util_1.compareNumbers;\n      exports.compensateScroll = util_1.compensateScroll;\n      exports.computeDurationGreatestUnit = util_1.computeDurationGreatestUnit;\n      exports.constrainPoint = util_1.constrainPoint;\n      exports.copyOwnProps = util_1.copyOwnProps;\n      exports.diffByUnit = util_1.diffByUnit;\n      exports.diffDay = util_1.diffDay;\n      exports.diffDayTime = util_1.diffDayTime;\n      exports.diffPoints = util_1.diffPoints;\n      exports.disableCursor = util_1.disableCursor;\n      exports.distributeHeight = util_1.distributeHeight;\n      exports.enableCursor = util_1.enableCursor;\n      exports.firstDefined = util_1.firstDefined;\n      exports.getEvIsTouch = util_1.getEvIsTouch;\n      exports.getEvX = util_1.getEvX;\n      exports.getEvY = util_1.getEvY;\n      exports.getRectCenter = util_1.getRectCenter;\n      exports.getScrollParent = util_1.getScrollParent;\n      exports.hasOwnProp = util_1.hasOwnProp;\n      exports.isArraysEqual = util_1.isArraysEqual;\n      exports.isNativeDate = util_1.isNativeDate;\n      exports.isPrimaryMouseButton = util_1.isPrimaryMouseButton;\n      exports.isTimeString = util_1.isTimeString;\n      exports.matchCellWidths = util_1.matchCellWidths;\n      exports.mergeProps = util_1.mergeProps;\n      exports.preventSelection = util_1.preventSelection;\n      exports.removeMatching = util_1.removeMatching;\n      exports.stripHtmlEntities = util_1.stripHtmlEntities;\n      exports.subtractInnerElHeight = util_1.subtractInnerElHeight;\n      exports.uncompensateScroll = util_1.uncompensateScroll;\n      exports.undistributeHeight = util_1.undistributeHeight;\n      exports.dayIDs = util_1.dayIDs;\n      exports.unitsDesc = util_1.unitsDesc;\n\n      var date_formatting_1 = __webpack_require__(49);\n\n      exports.formatDate = date_formatting_1.formatDate;\n      exports.formatRange = date_formatting_1.formatRange;\n      exports.queryMostGranularFormatUnit = date_formatting_1.queryMostGranularFormatUnit;\n\n      var locale_1 = __webpack_require__(32);\n\n      exports.datepickerLocale = locale_1.datepickerLocale;\n      exports.locale = locale_1.locale;\n      exports.getMomentLocaleData = locale_1.getMomentLocaleData;\n      exports.populateInstanceComputableOptions = locale_1.populateInstanceComputableOptions;\n\n      var util_2 = __webpack_require__(19);\n\n      exports.eventDefsToEventInstances = util_2.eventDefsToEventInstances;\n      exports.eventFootprintToComponentFootprint = util_2.eventFootprintToComponentFootprint;\n      exports.eventInstanceToEventRange = util_2.eventInstanceToEventRange;\n      exports.eventInstanceToUnzonedRange = util_2.eventInstanceToUnzonedRange;\n      exports.eventRangeToEventFootprint = util_2.eventRangeToEventFootprint;\n\n      var moment_ext_1 = __webpack_require__(11);\n\n      exports.moment = moment_ext_1.default;\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      exports.EmitterMixin = EmitterMixin_1.default;\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      exports.ListenerMixin = ListenerMixin_1.default;\n\n      var Model_1 = __webpack_require__(51);\n\n      exports.Model = Model_1.default;\n\n      var Constraints_1 = __webpack_require__(217);\n\n      exports.Constraints = Constraints_1.default;\n\n      var DateProfileGenerator_1 = __webpack_require__(55);\n\n      exports.DateProfileGenerator = DateProfileGenerator_1.default;\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      exports.UnzonedRange = UnzonedRange_1.default;\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      exports.ComponentFootprint = ComponentFootprint_1.default;\n\n      var BusinessHourGenerator_1 = __webpack_require__(218);\n\n      exports.BusinessHourGenerator = BusinessHourGenerator_1.default;\n\n      var EventPeriod_1 = __webpack_require__(219);\n\n      exports.EventPeriod = EventPeriod_1.default;\n\n      var EventManager_1 = __webpack_require__(220);\n\n      exports.EventManager = EventManager_1.default;\n\n      var EventDef_1 = __webpack_require__(37);\n\n      exports.EventDef = EventDef_1.default;\n\n      var EventDefMutation_1 = __webpack_require__(39);\n\n      exports.EventDefMutation = EventDefMutation_1.default;\n\n      var EventDefParser_1 = __webpack_require__(36);\n\n      exports.EventDefParser = EventDefParser_1.default;\n\n      var EventInstance_1 = __webpack_require__(53);\n\n      exports.EventInstance = EventInstance_1.default;\n\n      var EventRange_1 = __webpack_require__(50);\n\n      exports.EventRange = EventRange_1.default;\n\n      var RecurringEventDef_1 = __webpack_require__(54);\n\n      exports.RecurringEventDef = RecurringEventDef_1.default;\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      exports.SingleEventDef = SingleEventDef_1.default;\n\n      var EventDefDateMutation_1 = __webpack_require__(40);\n\n      exports.EventDefDateMutation = EventDefDateMutation_1.default;\n\n      var EventDateProfile_1 = __webpack_require__(16);\n\n      exports.EventDateProfile = EventDateProfile_1.default;\n\n      var EventSourceParser_1 = __webpack_require__(38);\n\n      exports.EventSourceParser = EventSourceParser_1.default;\n\n      var EventSource_1 = __webpack_require__(6);\n\n      exports.EventSource = EventSource_1.default;\n\n      var ThemeRegistry_1 = __webpack_require__(57);\n\n      exports.defineThemeSystem = ThemeRegistry_1.defineThemeSystem;\n      exports.getThemeSystemClass = ThemeRegistry_1.getThemeSystemClass;\n\n      var EventInstanceGroup_1 = __webpack_require__(20);\n\n      exports.EventInstanceGroup = EventInstanceGroup_1.default;\n\n      var ArrayEventSource_1 = __webpack_require__(56);\n\n      exports.ArrayEventSource = ArrayEventSource_1.default;\n\n      var FuncEventSource_1 = __webpack_require__(223);\n\n      exports.FuncEventSource = FuncEventSource_1.default;\n\n      var JsonFeedEventSource_1 = __webpack_require__(224);\n\n      exports.JsonFeedEventSource = JsonFeedEventSource_1.default;\n\n      var EventFootprint_1 = __webpack_require__(34);\n\n      exports.EventFootprint = EventFootprint_1.default;\n\n      var Class_1 = __webpack_require__(35);\n\n      exports.Class = Class_1.default;\n\n      var Mixin_1 = __webpack_require__(15);\n\n      exports.Mixin = Mixin_1.default;\n\n      var CoordCache_1 = __webpack_require__(58);\n\n      exports.CoordCache = CoordCache_1.default;\n\n      var Iterator_1 = __webpack_require__(225);\n\n      exports.Iterator = Iterator_1.default;\n\n      var DragListener_1 = __webpack_require__(59);\n\n      exports.DragListener = DragListener_1.default;\n\n      var HitDragListener_1 = __webpack_require__(17);\n\n      exports.HitDragListener = HitDragListener_1.default;\n\n      var MouseFollower_1 = __webpack_require__(226);\n\n      exports.MouseFollower = MouseFollower_1.default;\n\n      var ParsableModelMixin_1 = __webpack_require__(52);\n\n      exports.ParsableModelMixin = ParsableModelMixin_1.default;\n\n      var Popover_1 = __webpack_require__(227);\n\n      exports.Popover = Popover_1.default;\n\n      var Promise_1 = __webpack_require__(21);\n\n      exports.Promise = Promise_1.default;\n\n      var TaskQueue_1 = __webpack_require__(228);\n\n      exports.TaskQueue = TaskQueue_1.default;\n\n      var RenderQueue_1 = __webpack_require__(229);\n\n      exports.RenderQueue = RenderQueue_1.default;\n\n      var Scroller_1 = __webpack_require__(41);\n\n      exports.Scroller = Scroller_1.default;\n\n      var Theme_1 = __webpack_require__(22);\n\n      exports.Theme = Theme_1.default;\n\n      var Component_1 = __webpack_require__(230);\n\n      exports.Component = Component_1.default;\n\n      var DateComponent_1 = __webpack_require__(231);\n\n      exports.DateComponent = DateComponent_1.default;\n\n      var InteractiveDateComponent_1 = __webpack_require__(42);\n\n      exports.InteractiveDateComponent = InteractiveDateComponent_1.default;\n\n      var Calendar_1 = __webpack_require__(232);\n\n      exports.Calendar = Calendar_1.default;\n\n      var View_1 = __webpack_require__(43);\n\n      exports.View = View_1.default;\n\n      var ViewRegistry_1 = __webpack_require__(24);\n\n      exports.defineView = ViewRegistry_1.defineView;\n      exports.getViewConfig = ViewRegistry_1.getViewConfig;\n\n      var DayTableMixin_1 = __webpack_require__(60);\n\n      exports.DayTableMixin = DayTableMixin_1.default;\n\n      var BusinessHourRenderer_1 = __webpack_require__(61);\n\n      exports.BusinessHourRenderer = BusinessHourRenderer_1.default;\n\n      var EventRenderer_1 = __webpack_require__(44);\n\n      exports.EventRenderer = EventRenderer_1.default;\n\n      var FillRenderer_1 = __webpack_require__(62);\n\n      exports.FillRenderer = FillRenderer_1.default;\n\n      var HelperRenderer_1 = __webpack_require__(63);\n\n      exports.HelperRenderer = HelperRenderer_1.default;\n\n      var ExternalDropping_1 = __webpack_require__(233);\n\n      exports.ExternalDropping = ExternalDropping_1.default;\n\n      var EventResizing_1 = __webpack_require__(234);\n\n      exports.EventResizing = EventResizing_1.default;\n\n      var EventPointing_1 = __webpack_require__(64);\n\n      exports.EventPointing = EventPointing_1.default;\n\n      var EventDragging_1 = __webpack_require__(235);\n\n      exports.EventDragging = EventDragging_1.default;\n\n      var DateSelecting_1 = __webpack_require__(236);\n\n      exports.DateSelecting = DateSelecting_1.default;\n\n      var DateClicking_1 = __webpack_require__(237);\n\n      exports.DateClicking = DateClicking_1.default;\n\n      var Interaction_1 = __webpack_require__(14);\n\n      exports.Interaction = Interaction_1.default;\n\n      var StandardInteractionsMixin_1 = __webpack_require__(65);\n\n      exports.StandardInteractionsMixin = StandardInteractionsMixin_1.default;\n\n      var AgendaView_1 = __webpack_require__(238);\n\n      exports.AgendaView = AgendaView_1.default;\n\n      var TimeGrid_1 = __webpack_require__(239);\n\n      exports.TimeGrid = TimeGrid_1.default;\n\n      var TimeGridEventRenderer_1 = __webpack_require__(240);\n\n      exports.TimeGridEventRenderer = TimeGridEventRenderer_1.default;\n\n      var TimeGridFillRenderer_1 = __webpack_require__(242);\n\n      exports.TimeGridFillRenderer = TimeGridFillRenderer_1.default;\n\n      var TimeGridHelperRenderer_1 = __webpack_require__(241);\n\n      exports.TimeGridHelperRenderer = TimeGridHelperRenderer_1.default;\n\n      var DayGrid_1 = __webpack_require__(66);\n\n      exports.DayGrid = DayGrid_1.default;\n\n      var DayGridEventRenderer_1 = __webpack_require__(243);\n\n      exports.DayGridEventRenderer = DayGridEventRenderer_1.default;\n\n      var DayGridFillRenderer_1 = __webpack_require__(245);\n\n      exports.DayGridFillRenderer = DayGridFillRenderer_1.default;\n\n      var DayGridHelperRenderer_1 = __webpack_require__(244);\n\n      exports.DayGridHelperRenderer = DayGridHelperRenderer_1.default;\n\n      var BasicView_1 = __webpack_require__(67);\n\n      exports.BasicView = BasicView_1.default;\n\n      var BasicViewDateProfileGenerator_1 = __webpack_require__(68);\n\n      exports.BasicViewDateProfileGenerator = BasicViewDateProfileGenerator_1.default;\n\n      var MonthView_1 = __webpack_require__(246);\n\n      exports.MonthView = MonthView_1.default;\n\n      var MonthViewDateProfileGenerator_1 = __webpack_require__(247);\n\n      exports.MonthViewDateProfileGenerator = MonthViewDateProfileGenerator_1.default;\n\n      var ListView_1 = __webpack_require__(248);\n\n      exports.ListView = ListView_1.default;\n\n      var ListEventPointing_1 = __webpack_require__(250);\n\n      exports.ListEventPointing = ListEventPointing_1.default;\n\n      var ListEventRenderer_1 = __webpack_require__(249);\n\n      exports.ListEventRenderer = ListEventRenderer_1.default;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventRange_1 = __webpack_require__(50);\n\n      var EventFootprint_1 = __webpack_require__(34);\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      function eventDefsToEventInstances(eventDefs, unzonedRange) {\n        var eventInstances = [];\n        var i;\n\n        for (i = 0; i < eventDefs.length; i++) {\n          eventInstances.push.apply(eventInstances, // append\n          eventDefs[i].buildInstances(unzonedRange));\n        }\n\n        return eventInstances;\n      }\n\n      exports.eventDefsToEventInstances = eventDefsToEventInstances;\n\n      function eventInstanceToEventRange(eventInstance) {\n        return new EventRange_1.default(eventInstance.dateProfile.unzonedRange, eventInstance.def, eventInstance);\n      }\n\n      exports.eventInstanceToEventRange = eventInstanceToEventRange;\n\n      function eventRangeToEventFootprint(eventRange) {\n        return new EventFootprint_1.default(new ComponentFootprint_1.default(eventRange.unzonedRange, eventRange.eventDef.isAllDay()), eventRange.eventDef, eventRange.eventInstance // might not exist\n        );\n      }\n\n      exports.eventRangeToEventFootprint = eventRangeToEventFootprint;\n\n      function eventInstanceToUnzonedRange(eventInstance) {\n        return eventInstance.dateProfile.unzonedRange;\n      }\n\n      exports.eventInstanceToUnzonedRange = eventInstanceToUnzonedRange;\n\n      function eventFootprintToComponentFootprint(eventFootprint) {\n        return eventFootprint.componentFootprint;\n      }\n\n      exports.eventFootprintToComponentFootprint = eventFootprintToComponentFootprint;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var util_1 = __webpack_require__(19);\n\n      var EventRange_1 = __webpack_require__(50);\n      /*\r\n      It's expected that there will be at least one EventInstance,\r\n      OR that an explicitEventDef is assigned.\r\n      */\n\n\n      var EventInstanceGroup =\n      /** @class */\n      function () {\n        function EventInstanceGroup(eventInstances) {\n          this.eventInstances = eventInstances || [];\n        }\n\n        EventInstanceGroup.prototype.getAllEventRanges = function (constraintRange) {\n          if (constraintRange) {\n            return this.sliceNormalRenderRanges(constraintRange);\n          } else {\n            return this.eventInstances.map(util_1.eventInstanceToEventRange);\n          }\n        };\n\n        EventInstanceGroup.prototype.sliceRenderRanges = function (constraintRange) {\n          if (this.isInverse()) {\n            return this.sliceInverseRenderRanges(constraintRange);\n          } else {\n            return this.sliceNormalRenderRanges(constraintRange);\n          }\n        };\n\n        EventInstanceGroup.prototype.sliceNormalRenderRanges = function (constraintRange) {\n          var eventInstances = this.eventInstances;\n          var i;\n          var eventInstance;\n          var slicedRange;\n          var slicedEventRanges = [];\n\n          for (i = 0; i < eventInstances.length; i++) {\n            eventInstance = eventInstances[i];\n            slicedRange = eventInstance.dateProfile.unzonedRange.intersect(constraintRange);\n\n            if (slicedRange) {\n              slicedEventRanges.push(new EventRange_1.default(slicedRange, eventInstance.def, eventInstance));\n            }\n          }\n\n          return slicedEventRanges;\n        };\n\n        EventInstanceGroup.prototype.sliceInverseRenderRanges = function (constraintRange) {\n          var unzonedRanges = this.eventInstances.map(util_1.eventInstanceToUnzonedRange);\n          var ownerDef = this.getEventDef();\n          unzonedRanges = UnzonedRange_1.default.invertRanges(unzonedRanges, constraintRange);\n          return unzonedRanges.map(function (unzonedRange) {\n            return new EventRange_1.default(unzonedRange, ownerDef); // don't give an EventInstance\n          });\n        };\n\n        EventInstanceGroup.prototype.isInverse = function () {\n          return this.getEventDef().hasInverseRendering();\n        };\n\n        EventInstanceGroup.prototype.getEventDef = function () {\n          return this.explicitEventDef || this.eventInstances[0].def;\n        };\n\n        return EventInstanceGroup;\n      }();\n\n      exports.default = EventInstanceGroup;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var PromiseStub = {\n        construct: function (executor) {\n          var deferred = $.Deferred();\n          var promise = deferred.promise();\n\n          if (typeof executor === 'function') {\n            executor(function (val) {\n              deferred.resolve(val);\n              attachImmediatelyResolvingThen(promise, val);\n            }, function () {\n              deferred.reject();\n              attachImmediatelyRejectingThen(promise);\n            });\n          }\n\n          return promise;\n        },\n        resolve: function (val) {\n          var deferred = $.Deferred().resolve(val);\n          var promise = deferred.promise();\n          attachImmediatelyResolvingThen(promise, val);\n          return promise;\n        },\n        reject: function () {\n          var deferred = $.Deferred().reject();\n          var promise = deferred.promise();\n          attachImmediatelyRejectingThen(promise);\n          return promise;\n        }\n      };\n      exports.default = PromiseStub;\n\n      function attachImmediatelyResolvingThen(promise, val) {\n        promise.then = function (onResolve) {\n          if (typeof onResolve === 'function') {\n            return PromiseStub.resolve(onResolve(val));\n          }\n\n          return promise;\n        };\n      }\n\n      function attachImmediatelyRejectingThen(promise) {\n        promise.then = function (onResolve, onReject) {\n          if (typeof onReject === 'function') {\n            onReject();\n          }\n\n          return promise;\n        };\n      }\n      /***/\n\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var Theme =\n      /** @class */\n      function () {\n        function Theme(optionsManager) {\n          this.optionsManager = optionsManager;\n          this.processIconOverride();\n        }\n\n        Theme.prototype.processIconOverride = function () {\n          if (this.iconOverrideOption) {\n            this.setIconOverride(this.optionsManager.get(this.iconOverrideOption));\n          }\n        };\n\n        Theme.prototype.setIconOverride = function (iconOverrideHash) {\n          var iconClassesCopy;\n          var buttonName;\n\n          if ($.isPlainObject(iconOverrideHash)) {\n            iconClassesCopy = $.extend({}, this.iconClasses);\n\n            for (buttonName in iconOverrideHash) {\n              iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n\n            this.iconClasses = iconClassesCopy;\n          } else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n          }\n        };\n\n        Theme.prototype.applyIconOverridePrefix = function (className) {\n          var prefix = this.iconOverridePrefix;\n\n          if (prefix && className.indexOf(prefix) !== 0) {\n            // if not already present\n            className = prefix + className;\n          }\n\n          return className;\n        };\n\n        Theme.prototype.getClass = function (key) {\n          return this.classes[key] || '';\n        };\n\n        Theme.prototype.getIconClass = function (buttonName) {\n          var className = this.iconClasses[buttonName];\n\n          if (className) {\n            return this.baseIconClass + ' ' + className;\n          }\n\n          return '';\n        };\n\n        Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n          var className;\n\n          if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n\n            if (className) {\n              return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className);\n            }\n          }\n\n          return '';\n        };\n\n        return Theme;\n      }();\n\n      exports.default = Theme;\n      Theme.prototype.classes = {};\n      Theme.prototype.iconClasses = {};\n      Theme.prototype.baseIconClass = '';\n      Theme.prototype.iconOverridePrefix = '';\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var exportHooks = __webpack_require__(18);\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      exportHooks.touchMouseIgnoreWait = 500;\n      var globalEmitter = null;\n      var neededCount = 0;\n      /*\r\n      Listens to document and window-level user-interaction events, like touch events and mouse events,\r\n      and fires these events as-is to whoever is observing a GlobalEmitter.\r\n      Best when used as a singleton via GlobalEmitter.get()\r\n      \n      Normalizes mouse/touch events. For examples:\r\n      - ignores the the simulated mouse events that happen after a quick tap: mousemove+mousedown+mouseup+click\r\n      - compensates for various buggy scenarios where a touchend does not fire\r\n      */\n\n      var GlobalEmitter =\n      /** @class */\n      function () {\n        function GlobalEmitter() {\n          this.isTouching = false;\n          this.mouseIgnoreDepth = 0;\n        } // gets the singleton\n\n\n        GlobalEmitter.get = function () {\n          if (!globalEmitter) {\n            globalEmitter = new GlobalEmitter();\n            globalEmitter.bind();\n          }\n\n          return globalEmitter;\n        }; // called when an object knows it will need a GlobalEmitter in the near future.\n\n\n        GlobalEmitter.needed = function () {\n          GlobalEmitter.get(); // ensures globalEmitter\n\n          neededCount++;\n        }; // called when the object that originally called needed() doesn't need a GlobalEmitter anymore.\n\n\n        GlobalEmitter.unneeded = function () {\n          neededCount--;\n\n          if (!neededCount) {\n            // nobody else needs it\n            globalEmitter.unbind();\n            globalEmitter = null;\n          }\n        };\n\n        GlobalEmitter.prototype.bind = function () {\n          var _this = this;\n\n          this.listenTo($(document), {\n            touchstart: this.handleTouchStart,\n            touchcancel: this.handleTouchCancel,\n            touchend: this.handleTouchEnd,\n            mousedown: this.handleMouseDown,\n            mousemove: this.handleMouseMove,\n            mouseup: this.handleMouseUp,\n            click: this.handleClick,\n            selectstart: this.handleSelectStart,\n            contextmenu: this.handleContextMenu\n          }); // because we need to call preventDefault\n          // because https://www.chromestatus.com/features/5093566007214080\n          // TODO: investigate performance because this is a global handler\n\n          window.addEventListener('touchmove', this.handleTouchMoveProxy = function (ev) {\n            _this.handleTouchMove($.Event(ev));\n          }, {\n            passive: false\n          } // allows preventDefault()\n          ); // attach a handler to get called when ANY scroll action happens on the page.\n          // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n          // http://stackoverflow.com/a/32954565/96342\n\n          window.addEventListener('scroll', this.handleScrollProxy = function (ev) {\n            _this.handleScroll($.Event(ev));\n          }, true // useCapture\n          );\n        };\n\n        GlobalEmitter.prototype.unbind = function () {\n          this.stopListeningTo($(document));\n          window.removeEventListener('touchmove', this.handleTouchMoveProxy, {\n            passive: false\n          } // use same options as addEventListener\n          );\n          window.removeEventListener('scroll', this.handleScrollProxy, true // useCapture\n          );\n        }; // Touch Handlers\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        GlobalEmitter.prototype.handleTouchStart = function (ev) {\n          // if a previous touch interaction never ended with a touchend, then implicitly end it,\n          // but since a new touch interaction is about to begin, don't start the mouse ignore period.\n          this.stopTouch(ev, true); // skipMouseIgnore=true\n\n          this.isTouching = true;\n          this.trigger('touchstart', ev);\n        };\n\n        GlobalEmitter.prototype.handleTouchMove = function (ev) {\n          if (this.isTouching) {\n            this.trigger('touchmove', ev);\n          }\n        };\n\n        GlobalEmitter.prototype.handleTouchCancel = function (ev) {\n          if (this.isTouching) {\n            this.trigger('touchcancel', ev); // Have touchcancel fire an artificial touchend. That way, handlers won't need to listen to both.\n            // If touchend fires later, it won't have any effect b/c isTouching will be false.\n\n            this.stopTouch(ev);\n          }\n        };\n\n        GlobalEmitter.prototype.handleTouchEnd = function (ev) {\n          this.stopTouch(ev);\n        }; // Mouse Handlers\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        GlobalEmitter.prototype.handleMouseDown = function (ev) {\n          if (!this.shouldIgnoreMouse()) {\n            this.trigger('mousedown', ev);\n          }\n        };\n\n        GlobalEmitter.prototype.handleMouseMove = function (ev) {\n          if (!this.shouldIgnoreMouse()) {\n            this.trigger('mousemove', ev);\n          }\n        };\n\n        GlobalEmitter.prototype.handleMouseUp = function (ev) {\n          if (!this.shouldIgnoreMouse()) {\n            this.trigger('mouseup', ev);\n          }\n        };\n\n        GlobalEmitter.prototype.handleClick = function (ev) {\n          if (!this.shouldIgnoreMouse()) {\n            this.trigger('click', ev);\n          }\n        }; // Misc Handlers\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        GlobalEmitter.prototype.handleSelectStart = function (ev) {\n          this.trigger('selectstart', ev);\n        };\n\n        GlobalEmitter.prototype.handleContextMenu = function (ev) {\n          this.trigger('contextmenu', ev);\n        };\n\n        GlobalEmitter.prototype.handleScroll = function (ev) {\n          this.trigger('scroll', ev);\n        }; // Utils\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        GlobalEmitter.prototype.stopTouch = function (ev, skipMouseIgnore) {\n          if (skipMouseIgnore === void 0) {\n            skipMouseIgnore = false;\n          }\n\n          if (this.isTouching) {\n            this.isTouching = false;\n            this.trigger('touchend', ev);\n\n            if (!skipMouseIgnore) {\n              this.startTouchMouseIgnore();\n            }\n          }\n        };\n\n        GlobalEmitter.prototype.startTouchMouseIgnore = function () {\n          var _this = this;\n\n          var wait = exportHooks.touchMouseIgnoreWait;\n\n          if (wait) {\n            this.mouseIgnoreDepth++;\n            setTimeout(function () {\n              _this.mouseIgnoreDepth--;\n            }, wait);\n          }\n        };\n\n        GlobalEmitter.prototype.shouldIgnoreMouse = function () {\n          return this.isTouching || Boolean(this.mouseIgnoreDepth);\n        };\n\n        return GlobalEmitter;\n      }();\n\n      exports.default = GlobalEmitter;\n      ListenerMixin_1.default.mixInto(GlobalEmitter);\n      EmitterMixin_1.default.mixInto(GlobalEmitter);\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var exportHooks = __webpack_require__(18);\n\n      exports.viewHash = {};\n      exportHooks.views = exports.viewHash;\n\n      function defineView(viewName, viewConfig) {\n        exports.viewHash[viewName] = viewConfig;\n      }\n\n      exports.defineView = defineView;\n\n      function getViewConfig(viewName) {\n        return exports.viewHash[viewName];\n      }\n\n      exports.getViewConfig = getViewConfig;\n      /***/\n    },,,,,,,,\n    /* 25 */\n\n    /* 26 */\n\n    /* 27 */\n\n    /* 28 */\n\n    /* 29 */\n\n    /* 30 */\n\n    /* 31 */\n\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var exportHooks = __webpack_require__(18);\n\n      var options_1 = __webpack_require__(33);\n\n      var util_1 = __webpack_require__(4);\n\n      exports.localeOptionHash = {};\n      exportHooks.locales = exports.localeOptionHash; // NOTE: can't guarantee any of these computations will run because not every locale has datepicker\n      // configs, so make sure there are English fallbacks for these in the defaults file.\n\n      var dpComputableOptions = {\n        buttonText: function (dpOptions) {\n          return {\n            // the translations sometimes wrongly contain HTML entities\n            prev: util_1.stripHtmlEntities(dpOptions.prevText),\n            next: util_1.stripHtmlEntities(dpOptions.nextText),\n            today: util_1.stripHtmlEntities(dpOptions.currentText)\n          };\n        },\n        // Produces format strings like \"MMMM YYYY\" -> \"September 2014\"\n        monthYearFormat: function (dpOptions) {\n          return dpOptions.showMonthAfterYear ? 'YYYY[' + dpOptions.yearSuffix + '] MMMM' : 'MMMM YYYY[' + dpOptions.yearSuffix + ']';\n        }\n      };\n      var momComputableOptions = {\n        // Produces format strings like \"ddd M/D\" -> \"Fri 9/15\"\n        dayOfMonthFormat: function (momOptions, fcOptions) {\n          var format = momOptions.longDateFormat('l'); // for the format like \"M/D/YYYY\"\n          // strip the year off the edge, as well as other misc non-whitespace chars\n\n          format = format.replace(/^Y+[^\\w\\s]*|[^\\w\\s]*Y+$/g, '');\n\n          if (fcOptions.isRTL) {\n            format += ' ddd'; // for RTL, add day-of-week to end\n          } else {\n            format = 'ddd ' + format; // for LTR, add day-of-week to beginning\n          }\n\n          return format;\n        },\n        // Produces format strings like \"h:mma\" -> \"6:00pm\"\n        mediumTimeFormat: function (momOptions) {\n          return momOptions.longDateFormat('LT').replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n        },\n        // Produces format strings like \"h(:mm)a\" -> \"6pm\" / \"6:30pm\"\n        smallTimeFormat: function (momOptions) {\n          return momOptions.longDateFormat('LT').replace(':mm', '(:mm)').replace(/(\\Wmm)$/, '($1)') // like above, but for foreign locales\n          .replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n        },\n        // Produces format strings like \"h(:mm)t\" -> \"6p\" / \"6:30p\"\n        extraSmallTimeFormat: function (momOptions) {\n          return momOptions.longDateFormat('LT').replace(':mm', '(:mm)').replace(/(\\Wmm)$/, '($1)') // like above, but for foreign locales\n          .replace(/\\s*a$/i, 't'); // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand\n        },\n        // Produces format strings like \"ha\" / \"H\" -> \"6pm\" / \"18\"\n        hourFormat: function (momOptions) {\n          return momOptions.longDateFormat('LT').replace(':mm', '').replace(/(\\Wmm)$/, '') // like above, but for foreign locales\n          .replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n        },\n        // Produces format strings like \"h:mm\" -> \"6:30\" (with no AM/PM)\n        noMeridiemTimeFormat: function (momOptions) {\n          return momOptions.longDateFormat('LT').replace(/\\s*a$/i, ''); // remove trailing AM/PM\n        }\n      }; // options that should be computed off live calendar options (considers override options)\n      // TODO: best place for this? related to locale?\n      // TODO: flipping text based on isRTL is a bad idea because the CSS `direction` might want to handle it\n\n      var instanceComputableOptions = {\n        // Produces format strings for results like \"Mo 16\"\n        smallDayDateFormat: function (options) {\n          return options.isRTL ? 'D dd' : 'dd D';\n        },\n        // Produces format strings for results like \"Wk 5\"\n        weekFormat: function (options) {\n          return options.isRTL ? 'w[ ' + options.weekNumberTitle + ']' : '[' + options.weekNumberTitle + ' ]w';\n        },\n        // Produces format strings for results like \"Wk5\"\n        smallWeekFormat: function (options) {\n          return options.isRTL ? 'w[' + options.weekNumberTitle + ']' : '[' + options.weekNumberTitle + ']w';\n        }\n      }; // TODO: make these computable properties in optionsManager\n\n      function populateInstanceComputableOptions(options) {\n        $.each(instanceComputableOptions, function (name, func) {\n          if (options[name] == null) {\n            options[name] = func(options);\n          }\n        });\n      }\n\n      exports.populateInstanceComputableOptions = populateInstanceComputableOptions; // Initialize jQuery UI datepicker translations while using some of the translations\n      // Will set this as the default locales for datepicker.\n\n      function datepickerLocale(localeCode, dpLocaleCode, dpOptions) {\n        // get the FullCalendar internal option hash for this locale. create if necessary\n        var fcOptions = exports.localeOptionHash[localeCode] || (exports.localeOptionHash[localeCode] = {}); // transfer some simple options from datepicker to fc\n\n        fcOptions.isRTL = dpOptions.isRTL;\n        fcOptions.weekNumberTitle = dpOptions.weekHeader; // compute some more complex options from datepicker\n\n        $.each(dpComputableOptions, function (name, func) {\n          fcOptions[name] = func(dpOptions);\n        });\n        var jqDatePicker = $.datepicker; // is jQuery UI Datepicker is on the page?\n\n        if (jqDatePicker) {\n          // Register the locale data.\n          // FullCalendar and MomentJS use locale codes like \"pt-br\" but Datepicker\n          // does it like \"pt-BR\" or if it doesn't have the locale, maybe just \"pt\".\n          // Make an alias so the locale can be referenced either way.\n          jqDatePicker.regional[dpLocaleCode] = jqDatePicker.regional[localeCode] = // alias\n          dpOptions; // Alias 'en' to the default locale data. Do this every time.\n\n          jqDatePicker.regional.en = jqDatePicker.regional['']; // Set as Datepicker's global defaults.\n\n          jqDatePicker.setDefaults(dpOptions);\n        }\n      }\n\n      exports.datepickerLocale = datepickerLocale; // Sets FullCalendar-specific translations. Will set the locales as the global default.\n\n      function locale(localeCode, newFcOptions) {\n        var fcOptions;\n        var momOptions; // get the FullCalendar internal option hash for this locale. create if necessary\n\n        fcOptions = exports.localeOptionHash[localeCode] || (exports.localeOptionHash[localeCode] = {}); // provided new options for this locales? merge them in\n\n        if (newFcOptions) {\n          fcOptions = exports.localeOptionHash[localeCode] = options_1.mergeOptions([fcOptions, newFcOptions]);\n        } // compute locale options that weren't defined.\n        // always do this. newFcOptions can be undefined when initializing from i18n file,\n        // so no way to tell if this is an initialization or a default-setting.\n\n\n        momOptions = getMomentLocaleData(localeCode); // will fall back to en\n\n        $.each(momComputableOptions, function (name, func) {\n          if (fcOptions[name] == null) {\n            fcOptions[name] = func(momOptions, fcOptions);\n          }\n        }); // set it as the default locale for FullCalendar\n\n        options_1.globalDefaults.locale = localeCode;\n      }\n\n      exports.locale = locale; // Returns moment's internal locale data. If doesn't exist, returns English.\n\n      function getMomentLocaleData(localeCode) {\n        return moment.localeData(localeCode) || moment.localeData('en');\n      }\n\n      exports.getMomentLocaleData = getMomentLocaleData; // Initialize English by forcing computation of moment-derived options.\n      // Also, sets it as the default.\n\n      locale('en', options_1.englishDefaults);\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var util_1 = __webpack_require__(4);\n\n      exports.globalDefaults = {\n        titleRangeSeparator: ' \\u2013 ',\n        monthYearFormat: 'MMMM YYYY',\n        defaultTimedEventDuration: '02:00:00',\n        defaultAllDayEventDuration: {\n          days: 1\n        },\n        forceEventDuration: false,\n        nextDayThreshold: '09:00:00',\n        // display\n        columnHeader: true,\n        defaultView: 'month',\n        aspectRatio: 1.35,\n        header: {\n          left: 'title',\n          center: '',\n          right: 'today prev,next'\n        },\n        weekends: true,\n        weekNumbers: false,\n        weekNumberTitle: 'W',\n        weekNumberCalculation: 'local',\n        // editable: false,\n        // nowIndicator: false,\n        scrollTime: '06:00:00',\n        minTime: '00:00:00',\n        maxTime: '24:00:00',\n        showNonCurrentDates: true,\n        // event ajax\n        lazyFetching: true,\n        startParam: 'start',\n        endParam: 'end',\n        timezoneParam: 'timezone',\n        timezone: false,\n        // allDayDefault: undefined,\n        // locale\n        locale: null,\n        isRTL: false,\n        buttonText: {\n          prev: 'prev',\n          next: 'next',\n          prevYear: 'prev year',\n          nextYear: 'next year',\n          year: 'year',\n          today: 'today',\n          month: 'month',\n          week: 'week',\n          day: 'day'\n        },\n        // buttonIcons: null,\n        allDayText: 'all-day',\n        // allows setting a min-height to the event segment to prevent short events overlapping each other\n        agendaEventMinHeight: 0,\n        // jquery-ui theming\n        theme: false,\n        // themeButtonIcons: null,\n        // eventResizableFromStart: false,\n        dragOpacity: .75,\n        dragRevertDuration: 500,\n        dragScroll: true,\n        // selectable: false,\n        unselectAuto: true,\n        // selectMinDistance: 0,\n        dropAccept: '*',\n        eventOrder: 'title',\n        // eventRenderWait: null,\n        eventLimit: false,\n        eventLimitText: 'more',\n        eventLimitClick: 'popover',\n        dayPopoverFormat: 'LL',\n        handleWindowResize: true,\n        windowResizeDelay: 100,\n        longPressDelay: 1000\n      };\n      exports.englishDefaults = {\n        dayPopoverFormat: 'dddd, MMMM D'\n      };\n      exports.rtlDefaults = {\n        header: {\n          left: 'next,prev today',\n          center: '',\n          right: 'title'\n        },\n        buttonIcons: {\n          prev: 'right-single-arrow',\n          next: 'left-single-arrow',\n          prevYear: 'right-double-arrow',\n          nextYear: 'left-double-arrow'\n        },\n        themeButtonIcons: {\n          prev: 'circle-triangle-e',\n          next: 'circle-triangle-w',\n          nextYear: 'seek-prev',\n          prevYear: 'seek-next'\n        }\n      };\n      var complexOptions = ['header', 'footer', 'buttonText', 'buttonIcons', 'themeButtonIcons']; // Merges an array of option objects into a single object\n\n      function mergeOptions(optionObjs) {\n        return util_1.mergeProps(optionObjs, complexOptions);\n      }\n\n      exports.mergeOptions = mergeOptions;\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventFootprint =\n      /** @class */\n      function () {\n        function EventFootprint(componentFootprint, eventDef, eventInstance) {\n          this.componentFootprint = componentFootprint;\n          this.eventDef = eventDef;\n\n          if (eventInstance) {\n            this.eventInstance = eventInstance;\n          }\n        }\n\n        EventFootprint.prototype.getEventLegacy = function () {\n          return (this.eventInstance || this.eventDef).toLegacy();\n        };\n\n        return EventFootprint;\n      }();\n\n      exports.default = EventFootprint;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4); // Class that all other classes will inherit from\n\n\n      var Class =\n      /** @class */\n      function () {\n        function Class() {} // Called on a class to create a subclass.\n        // LIMITATION: cannot provide a constructor!\n\n\n        Class.extend = function (members) {\n          var SubClass =\n          /** @class */\n          function (_super) {\n            tslib_1.__extends(SubClass, _super);\n\n            function SubClass() {\n              return _super !== null && _super.apply(this, arguments) || this;\n            }\n\n            return SubClass;\n          }(this);\n\n          util_1.copyOwnProps(members, SubClass.prototype);\n          return SubClass;\n        }; // Adds new member variables/methods to the class's prototype.\n        // Can be called with another class, or a plain object hash containing new members.\n\n\n        Class.mixin = function (members) {\n          util_1.copyOwnProps(members, this.prototype);\n        };\n\n        return Class;\n      }();\n\n      exports.default = Class;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var RecurringEventDef_1 = __webpack_require__(54);\n\n      exports.default = {\n        parse: function (eventInput, source) {\n          if (util_1.isTimeString(eventInput.start) || moment.isDuration(eventInput.start) || util_1.isTimeString(eventInput.end) || moment.isDuration(eventInput.end)) {\n            return RecurringEventDef_1.default.parse(eventInput, source);\n          } else {\n            return SingleEventDef_1.default.parse(eventInput, source);\n          }\n        }\n      };\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var ParsableModelMixin_1 = __webpack_require__(52);\n\n      var EventDef =\n      /** @class */\n      function () {\n        function EventDef(source) {\n          this.source = source;\n          this.className = [];\n          this.miscProps = {};\n        }\n\n        EventDef.parse = function (rawInput, source) {\n          var def = new this(source);\n\n          if (def.applyProps(rawInput)) {\n            return def;\n          }\n\n          return false;\n        };\n\n        EventDef.normalizeId = function (id) {\n          return String(id);\n        };\n\n        EventDef.generateId = function () {\n          return '_fc' + EventDef.uuid++;\n        };\n\n        EventDef.prototype.clone = function () {\n          var copy = new this.constructor(this.source);\n          copy.id = this.id;\n          copy.rawId = this.rawId;\n          copy.uid = this.uid; // not really unique anymore :(\n\n          EventDef.copyVerbatimStandardProps(this, copy);\n          copy.className = this.className.slice(); // copy\n\n          copy.miscProps = $.extend({}, this.miscProps);\n          return copy;\n        };\n\n        EventDef.prototype.hasInverseRendering = function () {\n          return this.getRendering() === 'inverse-background';\n        };\n\n        EventDef.prototype.hasBgRendering = function () {\n          var rendering = this.getRendering();\n          return rendering === 'inverse-background' || rendering === 'background';\n        };\n\n        EventDef.prototype.getRendering = function () {\n          if (this.rendering != null) {\n            return this.rendering;\n          }\n\n          return this.source.rendering;\n        };\n\n        EventDef.prototype.getConstraint = function () {\n          if (this.constraint != null) {\n            return this.constraint;\n          }\n\n          if (this.source.constraint != null) {\n            return this.source.constraint;\n          }\n\n          return this.source.calendar.opt('eventConstraint'); // what about View option?\n        };\n\n        EventDef.prototype.getOverlap = function () {\n          if (this.overlap != null) {\n            return this.overlap;\n          }\n\n          if (this.source.overlap != null) {\n            return this.source.overlap;\n          }\n\n          return this.source.calendar.opt('eventOverlap'); // what about View option?\n        };\n\n        EventDef.prototype.isStartExplicitlyEditable = function () {\n          if (this.startEditable != null) {\n            return this.startEditable;\n          }\n\n          return this.source.startEditable;\n        };\n\n        EventDef.prototype.isDurationExplicitlyEditable = function () {\n          if (this.durationEditable != null) {\n            return this.durationEditable;\n          }\n\n          return this.source.durationEditable;\n        };\n\n        EventDef.prototype.isExplicitlyEditable = function () {\n          if (this.editable != null) {\n            return this.editable;\n          }\n\n          return this.source.editable;\n        };\n\n        EventDef.prototype.toLegacy = function () {\n          var obj = $.extend({}, this.miscProps);\n          obj._id = this.uid;\n          obj.source = this.source;\n          obj.className = this.className.slice(); // copy\n\n          obj.allDay = this.isAllDay();\n\n          if (this.rawId != null) {\n            obj.id = this.rawId;\n          }\n\n          EventDef.copyVerbatimStandardProps(this, obj);\n          return obj;\n        };\n\n        EventDef.prototype.applyManualStandardProps = function (rawProps) {\n          if (rawProps.id != null) {\n            this.id = EventDef.normalizeId(this.rawId = rawProps.id);\n          } else {\n            this.id = EventDef.generateId();\n          }\n\n          if (rawProps._id != null) {\n            // accept this prop, even tho somewhat internal\n            this.uid = String(rawProps._id);\n          } else {\n            this.uid = EventDef.generateId();\n          } // TODO: converge with EventSource\n\n\n          if ($.isArray(rawProps.className)) {\n            this.className = rawProps.className;\n          }\n\n          if (typeof rawProps.className === 'string') {\n            this.className = rawProps.className.split(/\\s+/);\n          }\n\n          return true;\n        };\n\n        EventDef.prototype.applyMiscProps = function (rawProps) {\n          $.extend(this.miscProps, rawProps);\n        };\n\n        EventDef.uuid = 0;\n        EventDef.defineStandardProps = ParsableModelMixin_1.default.defineStandardProps;\n        EventDef.copyVerbatimStandardProps = ParsableModelMixin_1.default.copyVerbatimStandardProps;\n        return EventDef;\n      }();\n\n      exports.default = EventDef;\n      ParsableModelMixin_1.default.mixInto(EventDef);\n      EventDef.defineStandardProps({\n        // not automatically assigned (`false`)\n        _id: false,\n        id: false,\n        className: false,\n        source: false,\n        // automatically assigned (`true`)\n        title: true,\n        url: true,\n        rendering: true,\n        constraint: true,\n        overlap: true,\n        editable: true,\n        startEditable: true,\n        durationEditable: true,\n        color: true,\n        backgroundColor: true,\n        borderColor: true,\n        textColor: true\n      });\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = {\n        sourceClasses: [],\n        registerClass: function (EventSourceClass) {\n          this.sourceClasses.unshift(EventSourceClass); // give highest priority\n        },\n        parse: function (rawInput, calendar) {\n          var sourceClasses = this.sourceClasses;\n          var i;\n          var eventSource;\n\n          for (i = 0; i < sourceClasses.length; i++) {\n            eventSource = sourceClasses[i].parse(rawInput, calendar);\n\n            if (eventSource) {\n              return eventSource;\n            }\n          }\n        }\n      };\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var util_1 = __webpack_require__(4);\n\n      var EventDateProfile_1 = __webpack_require__(16);\n\n      var EventDef_1 = __webpack_require__(37);\n\n      var EventDefDateMutation_1 = __webpack_require__(40);\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var EventDefMutation =\n      /** @class */\n      function () {\n        function EventDefMutation() {}\n\n        EventDefMutation.createFromRawProps = function (eventInstance, rawProps, largeUnit) {\n          var eventDef = eventInstance.def;\n          var dateProps = {};\n          var standardProps = {};\n          var miscProps = {};\n          var verbatimStandardProps = {};\n          var eventDefId = null;\n          var className = null;\n          var propName;\n          var dateProfile;\n          var dateMutation;\n          var defMutation;\n\n          for (propName in rawProps) {\n            if (EventDateProfile_1.default.isStandardProp(propName)) {\n              dateProps[propName] = rawProps[propName];\n            } else if (eventDef.isStandardProp(propName)) {\n              standardProps[propName] = rawProps[propName];\n            } else if (eventDef.miscProps[propName] !== rawProps[propName]) {\n              // only if changed\n              miscProps[propName] = rawProps[propName];\n            }\n          }\n\n          dateProfile = EventDateProfile_1.default.parse(dateProps, eventDef.source);\n\n          if (dateProfile) {\n            // no failure?\n            dateMutation = EventDefDateMutation_1.default.createFromDiff(eventInstance.dateProfile, dateProfile, largeUnit);\n          }\n\n          if (standardProps.id !== eventDef.id) {\n            eventDefId = standardProps.id; // only apply if there's a change\n          }\n\n          if (!util_1.isArraysEqual(standardProps.className, eventDef.className)) {\n            className = standardProps.className; // only apply if there's a change\n          }\n\n          EventDef_1.default.copyVerbatimStandardProps(standardProps, // src\n          verbatimStandardProps // dest\n          );\n          defMutation = new EventDefMutation();\n          defMutation.eventDefId = eventDefId;\n          defMutation.className = className;\n          defMutation.verbatimStandardProps = verbatimStandardProps;\n          defMutation.miscProps = miscProps;\n\n          if (dateMutation) {\n            defMutation.dateMutation = dateMutation;\n          }\n\n          return defMutation;\n        };\n        /*\r\n        eventDef assumed to be a SingleEventDef.\r\n        returns an undo function.\r\n        */\n\n\n        EventDefMutation.prototype.mutateSingle = function (eventDef) {\n          var origDateProfile;\n\n          if (this.dateMutation) {\n            origDateProfile = eventDef.dateProfile;\n            eventDef.dateProfile = this.dateMutation.buildNewDateProfile(origDateProfile, eventDef.source.calendar);\n          } // can't undo\n          // TODO: more DRY with EventDef::applyManualStandardProps\n\n\n          if (this.eventDefId != null) {\n            eventDef.id = EventDef_1.default.normalizeId(eventDef.rawId = this.eventDefId);\n          } // can't undo\n          // TODO: more DRY with EventDef::applyManualStandardProps\n\n\n          if (this.className) {\n            eventDef.className = this.className;\n          } // can't undo\n\n\n          if (this.verbatimStandardProps) {\n            SingleEventDef_1.default.copyVerbatimStandardProps(this.verbatimStandardProps, // src\n            eventDef // dest\n            );\n          } // can't undo\n\n\n          if (this.miscProps) {\n            eventDef.applyMiscProps(this.miscProps);\n          }\n\n          if (origDateProfile) {\n            return function () {\n              eventDef.dateProfile = origDateProfile;\n            };\n          } else {\n            return function () {};\n          }\n        };\n\n        EventDefMutation.prototype.setDateMutation = function (dateMutation) {\n          if (dateMutation && !dateMutation.isEmpty()) {\n            this.dateMutation = dateMutation;\n          } else {\n            this.dateMutation = null;\n          }\n        };\n\n        EventDefMutation.prototype.isEmpty = function () {\n          return !this.dateMutation;\n        };\n\n        return EventDefMutation;\n      }();\n\n      exports.default = EventDefMutation;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var util_1 = __webpack_require__(4);\n\n      var EventDateProfile_1 = __webpack_require__(16);\n\n      var EventDefDateMutation =\n      /** @class */\n      function () {\n        function EventDefDateMutation() {\n          this.clearEnd = false;\n          this.forceTimed = false;\n          this.forceAllDay = false;\n        }\n\n        EventDefDateMutation.createFromDiff = function (dateProfile0, dateProfile1, largeUnit) {\n          var clearEnd = dateProfile0.end && !dateProfile1.end;\n          var forceTimed = dateProfile0.isAllDay() && !dateProfile1.isAllDay();\n          var forceAllDay = !dateProfile0.isAllDay() && dateProfile1.isAllDay();\n          var dateDelta;\n          var endDiff;\n          var endDelta;\n          var mutation; // subtracts the dates in the appropriate way, returning a duration\n\n          function subtractDates(date1, date0) {\n            if (largeUnit) {\n              return util_1.diffByUnit(date1, date0, largeUnit); // poorly named\n            } else if (dateProfile1.isAllDay()) {\n              return util_1.diffDay(date1, date0); // poorly named\n            } else {\n              return util_1.diffDayTime(date1, date0); // poorly named\n            }\n          }\n\n          dateDelta = subtractDates(dateProfile1.start, dateProfile0.start);\n\n          if (dateProfile1.end) {\n            // use unzonedRanges because dateProfile0.end might be null\n            endDiff = subtractDates(dateProfile1.unzonedRange.getEnd(), dateProfile0.unzonedRange.getEnd());\n            endDelta = endDiff.subtract(dateDelta);\n          }\n\n          mutation = new EventDefDateMutation();\n          mutation.clearEnd = clearEnd;\n          mutation.forceTimed = forceTimed;\n          mutation.forceAllDay = forceAllDay;\n          mutation.setDateDelta(dateDelta);\n          mutation.setEndDelta(endDelta);\n          return mutation;\n        };\n        /*\r\n        returns an undo function.\r\n        */\n\n\n        EventDefDateMutation.prototype.buildNewDateProfile = function (eventDateProfile, calendar) {\n          var start = eventDateProfile.start.clone();\n          var end = null;\n          var shouldRezone = false;\n\n          if (eventDateProfile.end && !this.clearEnd) {\n            end = eventDateProfile.end.clone();\n          } else if (this.endDelta && !end) {\n            end = calendar.getDefaultEventEnd(eventDateProfile.isAllDay(), start);\n          }\n\n          if (this.forceTimed) {\n            shouldRezone = true;\n\n            if (!start.hasTime()) {\n              start.time(0);\n            }\n\n            if (end && !end.hasTime()) {\n              end.time(0);\n            }\n          } else if (this.forceAllDay) {\n            if (start.hasTime()) {\n              start.stripTime();\n            }\n\n            if (end && end.hasTime()) {\n              end.stripTime();\n            }\n          }\n\n          if (this.dateDelta) {\n            shouldRezone = true;\n            start.add(this.dateDelta);\n\n            if (end) {\n              end.add(this.dateDelta);\n            }\n          } // do this before adding startDelta to start, so we can work off of start\n\n\n          if (this.endDelta) {\n            shouldRezone = true;\n            end.add(this.endDelta);\n          }\n\n          if (this.startDelta) {\n            shouldRezone = true;\n            start.add(this.startDelta);\n          }\n\n          if (shouldRezone) {\n            start = calendar.applyTimezone(start);\n\n            if (end) {\n              end = calendar.applyTimezone(end);\n            }\n          } // TODO: okay to access calendar option?\n\n\n          if (!end && calendar.opt('forceEventDuration')) {\n            end = calendar.getDefaultEventEnd(eventDateProfile.isAllDay(), start);\n          }\n\n          return new EventDateProfile_1.default(start, end, calendar);\n        };\n\n        EventDefDateMutation.prototype.setDateDelta = function (dateDelta) {\n          if (dateDelta && dateDelta.valueOf()) {\n            this.dateDelta = dateDelta;\n          } else {\n            this.dateDelta = null;\n          }\n        };\n\n        EventDefDateMutation.prototype.setStartDelta = function (startDelta) {\n          if (startDelta && startDelta.valueOf()) {\n            this.startDelta = startDelta;\n          } else {\n            this.startDelta = null;\n          }\n        };\n\n        EventDefDateMutation.prototype.setEndDelta = function (endDelta) {\n          if (endDelta && endDelta.valueOf()) {\n            this.endDelta = endDelta;\n          } else {\n            this.endDelta = null;\n          }\n        };\n\n        EventDefDateMutation.prototype.isEmpty = function () {\n          return !this.clearEnd && !this.forceTimed && !this.forceAllDay && !this.dateDelta && !this.startDelta && !this.endDelta;\n        };\n\n        return EventDefDateMutation;\n      }();\n\n      exports.default = EventDefDateMutation;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var Class_1 = __webpack_require__(35);\n      /*\r\n      Embodies a div that has potential scrollbars\r\n      */\n\n\n      var Scroller =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(Scroller, _super);\n\n        function Scroller(options) {\n          var _this = _super.call(this) || this;\n\n          options = options || {};\n          _this.overflowX = options.overflowX || options.overflow || 'auto';\n          _this.overflowY = options.overflowY || options.overflow || 'auto';\n          return _this;\n        }\n\n        Scroller.prototype.render = function () {\n          this.el = this.renderEl();\n          this.applyOverflow();\n        };\n\n        Scroller.prototype.renderEl = function () {\n          return this.scrollEl = $('<div class=\"fc-scroller\"></div>');\n        }; // sets to natural height, unlocks overflow\n\n\n        Scroller.prototype.clear = function () {\n          this.setHeight('auto');\n          this.applyOverflow();\n        };\n\n        Scroller.prototype.destroy = function () {\n          this.el.remove();\n        }; // Overflow\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Scroller.prototype.applyOverflow = function () {\n          this.scrollEl.css({\n            'overflow-x': this.overflowX,\n            'overflow-y': this.overflowY\n          });\n        }; // Causes any 'auto' overflow values to resolves to 'scroll' or 'hidden'.\n        // Useful for preserving scrollbar widths regardless of future resizes.\n        // Can pass in scrollbarWidths for optimization.\n\n\n        Scroller.prototype.lockOverflow = function (scrollbarWidths) {\n          var overflowX = this.overflowX;\n          var overflowY = this.overflowY;\n          scrollbarWidths = scrollbarWidths || this.getScrollbarWidths();\n\n          if (overflowX === 'auto') {\n            overflowX = scrollbarWidths.top || scrollbarWidths.bottom || // horizontal scrollbars?\n            // OR scrolling pane with massless scrollbars?\n            this.scrollEl[0].scrollWidth - 1 > this.scrollEl[0].clientWidth // subtract 1 because of IE off-by-one issue\n            ? 'scroll' : 'hidden';\n          }\n\n          if (overflowY === 'auto') {\n            overflowY = scrollbarWidths.left || scrollbarWidths.right || // vertical scrollbars?\n            // OR scrolling pane with massless scrollbars?\n            this.scrollEl[0].scrollHeight - 1 > this.scrollEl[0].clientHeight // subtract 1 because of IE off-by-one issue\n            ? 'scroll' : 'hidden';\n          }\n\n          this.scrollEl.css({\n            'overflow-x': overflowX,\n            'overflow-y': overflowY\n          });\n        }; // Getters / Setters\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Scroller.prototype.setHeight = function (height) {\n          this.scrollEl.height(height);\n        };\n\n        Scroller.prototype.getScrollTop = function () {\n          return this.scrollEl.scrollTop();\n        };\n\n        Scroller.prototype.setScrollTop = function (top) {\n          this.scrollEl.scrollTop(top);\n        };\n\n        Scroller.prototype.getClientWidth = function () {\n          return this.scrollEl[0].clientWidth;\n        };\n\n        Scroller.prototype.getClientHeight = function () {\n          return this.scrollEl[0].clientHeight;\n        };\n\n        Scroller.prototype.getScrollbarWidths = function () {\n          return util_1.getScrollbarWidths(this.scrollEl);\n        };\n\n        return Scroller;\n      }(Class_1.default);\n\n      exports.default = Scroller;\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var DateComponent_1 = __webpack_require__(231);\n\n      var GlobalEmitter_1 = __webpack_require__(23);\n\n      var InteractiveDateComponent =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(InteractiveDateComponent, _super);\n\n        function InteractiveDateComponent(_view, _options) {\n          var _this = _super.call(this, _view, _options) || this; // self-config, overridable by subclasses\n\n\n          _this.segSelector = '.fc-event-container > *'; // what constitutes an event element?\n\n          if (_this.dateSelectingClass) {\n            _this.dateClicking = new _this.dateClickingClass(_this);\n          }\n\n          if (_this.dateSelectingClass) {\n            _this.dateSelecting = new _this.dateSelectingClass(_this);\n          }\n\n          if (_this.eventPointingClass) {\n            _this.eventPointing = new _this.eventPointingClass(_this);\n          }\n\n          if (_this.eventDraggingClass && _this.eventPointing) {\n            _this.eventDragging = new _this.eventDraggingClass(_this, _this.eventPointing);\n          }\n\n          if (_this.eventResizingClass && _this.eventPointing) {\n            _this.eventResizing = new _this.eventResizingClass(_this, _this.eventPointing);\n          }\n\n          if (_this.externalDroppingClass) {\n            _this.externalDropping = new _this.externalDroppingClass(_this);\n          }\n\n          return _this;\n        } // Sets the container element that the view should render inside of, does global DOM-related initializations,\n        // and renders all the non-date-related content inside.\n\n\n        InteractiveDateComponent.prototype.setElement = function (el) {\n          _super.prototype.setElement.call(this, el);\n\n          if (this.dateClicking) {\n            this.dateClicking.bindToEl(el);\n          }\n\n          if (this.dateSelecting) {\n            this.dateSelecting.bindToEl(el);\n          }\n\n          this.bindAllSegHandlersToEl(el);\n        };\n\n        InteractiveDateComponent.prototype.removeElement = function () {\n          this.endInteractions();\n\n          _super.prototype.removeElement.call(this);\n        };\n\n        InteractiveDateComponent.prototype.executeEventUnrender = function () {\n          this.endInteractions();\n\n          _super.prototype.executeEventUnrender.call(this);\n        };\n\n        InteractiveDateComponent.prototype.bindGlobalHandlers = function () {\n          _super.prototype.bindGlobalHandlers.call(this);\n\n          if (this.externalDropping) {\n            this.externalDropping.bindToDocument();\n          }\n        };\n\n        InteractiveDateComponent.prototype.unbindGlobalHandlers = function () {\n          _super.prototype.unbindGlobalHandlers.call(this);\n\n          if (this.externalDropping) {\n            this.externalDropping.unbindFromDocument();\n          }\n        };\n\n        InteractiveDateComponent.prototype.bindDateHandlerToEl = function (el, name, handler) {\n          var _this = this; // attach a handler to the grid's root element.\n          // jQuery will take care of unregistering them when removeElement gets called.\n\n\n          this.el.on(name, function (ev) {\n            if (!$(ev.target).is(_this.segSelector + ':not(.fc-helper),' + // directly on an event element\n            _this.segSelector + ':not(.fc-helper) *,' + // within an event element\n            '.fc-more,' + // a \"more..\" link\n            'a[data-goto]' // a clickable nav link\n            )) {\n              return handler.call(_this, ev);\n            }\n          });\n        };\n\n        InteractiveDateComponent.prototype.bindAllSegHandlersToEl = function (el) {\n          [this.eventPointing, this.eventDragging, this.eventResizing].forEach(function (eventInteraction) {\n            if (eventInteraction) {\n              eventInteraction.bindToEl(el);\n            }\n          });\n        };\n\n        InteractiveDateComponent.prototype.bindSegHandlerToEl = function (el, name, handler) {\n          var _this = this;\n\n          el.on(name, this.segSelector, function (ev) {\n            var segEl = $(ev.currentTarget);\n\n            if (!segEl.is('.fc-helper')) {\n              var seg = segEl.data('fc-seg'); // grab segment data. put there by View::renderEventsPayload\n\n              if (seg && !_this.shouldIgnoreEventPointing()) {\n                return handler.call(_this, seg, ev); // context will be the Grid\n              }\n            }\n          });\n        };\n\n        InteractiveDateComponent.prototype.shouldIgnoreMouse = function () {\n          // HACK\n          // This will still work even though bindDateHandlerToEl doesn't use GlobalEmitter.\n          return GlobalEmitter_1.default.get().shouldIgnoreMouse();\n        };\n\n        InteractiveDateComponent.prototype.shouldIgnoreTouch = function () {\n          var view = this._getView(); // On iOS (and Android?) when a new selection is initiated overtop another selection,\n          // the touchend never fires because the elements gets removed mid-touch-interaction (my theory).\n          // HACK: simply don't allow this to happen.\n          // ALSO: prevent selection when an *event* is already raised.\n\n\n          return view.isSelected || view.selectedEvent;\n        };\n\n        InteractiveDateComponent.prototype.shouldIgnoreEventPointing = function () {\n          // only call the handlers if there is not a drag/resize in progress\n          return this.eventDragging && this.eventDragging.isDragging || this.eventResizing && this.eventResizing.isResizing;\n        };\n\n        InteractiveDateComponent.prototype.canStartSelection = function (seg, ev) {\n          return util_1.getEvIsTouch(ev) && !this.canStartResize(seg, ev) && (this.isEventDefDraggable(seg.footprint.eventDef) || this.isEventDefResizable(seg.footprint.eventDef));\n        };\n\n        InteractiveDateComponent.prototype.canStartDrag = function (seg, ev) {\n          return !this.canStartResize(seg, ev) && this.isEventDefDraggable(seg.footprint.eventDef);\n        };\n\n        InteractiveDateComponent.prototype.canStartResize = function (seg, ev) {\n          var view = this._getView();\n\n          var eventDef = seg.footprint.eventDef;\n          return (!util_1.getEvIsTouch(ev) || view.isEventDefSelected(eventDef)) && this.isEventDefResizable(eventDef) && $(ev.target).is('.fc-resizer');\n        }; // Kills all in-progress dragging.\n        // Useful for when public API methods that result in re-rendering are invoked during a drag.\n        // Also useful for when touch devices misbehave and don't fire their touchend.\n\n\n        InteractiveDateComponent.prototype.endInteractions = function () {\n          [this.dateClicking, this.dateSelecting, this.eventPointing, this.eventDragging, this.eventResizing].forEach(function (interaction) {\n            if (interaction) {\n              interaction.end();\n            }\n          });\n        }; // Event Drag-n-Drop\n        // ---------------------------------------------------------------------------------------------------------------\n        // Computes if the given event is allowed to be dragged by the user\n\n\n        InteractiveDateComponent.prototype.isEventDefDraggable = function (eventDef) {\n          return this.isEventDefStartEditable(eventDef);\n        };\n\n        InteractiveDateComponent.prototype.isEventDefStartEditable = function (eventDef) {\n          var isEditable = eventDef.isStartExplicitlyEditable();\n\n          if (isEditable == null) {\n            isEditable = this.opt('eventStartEditable');\n\n            if (isEditable == null) {\n              isEditable = this.isEventDefGenerallyEditable(eventDef);\n            }\n          }\n\n          return isEditable;\n        };\n\n        InteractiveDateComponent.prototype.isEventDefGenerallyEditable = function (eventDef) {\n          var isEditable = eventDef.isExplicitlyEditable();\n\n          if (isEditable == null) {\n            isEditable = this.opt('editable');\n          }\n\n          return isEditable;\n        }; // Event Resizing\n        // ---------------------------------------------------------------------------------------------------------------\n        // Computes if the given event is allowed to be resized from its starting edge\n\n\n        InteractiveDateComponent.prototype.isEventDefResizableFromStart = function (eventDef) {\n          return this.opt('eventResizableFromStart') && this.isEventDefResizable(eventDef);\n        }; // Computes if the given event is allowed to be resized from its ending edge\n\n\n        InteractiveDateComponent.prototype.isEventDefResizableFromEnd = function (eventDef) {\n          return this.isEventDefResizable(eventDef);\n        }; // Computes if the given event is allowed to be resized by the user at all\n\n\n        InteractiveDateComponent.prototype.isEventDefResizable = function (eventDef) {\n          var isResizable = eventDef.isDurationExplicitlyEditable();\n\n          if (isResizable == null) {\n            isResizable = this.opt('eventDurationEditable');\n\n            if (isResizable == null) {\n              isResizable = this.isEventDefGenerallyEditable(eventDef);\n            }\n          }\n\n          return isResizable;\n        }; // Event Mutation / Constraints\n        // ---------------------------------------------------------------------------------------------------------------\n        // Diffs the two dates, returning a duration, based on granularity of the grid\n        // TODO: port isTimeScale into this system?\n\n\n        InteractiveDateComponent.prototype.diffDates = function (a, b) {\n          if (this.largeUnit) {\n            return util_1.diffByUnit(a, b, this.largeUnit);\n          } else {\n            return util_1.diffDayTime(a, b);\n          }\n        }; // is it allowed, in relation to the view's validRange?\n        // NOTE: very similar to isExternalInstanceGroupAllowed\n\n\n        InteractiveDateComponent.prototype.isEventInstanceGroupAllowed = function (eventInstanceGroup) {\n          var view = this._getView();\n\n          var dateProfile = this.dateProfile;\n          var eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges());\n          var i;\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            // TODO: just use getAllEventRanges directly\n            if (!dateProfile.validUnzonedRange.containsRange(eventFootprints[i].componentFootprint.unzonedRange)) {\n              return false;\n            }\n          }\n\n          return view.calendar.constraints.isEventInstanceGroupAllowed(eventInstanceGroup);\n        }; // NOTE: very similar to isEventInstanceGroupAllowed\n        // when it's a completely anonymous external drag, no event.\n\n\n        InteractiveDateComponent.prototype.isExternalInstanceGroupAllowed = function (eventInstanceGroup) {\n          var view = this._getView();\n\n          var dateProfile = this.dateProfile;\n          var eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges());\n          var i;\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            if (!dateProfile.validUnzonedRange.containsRange(eventFootprints[i].componentFootprint.unzonedRange)) {\n              return false;\n            }\n          }\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            // treat it as a selection\n            // TODO: pass in eventInstanceGroup instead\n            //  because we don't want calendar's constraint system to depend on a component's\n            //  determination of footprints.\n            if (!view.calendar.constraints.isSelectionFootprintAllowed(eventFootprints[i].componentFootprint)) {\n              return false;\n            }\n          }\n\n          return true;\n        };\n\n        return InteractiveDateComponent;\n      }(DateComponent_1.default);\n\n      exports.default = InteractiveDateComponent;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var RenderQueue_1 = __webpack_require__(229);\n\n      var DateProfileGenerator_1 = __webpack_require__(55);\n\n      var InteractiveDateComponent_1 = __webpack_require__(42);\n\n      var GlobalEmitter_1 = __webpack_require__(23);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n      /* An abstract class from which other views inherit from\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n\n      var View =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(View, _super);\n\n        function View(calendar, viewSpec) {\n          var _this = _super.call(this, null, viewSpec.options) || this;\n\n          _this.batchRenderDepth = 0;\n          _this.isSelected = false; // boolean whether a range of time is user-selected or not\n\n          _this.calendar = calendar;\n          _this.viewSpec = viewSpec; // shortcuts\n\n          _this.type = viewSpec.type; // .name is deprecated\n\n          _this.name = _this.type;\n\n          _this.initRenderQueue();\n\n          _this.initHiddenDays();\n\n          _this.dateProfileGenerator = new _this.dateProfileGeneratorClass(_this);\n\n          _this.bindBaseRenderHandlers();\n\n          _this.eventOrderSpecs = util_1.parseFieldSpecs(_this.opt('eventOrder')); // legacy\n\n          if (_this['initialize']) {\n            _this['initialize']();\n          }\n\n          return _this;\n        }\n\n        View.prototype._getView = function () {\n          return this;\n        }; // Retrieves an option with the given name\n\n\n        View.prototype.opt = function (name) {\n          return this.options[name];\n        };\n        /* Render Queue\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        View.prototype.initRenderQueue = function () {\n          this.renderQueue = new RenderQueue_1.default({\n            event: this.opt('eventRenderWait')\n          });\n          this.renderQueue.on('start', this.onRenderQueueStart.bind(this));\n          this.renderQueue.on('stop', this.onRenderQueueStop.bind(this));\n          this.on('before:change', this.startBatchRender);\n          this.on('change', this.stopBatchRender);\n        };\n\n        View.prototype.onRenderQueueStart = function () {\n          this.calendar.freezeContentHeight();\n          this.addScroll(this.queryScroll());\n        };\n\n        View.prototype.onRenderQueueStop = function () {\n          if (this.calendar.updateViewSize()) {\n            // success?\n            this.popScroll();\n          }\n\n          this.calendar.thawContentHeight();\n        };\n\n        View.prototype.startBatchRender = function () {\n          if (!this.batchRenderDepth++) {\n            this.renderQueue.pause();\n          }\n        };\n\n        View.prototype.stopBatchRender = function () {\n          if (! --this.batchRenderDepth) {\n            this.renderQueue.resume();\n          }\n        };\n\n        View.prototype.requestRender = function (func, namespace, actionType) {\n          this.renderQueue.queue(func, namespace, actionType);\n        }; // given func will auto-bind to `this`\n\n\n        View.prototype.whenSizeUpdated = function (func) {\n          if (this.renderQueue.isRunning) {\n            this.renderQueue.one('stop', func.bind(this));\n          } else {\n            func.call(this);\n          }\n        };\n        /* Title and Date Formatting\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Computes what the title at the top of the calendar should be for this view\n\n\n        View.prototype.computeTitle = function (dateProfile) {\n          var unzonedRange; // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n\n          if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n            unzonedRange = dateProfile.currentUnzonedRange;\n          } else {\n            // for day units or smaller, use the actual day range\n            unzonedRange = dateProfile.activeUnzonedRange;\n          }\n\n          return this.formatRange({\n            start: this.calendar.msToMoment(unzonedRange.startMs, dateProfile.isRangeAllDay),\n            end: this.calendar.msToMoment(unzonedRange.endMs, dateProfile.isRangeAllDay)\n          }, dateProfile.isRangeAllDay, this.opt('titleFormat') || this.computeTitleFormat(dateProfile), this.opt('titleRangeSeparator'));\n        }; // Generates the format string that should be used to generate the title for the current date range.\n        // Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n\n\n        View.prototype.computeTitleFormat = function (dateProfile) {\n          var currentRangeUnit = dateProfile.currentRangeUnit;\n\n          if (currentRangeUnit === 'year') {\n            return 'YYYY';\n          } else if (currentRangeUnit === 'month') {\n            return this.opt('monthYearFormat'); // like \"September 2014\"\n          } else if (dateProfile.currentUnzonedRange.as('days') > 1) {\n            return 'll'; // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n          } else {\n            return 'LL'; // one day. longer, like \"September 9 2014\"\n          }\n        }; // Date Setting/Unsetting\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        View.prototype.setDate = function (date) {\n          var currentDateProfile = this.get('dateProfile');\n          var newDateProfile = this.dateProfileGenerator.build(date, undefined, true); // forceToValid=true\n\n          if (!currentDateProfile || !currentDateProfile.activeUnzonedRange.equals(newDateProfile.activeUnzonedRange)) {\n            this.set('dateProfile', newDateProfile);\n          }\n        };\n\n        View.prototype.unsetDate = function () {\n          this.unset('dateProfile');\n        }; // Event Data\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        View.prototype.fetchInitialEvents = function (dateProfile) {\n          var calendar = this.calendar;\n          var forceAllDay = dateProfile.isRangeAllDay && !this.usesMinMaxTime;\n          return calendar.requestEvents(calendar.msToMoment(dateProfile.activeUnzonedRange.startMs, forceAllDay), calendar.msToMoment(dateProfile.activeUnzonedRange.endMs, forceAllDay));\n        };\n\n        View.prototype.bindEventChanges = function () {\n          this.listenTo(this.calendar, 'eventsReset', this.resetEvents); // TODO: make this a real event\n        };\n\n        View.prototype.unbindEventChanges = function () {\n          this.stopListeningTo(this.calendar, 'eventsReset');\n        };\n\n        View.prototype.setEvents = function (eventsPayload) {\n          this.set('currentEvents', eventsPayload);\n          this.set('hasEvents', true);\n        };\n\n        View.prototype.unsetEvents = function () {\n          this.unset('currentEvents');\n          this.unset('hasEvents');\n        };\n\n        View.prototype.resetEvents = function (eventsPayload) {\n          this.startBatchRender();\n          this.unsetEvents();\n          this.setEvents(eventsPayload);\n          this.stopBatchRender();\n        }; // Date High-level Rendering\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        View.prototype.requestDateRender = function (dateProfile) {\n          var _this = this;\n\n          this.requestRender(function () {\n            _this.executeDateRender(dateProfile);\n          }, 'date', 'init');\n        };\n\n        View.prototype.requestDateUnrender = function () {\n          var _this = this;\n\n          this.requestRender(function () {\n            _this.executeDateUnrender();\n          }, 'date', 'destroy');\n        }; // if dateProfile not specified, uses current\n\n\n        View.prototype.executeDateRender = function (dateProfile) {\n          _super.prototype.executeDateRender.call(this, dateProfile);\n\n          if (this['render']) {\n            this['render'](); // TODO: deprecate\n          }\n\n          this.trigger('datesRendered');\n          this.addScroll({\n            isDateInit: true\n          });\n          this.startNowIndicator(); // shouldn't render yet because updateSize will be called soon\n        };\n\n        View.prototype.executeDateUnrender = function () {\n          this.unselect();\n          this.stopNowIndicator();\n          this.trigger('before:datesUnrendered');\n\n          if (this['destroy']) {\n            this['destroy'](); // TODO: deprecate\n          }\n\n          _super.prototype.executeDateUnrender.call(this);\n        }; // \"Base\" rendering\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        View.prototype.bindBaseRenderHandlers = function () {\n          var _this = this;\n\n          this.on('datesRendered', function () {\n            _this.whenSizeUpdated(_this.triggerViewRender);\n          });\n          this.on('before:datesUnrendered', function () {\n            _this.triggerViewDestroy();\n          });\n        };\n\n        View.prototype.triggerViewRender = function () {\n          this.publiclyTrigger('viewRender', {\n            context: this,\n            args: [this, this.el]\n          });\n        };\n\n        View.prototype.triggerViewDestroy = function () {\n          this.publiclyTrigger('viewDestroy', {\n            context: this,\n            args: [this, this.el]\n          });\n        }; // Event High-level Rendering\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        View.prototype.requestEventsRender = function (eventsPayload) {\n          var _this = this;\n\n          this.requestRender(function () {\n            _this.executeEventRender(eventsPayload);\n\n            _this.whenSizeUpdated(_this.triggerAfterEventsRendered);\n          }, 'event', 'init');\n        };\n\n        View.prototype.requestEventsUnrender = function () {\n          var _this = this;\n\n          this.requestRender(function () {\n            _this.triggerBeforeEventsDestroyed();\n\n            _this.executeEventUnrender();\n          }, 'event', 'destroy');\n        }; // Business Hour High-level Rendering\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        View.prototype.requestBusinessHoursRender = function (businessHourGenerator) {\n          var _this = this;\n\n          this.requestRender(function () {\n            _this.renderBusinessHours(businessHourGenerator);\n          }, 'businessHours', 'init');\n        };\n\n        View.prototype.requestBusinessHoursUnrender = function () {\n          var _this = this;\n\n          this.requestRender(function () {\n            _this.unrenderBusinessHours();\n          }, 'businessHours', 'destroy');\n        }; // Misc view rendering utils\n        // -----------------------------------------------------------------------------------------------------------------\n        // Binds DOM handlers to elements that reside outside the view container, such as the document\n\n\n        View.prototype.bindGlobalHandlers = function () {\n          _super.prototype.bindGlobalHandlers.call(this);\n\n          this.listenTo(GlobalEmitter_1.default.get(), {\n            touchstart: this.processUnselect,\n            mousedown: this.handleDocumentMousedown\n          });\n        }; // Unbinds DOM handlers from elements that reside outside the view container\n\n\n        View.prototype.unbindGlobalHandlers = function () {\n          _super.prototype.unbindGlobalHandlers.call(this);\n\n          this.stopListeningTo(GlobalEmitter_1.default.get());\n        };\n        /* Now Indicator\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Immediately render the current time indicator and begins re-rendering it at an interval,\n        // which is defined by this.getNowIndicatorUnit().\n        // TODO: somehow do this for the current whole day's background too\n\n\n        View.prototype.startNowIndicator = function () {\n          var _this = this;\n\n          var unit;\n          var update;\n          var delay; // ms wait value\n\n          if (this.opt('nowIndicator')) {\n            unit = this.getNowIndicatorUnit();\n\n            if (unit) {\n              update = util_1.proxy(this, 'updateNowIndicator'); // bind to `this`\n\n              this.initialNowDate = this.calendar.getNow();\n              this.initialNowQueriedMs = new Date().valueOf(); // wait until the beginning of the next interval\n\n              delay = this.initialNowDate.clone().startOf(unit).add(1, unit).valueOf() - this.initialNowDate.valueOf();\n              this.nowIndicatorTimeoutID = setTimeout(function () {\n                _this.nowIndicatorTimeoutID = null;\n                update();\n                delay = +moment.duration(1, unit);\n                delay = Math.max(100, delay); // prevent too frequent\n\n                _this.nowIndicatorIntervalID = setInterval(update, delay); // update every interval\n              }, delay);\n            } // rendering will be initiated in updateSize\n\n          }\n        }; // rerenders the now indicator, computing the new current time from the amount of time that has passed\n        // since the initial getNow call.\n\n\n        View.prototype.updateNowIndicator = function () {\n          if (this.isDatesRendered && this.initialNowDate // activated before?\n          ) {\n              this.unrenderNowIndicator(); // won't unrender if unnecessary\n\n              this.renderNowIndicator(this.initialNowDate.clone().add(new Date().valueOf() - this.initialNowQueriedMs) // add ms\n              );\n              this.isNowIndicatorRendered = true;\n            }\n        }; // Immediately unrenders the view's current time indicator and stops any re-rendering timers.\n        // Won't cause side effects if indicator isn't rendered.\n\n\n        View.prototype.stopNowIndicator = function () {\n          if (this.isNowIndicatorRendered) {\n            if (this.nowIndicatorTimeoutID) {\n              clearTimeout(this.nowIndicatorTimeoutID);\n              this.nowIndicatorTimeoutID = null;\n            }\n\n            if (this.nowIndicatorIntervalID) {\n              clearInterval(this.nowIndicatorIntervalID);\n              this.nowIndicatorIntervalID = null;\n            }\n\n            this.unrenderNowIndicator();\n            this.isNowIndicatorRendered = false;\n          }\n        };\n        /* Dimensions\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        View.prototype.updateSize = function (totalHeight, isAuto, isResize) {\n          if (this['setHeight']) {\n            // for legacy API\n            this['setHeight'](totalHeight, isAuto);\n          } else {\n            _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\n          }\n\n          this.updateNowIndicator();\n        };\n        /* Scroller\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        View.prototype.addScroll = function (scroll) {\n          var queuedScroll = this.queuedScroll || (this.queuedScroll = {});\n          $.extend(queuedScroll, scroll);\n        };\n\n        View.prototype.popScroll = function () {\n          this.applyQueuedScroll();\n          this.queuedScroll = null;\n        };\n\n        View.prototype.applyQueuedScroll = function () {\n          if (this.queuedScroll) {\n            this.applyScroll(this.queuedScroll);\n          }\n        };\n\n        View.prototype.queryScroll = function () {\n          var scroll = {};\n\n          if (this.isDatesRendered) {\n            $.extend(scroll, this.queryDateScroll());\n          }\n\n          return scroll;\n        };\n\n        View.prototype.applyScroll = function (scroll) {\n          if (scroll.isDateInit && this.isDatesRendered) {\n            $.extend(scroll, this.computeInitialDateScroll());\n          }\n\n          if (this.isDatesRendered) {\n            this.applyDateScroll(scroll);\n          }\n        };\n\n        View.prototype.computeInitialDateScroll = function () {\n          return {}; // subclasses must implement\n        };\n\n        View.prototype.queryDateScroll = function () {\n          return {}; // subclasses must implement\n        };\n\n        View.prototype.applyDateScroll = function (scroll) {// subclasses must implement\n        };\n        /* Event Drag-n-Drop\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        View.prototype.reportEventDrop = function (eventInstance, eventMutation, el, ev) {\n          var eventManager = this.calendar.eventManager;\n          var undoFunc = eventManager.mutateEventsWithId(eventInstance.def.id, eventMutation);\n          var dateMutation = eventMutation.dateMutation; // update the EventInstance, for handlers\n\n          if (dateMutation) {\n            eventInstance.dateProfile = dateMutation.buildNewDateProfile(eventInstance.dateProfile, this.calendar);\n          }\n\n          this.triggerEventDrop(eventInstance, // a drop doesn't necessarily mean a date mutation (ex: resource change)\n          dateMutation && dateMutation.dateDelta || moment.duration(), undoFunc, el, ev);\n        }; // Triggers event-drop handlers that have subscribed via the API\n\n\n        View.prototype.triggerEventDrop = function (eventInstance, dateDelta, undoFunc, el, ev) {\n          this.publiclyTrigger('eventDrop', {\n            context: el[0],\n            args: [eventInstance.toLegacy(), dateDelta, undoFunc, ev, {}, this]\n          });\n        };\n        /* External Element Drag-n-Drop\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Must be called when an external element, via jQuery UI, has been dropped onto the calendar.\n        // `meta` is the parsed data that has been embedded into the dragging event.\n        // `dropLocation` is an object that contains the new zoned start/end/allDay values for the event.\n\n\n        View.prototype.reportExternalDrop = function (singleEventDef, isEvent, isSticky, el, ev, ui) {\n          if (isEvent) {\n            this.calendar.eventManager.addEventDef(singleEventDef, isSticky);\n          }\n\n          this.triggerExternalDrop(singleEventDef, isEvent, el, ev, ui);\n        }; // Triggers external-drop handlers that have subscribed via the API\n\n\n        View.prototype.triggerExternalDrop = function (singleEventDef, isEvent, el, ev, ui) {\n          // trigger 'drop' regardless of whether element represents an event\n          this.publiclyTrigger('drop', {\n            context: el[0],\n            args: [singleEventDef.dateProfile.start.clone(), ev, ui, this]\n          });\n\n          if (isEvent) {\n            // signal an external event landed\n            this.publiclyTrigger('eventReceive', {\n              context: this,\n              args: [singleEventDef.buildInstance().toLegacy(), this]\n            });\n          }\n        };\n        /* Event Resizing\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Must be called when an event in the view has been resized to a new length\n\n\n        View.prototype.reportEventResize = function (eventInstance, eventMutation, el, ev) {\n          var eventManager = this.calendar.eventManager;\n          var undoFunc = eventManager.mutateEventsWithId(eventInstance.def.id, eventMutation); // update the EventInstance, for handlers\n\n          eventInstance.dateProfile = eventMutation.dateMutation.buildNewDateProfile(eventInstance.dateProfile, this.calendar);\n          var resizeDelta = eventMutation.dateMutation.endDelta || eventMutation.dateMutation.startDelta;\n          this.triggerEventResize(eventInstance, resizeDelta, undoFunc, el, ev);\n        }; // Triggers event-resize handlers that have subscribed via the API\n\n\n        View.prototype.triggerEventResize = function (eventInstance, resizeDelta, undoFunc, el, ev) {\n          this.publiclyTrigger('eventResize', {\n            context: el[0],\n            args: [eventInstance.toLegacy(), resizeDelta, undoFunc, ev, {}, this]\n          });\n        };\n        /* Selection (time range)\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Selects a date span on the view. `start` and `end` are both Moments.\n        // `ev` is the native mouse event that begin the interaction.\n\n\n        View.prototype.select = function (footprint, ev) {\n          this.unselect(ev);\n          this.renderSelectionFootprint(footprint);\n          this.reportSelection(footprint, ev);\n        };\n\n        View.prototype.renderSelectionFootprint = function (footprint) {\n          if (this['renderSelection']) {\n            // legacy method in custom view classes\n            this['renderSelection'](footprint.toLegacy(this.calendar));\n          } else {\n            _super.prototype.renderSelectionFootprint.call(this, footprint);\n          }\n        }; // Called when a new selection is made. Updates internal state and triggers handlers.\n\n\n        View.prototype.reportSelection = function (footprint, ev) {\n          this.isSelected = true;\n          this.triggerSelect(footprint, ev);\n        }; // Triggers handlers to 'select'\n\n\n        View.prototype.triggerSelect = function (footprint, ev) {\n          var dateProfile = this.calendar.footprintToDateProfile(footprint); // abuse of \"Event\"DateProfile?\n\n          this.publiclyTrigger('select', {\n            context: this,\n            args: [dateProfile.start, dateProfile.end, ev, this]\n          });\n        }; // Undoes a selection. updates in the internal state and triggers handlers.\n        // `ev` is the native mouse event that began the interaction.\n\n\n        View.prototype.unselect = function (ev) {\n          if (this.isSelected) {\n            this.isSelected = false;\n\n            if (this['destroySelection']) {\n              this['destroySelection'](); // TODO: deprecate\n            }\n\n            this.unrenderSelection();\n            this.publiclyTrigger('unselect', {\n              context: this,\n              args: [ev, this]\n            });\n          }\n        };\n        /* Event Selection\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        View.prototype.selectEventInstance = function (eventInstance) {\n          if (!this.selectedEventInstance || this.selectedEventInstance !== eventInstance) {\n            this.unselectEventInstance();\n            this.getEventSegs().forEach(function (seg) {\n              if (seg.footprint.eventInstance === eventInstance && seg.el // necessary?\n              ) {\n                  seg.el.addClass('fc-selected');\n                }\n            });\n            this.selectedEventInstance = eventInstance;\n          }\n        };\n\n        View.prototype.unselectEventInstance = function () {\n          if (this.selectedEventInstance) {\n            this.getEventSegs().forEach(function (seg) {\n              if (seg.el) {\n                // necessary?\n                seg.el.removeClass('fc-selected');\n              }\n            });\n            this.selectedEventInstance = null;\n          }\n        };\n\n        View.prototype.isEventDefSelected = function (eventDef) {\n          // event references might change on refetchEvents(), while selectedEventInstance doesn't,\n          // so compare IDs\n          return this.selectedEventInstance && this.selectedEventInstance.def.id === eventDef.id;\n        };\n        /* Mouse / Touch Unselecting (time range & event unselection)\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // TODO: move consistently to down/start or up/end?\n        // TODO: don't kill previous selection if touch scrolling\n\n\n        View.prototype.handleDocumentMousedown = function (ev) {\n          if (util_1.isPrimaryMouseButton(ev)) {\n            this.processUnselect(ev);\n          }\n        };\n\n        View.prototype.processUnselect = function (ev) {\n          this.processRangeUnselect(ev);\n          this.processEventUnselect(ev);\n        };\n\n        View.prototype.processRangeUnselect = function (ev) {\n          var ignore; // is there a time-range selection?\n\n          if (this.isSelected && this.opt('unselectAuto')) {\n            // only unselect if the clicked element is not identical to or inside of an 'unselectCancel' element\n            ignore = this.opt('unselectCancel');\n\n            if (!ignore || !$(ev.target).closest(ignore).length) {\n              this.unselect(ev);\n            }\n          }\n        };\n\n        View.prototype.processEventUnselect = function (ev) {\n          if (this.selectedEventInstance) {\n            if (!$(ev.target).closest('.fc-selected').length) {\n              this.unselectEventInstance();\n            }\n          }\n        };\n        /* Triggers\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        View.prototype.triggerBaseRendered = function () {\n          this.publiclyTrigger('viewRender', {\n            context: this,\n            args: [this, this.el]\n          });\n        };\n\n        View.prototype.triggerBaseUnrendered = function () {\n          this.publiclyTrigger('viewDestroy', {\n            context: this,\n            args: [this, this.el]\n          });\n        }; // Triggers handlers to 'dayClick'\n        // Span has start/end of the clicked area. Only the start is useful.\n\n\n        View.prototype.triggerDayClick = function (footprint, dayEl, ev) {\n          var dateProfile = this.calendar.footprintToDateProfile(footprint); // abuse of \"Event\"DateProfile?\n\n          this.publiclyTrigger('dayClick', {\n            context: dayEl,\n            args: [dateProfile.start, ev, this]\n          });\n        };\n        /* Date Utils\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // For DateComponent::getDayClasses\n\n\n        View.prototype.isDateInOtherMonth = function (date, dateProfile) {\n          return false;\n        }; // Arguments after name will be forwarded to a hypothetical function value\n        // WARNING: passed-in arguments will be given to generator functions as-is and can cause side-effects.\n        // Always clone your objects if you fear mutation.\n\n\n        View.prototype.getUnzonedRangeOption = function (name) {\n          var val = this.opt(name);\n\n          if (typeof val === 'function') {\n            val = val.apply(null, Array.prototype.slice.call(arguments, 1));\n          }\n\n          if (val) {\n            return this.calendar.parseUnzonedRange(val);\n          }\n        };\n        /* Hidden Days\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Initializes internal variables related to calculating hidden days-of-week\n\n\n        View.prototype.initHiddenDays = function () {\n          var hiddenDays = this.opt('hiddenDays') || []; // array of day-of-week indices that are hidden\n\n          var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n\n          var dayCnt = 0;\n          var i;\n\n          if (this.opt('weekends') === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n          }\n\n          for (i = 0; i < 7; i++) {\n            if (!(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)) {\n              dayCnt++;\n            }\n          }\n\n          if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n          }\n\n          this.isHiddenDayHash = isHiddenDayHash;\n        }; // Remove days from the beginning and end of the range that are computed as hidden.\n        // If the whole range is trimmed off, returns null\n\n\n        View.prototype.trimHiddenDays = function (inputUnzonedRange) {\n          var start = inputUnzonedRange.getStart();\n          var end = inputUnzonedRange.getEnd();\n\n          if (start) {\n            start = this.skipHiddenDays(start);\n          }\n\n          if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n          }\n\n          if (start === null || end === null || start < end) {\n            return new UnzonedRange_1.default(start, end);\n          }\n\n          return null;\n        }; // Is the current day hidden?\n        // `day` is a day-of-week index (0-6), or a Moment\n\n\n        View.prototype.isHiddenDay = function (day) {\n          if (moment.isMoment(day)) {\n            day = day.day();\n          }\n\n          return this.isHiddenDayHash[day];\n        }; // Incrementing the current day until it is no longer a hidden day, returning a copy.\n        // DOES NOT CONSIDER validUnzonedRange!\n        // If the initial value of `date` is not a hidden day, don't do anything.\n        // Pass `isExclusive` as `true` if you are dealing with an end date.\n        // `inc` defaults to `1` (increment one day forward each time)\n\n\n        View.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n          if (inc === void 0) {\n            inc = 1;\n          }\n\n          if (isExclusive === void 0) {\n            isExclusive = false;\n          }\n\n          var out = date.clone();\n\n          while (this.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]) {\n            out.add(inc, 'days');\n          }\n\n          return out;\n        };\n\n        return View;\n      }(InteractiveDateComponent_1.default);\n\n      exports.default = View;\n      View.prototype.usesMinMaxTime = false;\n      View.prototype.dateProfileGeneratorClass = DateProfileGenerator_1.default;\n      View.watch('displayingDates', ['isInDom', 'dateProfile'], function (deps) {\n        this.requestDateRender(deps.dateProfile);\n      }, function () {\n        this.requestDateUnrender();\n      });\n      View.watch('displayingBusinessHours', ['displayingDates', 'businessHourGenerator'], function (deps) {\n        this.requestBusinessHoursRender(deps.businessHourGenerator);\n      }, function () {\n        this.requestBusinessHoursUnrender();\n      });\n      View.watch('initialEvents', ['dateProfile'], function (deps) {\n        return this.fetchInitialEvents(deps.dateProfile);\n      });\n      View.watch('bindingEvents', ['initialEvents'], function (deps) {\n        this.setEvents(deps.initialEvents);\n        this.bindEventChanges();\n      }, function () {\n        this.unbindEventChanges();\n        this.unsetEvents();\n      });\n      View.watch('displayingEvents', ['displayingDates', 'hasEvents'], function () {\n        this.requestEventsRender(this.get('currentEvents'));\n      }, function () {\n        this.requestEventsUnrender();\n      });\n      View.watch('title', ['dateProfile'], function (deps) {\n        return this.title = this.computeTitle(deps.dateProfile); // assign to View for legacy reasons\n      });\n      View.watch('legacyDateProps', ['dateProfile'], function (deps) {\n        var calendar = this.calendar;\n        var dateProfile = deps.dateProfile; // DEPRECATED, but we need to keep it updated...\n\n        this.start = calendar.msToMoment(dateProfile.activeUnzonedRange.startMs, dateProfile.isRangeAllDay);\n        this.end = calendar.msToMoment(dateProfile.activeUnzonedRange.endMs, dateProfile.isRangeAllDay);\n        this.intervalStart = calendar.msToMoment(dateProfile.currentUnzonedRange.startMs, dateProfile.isRangeAllDay);\n        this.intervalEnd = calendar.msToMoment(dateProfile.currentUnzonedRange.endMs, dateProfile.isRangeAllDay);\n      });\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventRenderer =\n      /** @class */\n      function () {\n        function EventRenderer(component, fillRenderer) {\n          this.view = component._getView();\n          this.component = component;\n          this.fillRenderer = fillRenderer;\n        }\n\n        EventRenderer.prototype.opt = function (name) {\n          return this.view.opt(name);\n        }; // Updates values that rely on options and also relate to range\n\n\n        EventRenderer.prototype.rangeUpdated = function () {\n          var displayEventTime;\n          var displayEventEnd;\n          this.eventTimeFormat = this.opt('eventTimeFormat') || this.opt('timeFormat') || // deprecated\n          this.computeEventTimeFormat();\n          displayEventTime = this.opt('displayEventTime');\n\n          if (displayEventTime == null) {\n            displayEventTime = this.computeDisplayEventTime(); // might be based off of range\n          }\n\n          displayEventEnd = this.opt('displayEventEnd');\n\n          if (displayEventEnd == null) {\n            displayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n          }\n\n          this.displayEventTime = displayEventTime;\n          this.displayEventEnd = displayEventEnd;\n        };\n\n        EventRenderer.prototype.render = function (eventsPayload) {\n          var dateProfile = this.component._getDateProfile();\n\n          var eventDefId;\n          var instanceGroup;\n          var eventRanges;\n          var bgRanges = [];\n          var fgRanges = [];\n\n          for (eventDefId in eventsPayload) {\n            instanceGroup = eventsPayload[eventDefId];\n            eventRanges = instanceGroup.sliceRenderRanges(dateProfile.activeUnzonedRange);\n\n            if (instanceGroup.getEventDef().hasBgRendering()) {\n              bgRanges.push.apply(bgRanges, eventRanges);\n            } else {\n              fgRanges.push.apply(fgRanges, eventRanges);\n            }\n          }\n\n          this.renderBgRanges(bgRanges);\n          this.renderFgRanges(fgRanges);\n        };\n\n        EventRenderer.prototype.unrender = function () {\n          this.unrenderBgRanges();\n          this.unrenderFgRanges();\n        };\n\n        EventRenderer.prototype.renderFgRanges = function (eventRanges) {\n          var eventFootprints = this.component.eventRangesToEventFootprints(eventRanges);\n          var segs = this.component.eventFootprintsToSegs(eventFootprints); // render an `.el` on each seg\n          // returns a subset of the segs. segs that were actually rendered\n\n          segs = this.renderFgSegEls(segs);\n\n          if (this.renderFgSegs(segs) !== false) {\n            // no failure?\n            this.fgSegs = segs;\n          }\n        };\n\n        EventRenderer.prototype.unrenderFgRanges = function () {\n          this.unrenderFgSegs(this.fgSegs || []);\n          this.fgSegs = null;\n        };\n\n        EventRenderer.prototype.renderBgRanges = function (eventRanges) {\n          var eventFootprints = this.component.eventRangesToEventFootprints(eventRanges);\n          var segs = this.component.eventFootprintsToSegs(eventFootprints);\n\n          if (this.renderBgSegs(segs) !== false) {\n            // no failure?\n            this.bgSegs = segs;\n          }\n        };\n\n        EventRenderer.prototype.unrenderBgRanges = function () {\n          this.unrenderBgSegs();\n          this.bgSegs = null;\n        };\n\n        EventRenderer.prototype.getSegs = function () {\n          return (this.bgSegs || []).concat(this.fgSegs || []);\n        }; // Renders foreground event segments onto the grid\n\n\n        EventRenderer.prototype.renderFgSegs = function (segs) {\n          // subclasses must implement\n          // segs already has rendered els, and has been filtered.\n          return false; // signal failure if not implemented\n        }; // Unrenders all currently rendered foreground segments\n\n\n        EventRenderer.prototype.unrenderFgSegs = function (segs) {// subclasses must implement\n        };\n\n        EventRenderer.prototype.renderBgSegs = function (segs) {\n          var _this = this;\n\n          if (this.fillRenderer) {\n            this.fillRenderer.renderSegs('bgEvent', segs, {\n              getClasses: function (seg) {\n                return _this.getBgClasses(seg.footprint.eventDef);\n              },\n              getCss: function (seg) {\n                return {\n                  'background-color': _this.getBgColor(seg.footprint.eventDef)\n                };\n              },\n              filterEl: function (seg, el) {\n                return _this.filterEventRenderEl(seg.footprint, el);\n              }\n            });\n          } else {\n            return false; // signal failure if no fillRenderer\n          }\n        };\n\n        EventRenderer.prototype.unrenderBgSegs = function () {\n          if (this.fillRenderer) {\n            this.fillRenderer.unrender('bgEvent');\n          }\n        }; // Renders and assigns an `el` property for each foreground event segment.\n        // Only returns segments that successfully rendered.\n\n\n        EventRenderer.prototype.renderFgSegEls = function (segs, disableResizing) {\n          var _this = this;\n\n          if (disableResizing === void 0) {\n            disableResizing = false;\n          }\n\n          var hasEventRenderHandlers = this.view.hasPublicHandlers('eventRender');\n          var html = '';\n          var renderedSegs = [];\n          var i;\n\n          if (segs.length) {\n            // don't build an empty html string\n            // build a large concatenation of event segment HTML\n            for (i = 0; i < segs.length; i++) {\n              this.beforeFgSegHtml(segs[i]);\n              html += this.fgSegHtml(segs[i], disableResizing);\n            } // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n\n\n            $(html).each(function (i, node) {\n              var seg = segs[i];\n              var el = $(node);\n\n              if (hasEventRenderHandlers) {\n                // optimization\n                el = _this.filterEventRenderEl(seg.footprint, el);\n              }\n\n              if (el) {\n                el.data('fc-seg', seg); // used by handlers\n\n                seg.el = el;\n                renderedSegs.push(seg);\n              }\n            });\n          }\n\n          return renderedSegs;\n        };\n\n        EventRenderer.prototype.beforeFgSegHtml = function (seg) {}; // Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()\n\n\n        EventRenderer.prototype.fgSegHtml = function (seg, disableResizing) {// subclasses should implement\n        }; // Generic utility for generating the HTML classNames for an event segment's element\n\n\n        EventRenderer.prototype.getSegClasses = function (seg, isDraggable, isResizable) {\n          var classes = ['fc-event', seg.isStart ? 'fc-start' : 'fc-not-start', seg.isEnd ? 'fc-end' : 'fc-not-end'].concat(this.getClasses(seg.footprint.eventDef));\n\n          if (isDraggable) {\n            classes.push('fc-draggable');\n          }\n\n          if (isResizable) {\n            classes.push('fc-resizable');\n          } // event is currently selected? attach a className.\n\n\n          if (this.view.isEventDefSelected(seg.footprint.eventDef)) {\n            classes.push('fc-selected');\n          }\n\n          return classes;\n        }; // Given an event and the default element used for rendering, returns the element that should actually be used.\n        // Basically runs events and elements through the eventRender hook.\n\n\n        EventRenderer.prototype.filterEventRenderEl = function (eventFootprint, el) {\n          var legacy = eventFootprint.getEventLegacy();\n          var custom = this.view.publiclyTrigger('eventRender', {\n            context: legacy,\n            args: [legacy, el, this.view]\n          });\n\n          if (custom === false) {\n            // means don't render at all\n            el = null;\n          } else if (custom && custom !== true) {\n            el = $(custom);\n          }\n\n          return el;\n        }; // Compute the text that should be displayed on an event's element.\n        // `range` can be the Event object itself, or something range-like, with at least a `start`.\n        // If event times are disabled, or the event has no time, will return a blank string.\n        // If not specified, formatStr will default to the eventTimeFormat setting,\n        // and displayEnd will default to the displayEventEnd setting.\n\n\n        EventRenderer.prototype.getTimeText = function (eventFootprint, formatStr, displayEnd) {\n          return this._getTimeText(eventFootprint.eventInstance.dateProfile.start, eventFootprint.eventInstance.dateProfile.end, eventFootprint.componentFootprint.isAllDay, formatStr, displayEnd);\n        };\n\n        EventRenderer.prototype._getTimeText = function (start, end, isAllDay, formatStr, displayEnd) {\n          if (formatStr == null) {\n            formatStr = this.eventTimeFormat;\n          }\n\n          if (displayEnd == null) {\n            displayEnd = this.displayEventEnd;\n          }\n\n          if (this.displayEventTime && !isAllDay) {\n            if (displayEnd && end) {\n              return this.view.formatRange({\n                start: start,\n                end: end\n              }, false, // allDay\n              formatStr);\n            } else {\n              return start.format(formatStr);\n            }\n          }\n\n          return '';\n        };\n\n        EventRenderer.prototype.computeEventTimeFormat = function () {\n          return this.opt('smallTimeFormat');\n        };\n\n        EventRenderer.prototype.computeDisplayEventTime = function () {\n          return true;\n        };\n\n        EventRenderer.prototype.computeDisplayEventEnd = function () {\n          return true;\n        };\n\n        EventRenderer.prototype.getBgClasses = function (eventDef) {\n          var classNames = this.getClasses(eventDef);\n          classNames.push('fc-bgevent');\n          return classNames;\n        };\n\n        EventRenderer.prototype.getClasses = function (eventDef) {\n          var objs = this.getStylingObjs(eventDef);\n          var i;\n          var classNames = [];\n\n          for (i = 0; i < objs.length; i++) {\n            classNames.push.apply( // append\n            classNames, objs[i].eventClassName || objs[i].className || []);\n          }\n\n          return classNames;\n        }; // Utility for generating event skin-related CSS properties\n\n\n        EventRenderer.prototype.getSkinCss = function (eventDef) {\n          return {\n            'background-color': this.getBgColor(eventDef),\n            'border-color': this.getBorderColor(eventDef),\n            color: this.getTextColor(eventDef)\n          };\n        }; // Queries for caller-specified color, then falls back to default\n\n\n        EventRenderer.prototype.getBgColor = function (eventDef) {\n          var objs = this.getStylingObjs(eventDef);\n          var i;\n          var val;\n\n          for (i = 0; i < objs.length && !val; i++) {\n            val = objs[i].eventBackgroundColor || objs[i].eventColor || objs[i].backgroundColor || objs[i].color;\n          }\n\n          if (!val) {\n            val = this.opt('eventBackgroundColor') || this.opt('eventColor');\n          }\n\n          return val;\n        }; // Queries for caller-specified color, then falls back to default\n\n\n        EventRenderer.prototype.getBorderColor = function (eventDef) {\n          var objs = this.getStylingObjs(eventDef);\n          var i;\n          var val;\n\n          for (i = 0; i < objs.length && !val; i++) {\n            val = objs[i].eventBorderColor || objs[i].eventColor || objs[i].borderColor || objs[i].color;\n          }\n\n          if (!val) {\n            val = this.opt('eventBorderColor') || this.opt('eventColor');\n          }\n\n          return val;\n        }; // Queries for caller-specified color, then falls back to default\n\n\n        EventRenderer.prototype.getTextColor = function (eventDef) {\n          var objs = this.getStylingObjs(eventDef);\n          var i;\n          var val;\n\n          for (i = 0; i < objs.length && !val; i++) {\n            val = objs[i].eventTextColor || objs[i].textColor;\n          }\n\n          if (!val) {\n            val = this.opt('eventTextColor');\n          }\n\n          return val;\n        };\n\n        EventRenderer.prototype.getStylingObjs = function (eventDef) {\n          var objs = this.getFallbackStylingObjs(eventDef);\n          objs.unshift(eventDef);\n          return objs;\n        };\n\n        EventRenderer.prototype.getFallbackStylingObjs = function (eventDef) {\n          return [eventDef.source];\n        };\n\n        EventRenderer.prototype.sortEventSegs = function (segs) {\n          segs.sort(util_1.proxy(this, 'compareEventSegs'));\n        }; // A cmp function for determining which segments should take visual priority\n\n\n        EventRenderer.prototype.compareEventSegs = function (seg1, seg2) {\n          var f1 = seg1.footprint;\n          var f2 = seg2.footprint;\n          var cf1 = f1.componentFootprint;\n          var cf2 = f2.componentFootprint;\n          var r1 = cf1.unzonedRange;\n          var r2 = cf2.unzonedRange;\n          return r1.startMs - r2.startMs || // earlier events go first\n          r2.endMs - r2.startMs - (r1.endMs - r1.startMs) || // tie? longer events go first\n          cf2.isAllDay - cf1.isAllDay || // tie? put all-day events first (booleans cast to 0/1)\n          util_1.compareByFieldSpecs(f1.eventDef, f2.eventDef, this.view.eventOrderSpecs, f1.eventDef.miscProps, f2.eventDef.miscProps);\n        };\n\n        return EventRenderer;\n      }();\n\n      exports.default = EventRenderer;\n      /***/\n    },,,,,\n    /* 45 */\n\n    /* 46 */\n\n    /* 47 */\n\n    /* 48 */\n\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment_ext_1 = __webpack_require__(11); // Plugin\n      // -------------------------------------------------------------------------------------------------\n\n\n      moment_ext_1.newMomentProto.format = function () {\n        if (this._fullCalendar && arguments[0]) {\n          // an enhanced moment? and a format string provided?\n          return formatDate(this, arguments[0]); // our extended formatting\n        }\n\n        if (this._ambigTime) {\n          return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD');\n        }\n\n        if (this._ambigZone) {\n          return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD[T]HH:mm:ss');\n        }\n\n        if (this._fullCalendar) {\n          // enhanced non-ambig moment?\n          // moment.format() doesn't ensure english, but we want to.\n          return moment_ext_1.oldMomentFormat(englishMoment(this));\n        }\n\n        return moment_ext_1.oldMomentProto.format.apply(this, arguments);\n      };\n\n      moment_ext_1.newMomentProto.toISOString = function () {\n        if (this._ambigTime) {\n          return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD');\n        }\n\n        if (this._ambigZone) {\n          return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD[T]HH:mm:ss');\n        }\n\n        if (this._fullCalendar) {\n          // enhanced non-ambig moment?\n          // depending on browser, moment might not output english. ensure english.\n          // https://github.com/moment/moment/blob/2.18.1/src/lib/moment/format.js#L22\n          return moment_ext_1.oldMomentProto.toISOString.apply(englishMoment(this), arguments);\n        }\n\n        return moment_ext_1.oldMomentProto.toISOString.apply(this, arguments);\n      };\n\n      function englishMoment(mom) {\n        if (mom.locale() !== 'en') {\n          return mom.clone().locale('en');\n        }\n\n        return mom;\n      } // Config\n      // ---------------------------------------------------------------------------------------------------------------------\n\n      /*\r\n      Inserted between chunks in the fake (\"intermediate\") formatting string.\r\n      Important that it passes as whitespace (\\s) because moment often identifies non-standalone months\r\n      via a regexp with an \\s.\r\n      */\n\n\n      var PART_SEPARATOR = '\\u000b'; // vertical tab\n\n      /*\r\n      Inserted as the first character of a literal-text chunk to indicate that the literal text is not actually literal text,\r\n      but rather, a \"special\" token that has custom rendering (see specialTokens map).\r\n      */\n\n      var SPECIAL_TOKEN_MARKER = '\\u001f'; // information separator 1\n\n      /*\r\n      Inserted at the beginning and end of a span of text that must have non-zero numeric characters.\r\n      Handling of these markers is done in a post-processing step at the very end of text rendering.\r\n      */\n\n      var MAYBE_MARKER = '\\u001e'; // information separator 2\n\n      var MAYBE_REGEXP = new RegExp(MAYBE_MARKER + '([^' + MAYBE_MARKER + ']*)' + MAYBE_MARKER, 'g'); // must be global\n\n      /*\r\n      Addition formatting tokens we want recognized\r\n      */\n\n      var specialTokens = {\n        t: function (date) {\n          return moment_ext_1.oldMomentFormat(date, 'a').charAt(0);\n        },\n        T: function (date) {\n          return moment_ext_1.oldMomentFormat(date, 'A').charAt(0);\n        }\n      };\n      /*\r\n      The first characters of formatting tokens for units that are 1 day or larger.\r\n      `value` is for ranking relative size (lower means bigger).\r\n      `unit` is a normalized unit, used for comparing moments.\r\n      */\n\n      var largeTokenMap = {\n        Y: {\n          value: 1,\n          unit: 'year'\n        },\n        M: {\n          value: 2,\n          unit: 'month'\n        },\n        W: {\n          value: 3,\n          unit: 'week'\n        },\n        w: {\n          value: 3,\n          unit: 'week'\n        },\n        D: {\n          value: 4,\n          unit: 'day'\n        },\n        d: {\n          value: 4,\n          unit: 'day'\n        } // day of week\n\n      }; // Single Date Formatting\n      // ---------------------------------------------------------------------------------------------------------------------\n\n      /*\r\n      Formats `date` with a Moment formatting string, but allow our non-zero areas and special token\r\n      */\n\n      function formatDate(date, formatStr) {\n        return renderFakeFormatString(getParsedFormatString(formatStr).fakeFormatString, date);\n      }\n\n      exports.formatDate = formatDate; // Date Range Formatting\n      // -------------------------------------------------------------------------------------------------\n      // TODO: make it work with timezone offset\n\n      /*\r\n      Using a formatting string meant for a single date, generate a range string, like\r\n      \"Sep 2 - 9 2013\", that intelligently inserts a separator where the dates differ.\r\n      If the dates are the same as far as the format string is concerned, just return a single\r\n      rendering of one date, without any separator.\r\n      */\n\n      function formatRange(date1, date2, formatStr, separator, isRTL) {\n        var localeData;\n        date1 = moment_ext_1.default.parseZone(date1);\n        date2 = moment_ext_1.default.parseZone(date2);\n        localeData = date1.localeData(); // Expand localized format strings, like \"LL\" -> \"MMMM D YYYY\".\n        // BTW, this is not important for `formatDate` because it is impossible to put custom tokens\n        // or non-zero areas in Moment's localized format strings.\n\n        formatStr = localeData.longDateFormat(formatStr) || formatStr;\n        return renderParsedFormat(getParsedFormatString(formatStr), date1, date2, separator || ' - ', isRTL);\n      }\n\n      exports.formatRange = formatRange;\n      /*\r\n      Renders a range with an already-parsed format string.\r\n      */\n\n      function renderParsedFormat(parsedFormat, date1, date2, separator, isRTL) {\n        var sameUnits = parsedFormat.sameUnits;\n        var unzonedDate1 = date1.clone().stripZone(); // for same-unit comparisons\n\n        var unzonedDate2 = date2.clone().stripZone(); // \"\n\n        var renderedParts1 = renderFakeFormatStringParts(parsedFormat.fakeFormatString, date1);\n        var renderedParts2 = renderFakeFormatStringParts(parsedFormat.fakeFormatString, date2);\n        var leftI;\n        var leftStr = '';\n        var rightI;\n        var rightStr = '';\n        var middleI;\n        var middleStr1 = '';\n        var middleStr2 = '';\n        var middleStr = ''; // Start at the leftmost side of the formatting string and continue until you hit a token\n        // that is not the same between dates.\n\n        for (leftI = 0; leftI < sameUnits.length && (!sameUnits[leftI] || unzonedDate1.isSame(unzonedDate2, sameUnits[leftI])); leftI++) {\n          leftStr += renderedParts1[leftI];\n        } // Similarly, start at the rightmost side of the formatting string and move left\n\n\n        for (rightI = sameUnits.length - 1; rightI > leftI && (!sameUnits[rightI] || unzonedDate1.isSame(unzonedDate2, sameUnits[rightI])); rightI--) {\n          // If current chunk is on the boundary of unique date-content, and is a special-case\n          // date-formatting postfix character, then don't consume it. Consider it unique date-content.\n          // TODO: make configurable\n          if (rightI - 1 === leftI && renderedParts1[rightI] === '.') {\n            break;\n          }\n\n          rightStr = renderedParts1[rightI] + rightStr;\n        } // The area in the middle is different for both of the dates.\n        // Collect them distinctly so we can jam them together later.\n\n\n        for (middleI = leftI; middleI <= rightI; middleI++) {\n          middleStr1 += renderedParts1[middleI];\n          middleStr2 += renderedParts2[middleI];\n        }\n\n        if (middleStr1 || middleStr2) {\n          if (isRTL) {\n            middleStr = middleStr2 + separator + middleStr1;\n          } else {\n            middleStr = middleStr1 + separator + middleStr2;\n          }\n        }\n\n        return processMaybeMarkers(leftStr + middleStr + rightStr);\n      } // Format String Parsing\n      // ---------------------------------------------------------------------------------------------------------------------\n\n\n      var parsedFormatStrCache = {};\n      /*\r\n      Returns a parsed format string, leveraging a cache.\r\n      */\n\n      function getParsedFormatString(formatStr) {\n        return parsedFormatStrCache[formatStr] || (parsedFormatStrCache[formatStr] = parseFormatString(formatStr));\n      }\n      /*\r\n      Parses a format string into the following:\r\n      - fakeFormatString: a momentJS formatting string, littered with special control characters that get post-processed.\r\n      - sameUnits: for every part in fakeFormatString, if the part is a token, the value will be a unit string (like \"day\"),\r\n        that indicates how similar a range's start & end must be in order to share the same formatted text.\r\n        If not a token, then the value is null.\r\n        Always a flat array (not nested liked \"chunks\").\r\n      */\n\n\n      function parseFormatString(formatStr) {\n        var chunks = chunkFormatString(formatStr);\n        return {\n          fakeFormatString: buildFakeFormatString(chunks),\n          sameUnits: buildSameUnits(chunks)\n        };\n      }\n      /*\r\n      Break the formatting string into an array of chunks.\r\n      A 'maybe' chunk will have nested chunks.\r\n      */\n\n\n      function chunkFormatString(formatStr) {\n        var chunks = [];\n        var match; // TODO: more descrimination\n        // \\4 is a backreference to the first character of a multi-character set.\n\n        var chunker = /\\[([^\\]]*)\\]|\\(([^\\)]*)\\)|(LTS|LT|(\\w)\\4*o?)|([^\\w\\[\\(]+)/g;\n\n        while (match = chunker.exec(formatStr)) {\n          if (match[1]) {\n            // a literal string inside [ ... ]\n            chunks.push.apply(chunks, // append\n            splitStringLiteral(match[1]));\n          } else if (match[2]) {\n            // non-zero formatting inside ( ... )\n            chunks.push({\n              maybe: chunkFormatString(match[2])\n            });\n          } else if (match[3]) {\n            // a formatting token\n            chunks.push({\n              token: match[3]\n            });\n          } else if (match[5]) {\n            // an unenclosed literal string\n            chunks.push.apply(chunks, // append\n            splitStringLiteral(match[5]));\n          }\n        }\n\n        return chunks;\n      }\n      /*\r\n      Potentially splits a literal-text string into multiple parts. For special cases.\r\n      */\n\n\n      function splitStringLiteral(s) {\n        if (s === '. ') {\n          return ['.', ' ']; // for locales with periods bound to the end of each year/month/date\n        } else {\n          return [s];\n        }\n      }\n      /*\r\n      Given chunks parsed from a real format string, generate a fake (aka \"intermediate\") format string with special control\r\n      characters that will eventually be given to moment for formatting, and then post-processed.\r\n      */\n\n\n      function buildFakeFormatString(chunks) {\n        var parts = [];\n        var i;\n        var chunk;\n\n        for (i = 0; i < chunks.length; i++) {\n          chunk = chunks[i];\n\n          if (typeof chunk === 'string') {\n            parts.push('[' + chunk + ']');\n          } else if (chunk.token) {\n            if (chunk.token in specialTokens) {\n              parts.push(SPECIAL_TOKEN_MARKER + // useful during post-processing\n              '[' + chunk.token + ']' // preserve as literal text\n              );\n            } else {\n              parts.push(chunk.token); // unprotected text implies a format string\n            }\n          } else if (chunk.maybe) {\n            parts.push(MAYBE_MARKER + // useful during post-processing\n            buildFakeFormatString(chunk.maybe) + MAYBE_MARKER);\n          }\n        }\n\n        return parts.join(PART_SEPARATOR);\n      }\n      /*\r\n      Given parsed chunks from a real formatting string, generates an array of unit strings (like \"day\") that indicate\r\n      in which regard two dates must be similar in order to share range formatting text.\r\n      The `chunks` can be nested (because of \"maybe\" chunks), however, the returned array will be flat.\r\n      */\n\n\n      function buildSameUnits(chunks) {\n        var units = [];\n        var i;\n        var chunk;\n        var tokenInfo;\n\n        for (i = 0; i < chunks.length; i++) {\n          chunk = chunks[i];\n\n          if (chunk.token) {\n            tokenInfo = largeTokenMap[chunk.token.charAt(0)];\n            units.push(tokenInfo ? tokenInfo.unit : 'second'); // default to a very strict same-second\n          } else if (chunk.maybe) {\n            units.push.apply(units, // append\n            buildSameUnits(chunk.maybe));\n          } else {\n            units.push(null);\n          }\n        }\n\n        return units;\n      } // Rendering to text\n      // ---------------------------------------------------------------------------------------------------------------------\n\n      /*\r\n      Formats a date with a fake format string, post-processes the control characters, then returns.\r\n      */\n\n\n      function renderFakeFormatString(fakeFormatString, date) {\n        return processMaybeMarkers(renderFakeFormatStringParts(fakeFormatString, date).join(''));\n      }\n      /*\r\n      Formats a date into parts that will have been post-processed, EXCEPT for the \"maybe\" markers.\r\n      */\n\n\n      function renderFakeFormatStringParts(fakeFormatString, date) {\n        var parts = [];\n        var fakeRender = moment_ext_1.oldMomentFormat(date, fakeFormatString);\n        var fakeParts = fakeRender.split(PART_SEPARATOR);\n        var i;\n        var fakePart;\n\n        for (i = 0; i < fakeParts.length; i++) {\n          fakePart = fakeParts[i];\n\n          if (fakePart.charAt(0) === SPECIAL_TOKEN_MARKER) {\n            parts.push( // the literal string IS the token's name.\n            // call special token's registered function.\n            specialTokens[fakePart.substring(1)](date));\n          } else {\n            parts.push(fakePart);\n          }\n        }\n\n        return parts;\n      }\n      /*\r\n      Accepts an almost-finally-formatted string and processes the \"maybe\" control characters, returning a new string.\r\n      */\n\n\n      function processMaybeMarkers(s) {\n        return s.replace(MAYBE_REGEXP, function (m0, m1) {\n          if (m1.match(/[1-9]/)) {\n            // any non-zero numeric characters?\n            return m1;\n          } else {\n            return '';\n          }\n        });\n      } // Misc Utils\n      // -------------------------------------------------------------------------------------------------\n\n      /*\r\n      Returns a unit string, either 'year', 'month', 'day', or null for the most granular formatting token in the string.\r\n      */\n\n\n      function queryMostGranularFormatUnit(formatStr) {\n        var chunks = chunkFormatString(formatStr);\n        var i;\n        var chunk;\n        var candidate;\n        var best;\n\n        for (i = 0; i < chunks.length; i++) {\n          chunk = chunks[i];\n\n          if (chunk.token) {\n            candidate = largeTokenMap[chunk.token.charAt(0)];\n\n            if (candidate) {\n              if (!best || candidate.value > best.value) {\n                best = candidate;\n              }\n            }\n          }\n        }\n\n        if (best) {\n          return best.unit;\n        }\n\n        return null;\n      }\n\n      exports.queryMostGranularFormatUnit = queryMostGranularFormatUnit;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventRange =\n      /** @class */\n      function () {\n        function EventRange(unzonedRange, eventDef, eventInstance) {\n          this.unzonedRange = unzonedRange;\n          this.eventDef = eventDef;\n\n          if (eventInstance) {\n            this.eventInstance = eventInstance;\n          }\n        }\n\n        return EventRange;\n      }();\n\n      exports.default = EventRange;\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Class_1 = __webpack_require__(35);\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      var Model =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(Model, _super);\n\n        function Model() {\n          var _this = _super.call(this) || this;\n\n          _this._watchers = {};\n          _this._props = {};\n\n          _this.applyGlobalWatchers();\n\n          _this.constructed();\n\n          return _this;\n        }\n\n        Model.watch = function (name) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          } // subclasses should make a masked-copy of the superclass's map\n          // TODO: write test\n\n\n          if (!this.prototype.hasOwnProperty('_globalWatchArgs')) {\n            this.prototype._globalWatchArgs = Object.create(this.prototype._globalWatchArgs);\n          }\n\n          this.prototype._globalWatchArgs[name] = args;\n        };\n\n        Model.prototype.constructed = function () {// useful for monkeypatching. TODO: BaseClass?\n        };\n\n        Model.prototype.applyGlobalWatchers = function () {\n          var map = this._globalWatchArgs;\n          var name;\n\n          for (name in map) {\n            this.watch.apply(this, [name].concat(map[name]));\n          }\n        };\n\n        Model.prototype.has = function (name) {\n          return name in this._props;\n        };\n\n        Model.prototype.get = function (name) {\n          if (name === undefined) {\n            return this._props;\n          }\n\n          return this._props[name];\n        };\n\n        Model.prototype.set = function (name, val) {\n          var newProps;\n\n          if (typeof name === 'string') {\n            newProps = {};\n            newProps[name] = val === undefined ? null : val;\n          } else {\n            newProps = name;\n          }\n\n          this.setProps(newProps);\n        };\n\n        Model.prototype.reset = function (newProps) {\n          var oldProps = this._props;\n          var changeset = {}; // will have undefined's to signal unsets\n\n          var name;\n\n          for (name in oldProps) {\n            changeset[name] = undefined;\n          }\n\n          for (name in newProps) {\n            changeset[name] = newProps[name];\n          }\n\n          this.setProps(changeset);\n        };\n\n        Model.prototype.unset = function (name) {\n          var newProps = {};\n          var names;\n          var i;\n\n          if (typeof name === 'string') {\n            names = [name];\n          } else {\n            names = name;\n          }\n\n          for (i = 0; i < names.length; i++) {\n            newProps[names[i]] = undefined;\n          }\n\n          this.setProps(newProps);\n        };\n\n        Model.prototype.setProps = function (newProps) {\n          var changedProps = {};\n          var changedCnt = 0;\n          var name;\n          var val;\n\n          for (name in newProps) {\n            val = newProps[name]; // a change in value?\n            // if an object, don't check equality, because might have been mutated internally.\n            // TODO: eventually enforce immutability.\n\n            if (typeof val === 'object' || val !== this._props[name]) {\n              changedProps[name] = val;\n              changedCnt++;\n            }\n          }\n\n          if (changedCnt) {\n            this.trigger('before:batchChange', changedProps);\n\n            for (name in changedProps) {\n              val = changedProps[name];\n              this.trigger('before:change', name, val);\n              this.trigger('before:change:' + name, val);\n            }\n\n            for (name in changedProps) {\n              val = changedProps[name];\n\n              if (val === undefined) {\n                delete this._props[name];\n              } else {\n                this._props[name] = val;\n              }\n\n              this.trigger('change:' + name, val);\n              this.trigger('change', name, val);\n            }\n\n            this.trigger('batchChange', changedProps);\n          }\n        };\n\n        Model.prototype.watch = function (name, depList, startFunc, stopFunc) {\n          var _this = this;\n\n          this.unwatch(name);\n          this._watchers[name] = this._watchDeps(depList, function (deps) {\n            var res = startFunc.call(_this, deps);\n\n            if (res && res.then) {\n              _this.unset(name); // put in an unset state while resolving\n\n\n              res.then(function (val) {\n                _this.set(name, val);\n              });\n            } else {\n              _this.set(name, res);\n            }\n          }, function (deps) {\n            _this.unset(name);\n\n            if (stopFunc) {\n              stopFunc.call(_this, deps);\n            }\n          });\n        };\n\n        Model.prototype.unwatch = function (name) {\n          var watcher = this._watchers[name];\n\n          if (watcher) {\n            delete this._watchers[name];\n            watcher.teardown();\n          }\n        };\n\n        Model.prototype._watchDeps = function (depList, startFunc, stopFunc) {\n          var _this = this;\n\n          var queuedChangeCnt = 0;\n          var depCnt = depList.length;\n          var satisfyCnt = 0;\n          var values = {}; // what's passed as the `deps` arguments\n\n          var bindTuples = []; // array of [ eventName, handlerFunc ] arrays\n\n          var isCallingStop = false;\n\n          var onBeforeDepChange = function (depName, val, isOptional) {\n            queuedChangeCnt++;\n\n            if (queuedChangeCnt === 1) {\n              // first change to cause a \"stop\" ?\n              if (satisfyCnt === depCnt) {\n                // all deps previously satisfied?\n                isCallingStop = true;\n                stopFunc(values);\n                isCallingStop = false;\n              }\n            }\n          };\n\n          var onDepChange = function (depName, val, isOptional) {\n            if (val === undefined) {\n              // unsetting a value?\n              // required dependency that was previously set?\n              if (!isOptional && values[depName] !== undefined) {\n                satisfyCnt--;\n              }\n\n              delete values[depName];\n            } else {\n              // setting a value?\n              // required dependency that was previously unset?\n              if (!isOptional && values[depName] === undefined) {\n                satisfyCnt++;\n              }\n\n              values[depName] = val;\n            }\n\n            queuedChangeCnt--;\n\n            if (!queuedChangeCnt) {\n              // last change to cause a \"start\"?\n              // now finally satisfied or satisfied all along?\n              if (satisfyCnt === depCnt) {\n                // if the stopFunc initiated another value change, ignore it.\n                // it will be processed by another change event anyway.\n                if (!isCallingStop) {\n                  startFunc(values);\n                }\n              }\n            }\n          }; // intercept for .on() that remembers handlers\n\n\n          var bind = function (eventName, handler) {\n            _this.on(eventName, handler);\n\n            bindTuples.push([eventName, handler]);\n          }; // listen to dependency changes\n\n\n          depList.forEach(function (depName) {\n            var isOptional = false;\n\n            if (depName.charAt(0) === '?') {\n              // TODO: more DRY\n              depName = depName.substring(1);\n              isOptional = true;\n            }\n\n            bind('before:change:' + depName, function (val) {\n              onBeforeDepChange(depName, val, isOptional);\n            });\n            bind('change:' + depName, function (val) {\n              onDepChange(depName, val, isOptional);\n            });\n          }); // process current dependency values\n\n          depList.forEach(function (depName) {\n            var isOptional = false;\n\n            if (depName.charAt(0) === '?') {\n              // TODO: more DRY\n              depName = depName.substring(1);\n              isOptional = true;\n            }\n\n            if (_this.has(depName)) {\n              values[depName] = _this.get(depName);\n              satisfyCnt++;\n            } else if (isOptional) {\n              satisfyCnt++;\n            }\n          }); // initially satisfied\n\n          if (satisfyCnt === depCnt) {\n            startFunc(values);\n          }\n\n          return {\n            teardown: function () {\n              // remove all handlers\n              for (var i = 0; i < bindTuples.length; i++) {\n                _this.off(bindTuples[i][0], bindTuples[i][1]);\n              }\n\n              bindTuples = null; // was satisfied, so call stopFunc\n\n              if (satisfyCnt === depCnt) {\n                stopFunc();\n              }\n            },\n            flash: function () {\n              if (satisfyCnt === depCnt) {\n                stopFunc();\n                startFunc(values);\n              }\n            }\n          };\n        };\n\n        Model.prototype.flash = function (name) {\n          var watcher = this._watchers[name];\n\n          if (watcher) {\n            watcher.flash();\n          }\n        };\n\n        return Model;\n      }(Class_1.default);\n\n      exports.default = Model;\n      Model.prototype._globalWatchArgs = {}; // mutation protection in Model.watch\n\n      EmitterMixin_1.default.mixInto(Model);\n      ListenerMixin_1.default.mixInto(Model);\n      /***/\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /*\r\n      USAGE:\r\n        import { default as ParsableModelMixin, ParsableModelInterface } from './ParsableModelMixin'\r\n      in class:\r\n        applyProps: ParsableModelInterface['applyProps']\r\n        applyManualStandardProps: ParsableModelInterface['applyManualStandardProps']\r\n        applyMiscProps: ParsableModelInterface['applyMiscProps']\r\n        isStandardProp: ParsableModelInterface['isStandardProp']\r\n        static defineStandardProps = ParsableModelMixin.defineStandardProps\r\n        static copyVerbatimStandardProps = ParsableModelMixin.copyVerbatimStandardProps\r\n      after class:\r\n        ParsableModelMixin.mixInto(TheClass)\r\n      */\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var Mixin_1 = __webpack_require__(15);\n\n      var ParsableModelMixin =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ParsableModelMixin, _super);\n\n        function ParsableModelMixin() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ParsableModelMixin.defineStandardProps = function (propDefs) {\n          var proto = this.prototype;\n\n          if (!proto.hasOwnProperty('standardPropMap')) {\n            proto.standardPropMap = Object.create(proto.standardPropMap);\n          }\n\n          util_1.copyOwnProps(propDefs, proto.standardPropMap);\n        };\n\n        ParsableModelMixin.copyVerbatimStandardProps = function (src, dest) {\n          var map = this.prototype.standardPropMap;\n          var propName;\n\n          for (propName in map) {\n            if (src[propName] != null && // in the src object?\n            map[propName] === true // false means \"copy verbatim\"\n            ) {\n                dest[propName] = src[propName];\n              }\n          }\n        };\n        /*\r\n        Returns true/false for success.\r\n        Meant to be only called ONCE, at object creation.\r\n        */\n\n\n        ParsableModelMixin.prototype.applyProps = function (rawProps) {\n          var standardPropMap = this.standardPropMap;\n          var manualProps = {};\n          var miscProps = {};\n          var propName;\n\n          for (propName in rawProps) {\n            if (standardPropMap[propName] === true) {\n              // copy verbatim\n              this[propName] = rawProps[propName];\n            } else if (standardPropMap[propName] === false) {\n              manualProps[propName] = rawProps[propName];\n            } else {\n              miscProps[propName] = rawProps[propName];\n            }\n          }\n\n          this.applyMiscProps(miscProps);\n          return this.applyManualStandardProps(manualProps);\n        };\n        /*\r\n        If subclasses override, they must call this supermethod and return the boolean response.\r\n        Meant to be only called ONCE, at object creation.\r\n        */\n\n\n        ParsableModelMixin.prototype.applyManualStandardProps = function (rawProps) {\n          return true;\n        };\n        /*\r\n        Can be called even after initial object creation.\r\n        */\n\n\n        ParsableModelMixin.prototype.applyMiscProps = function (rawProps) {// subclasses can implement\n        };\n        /*\r\n        TODO: why is this a method when defineStandardProps is static\r\n        */\n\n\n        ParsableModelMixin.prototype.isStandardProp = function (propName) {\n          return propName in this.standardPropMap;\n        };\n\n        return ParsableModelMixin;\n      }(Mixin_1.default);\n\n      exports.default = ParsableModelMixin;\n      ParsableModelMixin.prototype.standardPropMap = {}; // will be cloned by defineStandardProps\n\n      /***/\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventInstance =\n      /** @class */\n      function () {\n        function EventInstance(def, dateProfile) {\n          this.def = def;\n          this.dateProfile = dateProfile;\n        }\n\n        EventInstance.prototype.toLegacy = function () {\n          var dateProfile = this.dateProfile;\n          var obj = this.def.toLegacy();\n          obj.start = dateProfile.start.clone();\n          obj.end = dateProfile.end ? dateProfile.end.clone() : null;\n          return obj;\n        };\n\n        return EventInstance;\n      }();\n\n      exports.default = EventInstance;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var EventDef_1 = __webpack_require__(37);\n\n      var EventInstance_1 = __webpack_require__(53);\n\n      var EventDateProfile_1 = __webpack_require__(16);\n\n      var RecurringEventDef =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(RecurringEventDef, _super);\n\n        function RecurringEventDef() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RecurringEventDef.prototype.isAllDay = function () {\n          return !this.startTime && !this.endTime;\n        };\n\n        RecurringEventDef.prototype.buildInstances = function (unzonedRange) {\n          var calendar = this.source.calendar;\n          var unzonedDate = unzonedRange.getStart();\n          var unzonedEnd = unzonedRange.getEnd();\n          var zonedDayStart;\n          var instanceStart;\n          var instanceEnd;\n          var instances = [];\n\n          while (unzonedDate.isBefore(unzonedEnd)) {\n            // if everyday, or this particular day-of-week\n            if (!this.dowHash || this.dowHash[unzonedDate.day()]) {\n              zonedDayStart = calendar.applyTimezone(unzonedDate);\n              instanceStart = zonedDayStart.clone();\n              instanceEnd = null;\n\n              if (this.startTime) {\n                instanceStart.time(this.startTime);\n              } else {\n                instanceStart.stripTime();\n              }\n\n              if (this.endTime) {\n                instanceEnd = zonedDayStart.clone().time(this.endTime);\n              }\n\n              instances.push(new EventInstance_1.default(this, // definition\n              new EventDateProfile_1.default(instanceStart, instanceEnd, calendar)));\n            }\n\n            unzonedDate.add(1, 'days');\n          }\n\n          return instances;\n        };\n\n        RecurringEventDef.prototype.setDow = function (dowNumbers) {\n          if (!this.dowHash) {\n            this.dowHash = {};\n          }\n\n          for (var i = 0; i < dowNumbers.length; i++) {\n            this.dowHash[dowNumbers[i]] = true;\n          }\n        };\n\n        RecurringEventDef.prototype.clone = function () {\n          var def = _super.prototype.clone.call(this);\n\n          if (def.startTime) {\n            def.startTime = moment.duration(this.startTime);\n          }\n\n          if (def.endTime) {\n            def.endTime = moment.duration(this.endTime);\n          }\n\n          if (this.dowHash) {\n            def.dowHash = $.extend({}, this.dowHash);\n          }\n\n          return def;\n        };\n\n        return RecurringEventDef;\n      }(EventDef_1.default);\n\n      exports.default = RecurringEventDef;\n      /*\r\n      HACK to work with TypeScript mixins\r\n      NOTE: if super-method fails, should still attempt to apply\r\n      */\n\n      RecurringEventDef.prototype.applyProps = function (rawProps) {\n        var superSuccess = EventDef_1.default.prototype.applyProps.call(this, rawProps);\n\n        if (rawProps.start) {\n          this.startTime = moment.duration(rawProps.start);\n        }\n\n        if (rawProps.end) {\n          this.endTime = moment.duration(rawProps.end);\n        }\n\n        if (rawProps.dow) {\n          this.setDow(rawProps.dow);\n        }\n\n        return superSuccess;\n      }; // Parsing\n      // ---------------------------------------------------------------------------------------------------------------------\n\n\n      RecurringEventDef.defineStandardProps({\n        start: false,\n        end: false,\n        dow: false\n      });\n      /***/\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var DateProfileGenerator =\n      /** @class */\n      function () {\n        function DateProfileGenerator(_view) {\n          this._view = _view;\n        }\n\n        DateProfileGenerator.prototype.opt = function (name) {\n          return this._view.opt(name);\n        };\n\n        DateProfileGenerator.prototype.trimHiddenDays = function (unzonedRange) {\n          return this._view.trimHiddenDays(unzonedRange);\n        };\n\n        DateProfileGenerator.prototype.msToUtcMoment = function (ms, forceAllDay) {\n          return this._view.calendar.msToUtcMoment(ms, forceAllDay);\n        };\n        /* Date Range Computation\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n\n\n        DateProfileGenerator.prototype.buildPrev = function (currentDateProfile) {\n          var prevDate = currentDateProfile.date.clone().startOf(currentDateProfile.currentRangeUnit).subtract(currentDateProfile.dateIncrement);\n          return this.build(prevDate, -1);\n        }; // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n\n\n        DateProfileGenerator.prototype.buildNext = function (currentDateProfile) {\n          var nextDate = currentDateProfile.date.clone().startOf(currentDateProfile.currentRangeUnit).add(currentDateProfile.dateIncrement);\n          return this.build(nextDate, 1);\n        }; // Builds a structure holding dates/ranges for rendering around the given date.\n        // Optional direction param indicates whether the date is being incremented/decremented\n        // from its previous value. decremented = -1, incremented = 1 (default).\n\n\n        DateProfileGenerator.prototype.build = function (date, direction, forceToValid) {\n          if (forceToValid === void 0) {\n            forceToValid = false;\n          }\n\n          var isDateAllDay = !date.hasTime();\n          var validUnzonedRange;\n          var minTime = null;\n          var maxTime = null;\n          var currentInfo;\n          var isRangeAllDay;\n          var renderUnzonedRange;\n          var activeUnzonedRange;\n          var isValid;\n          validUnzonedRange = this.buildValidRange();\n          validUnzonedRange = this.trimHiddenDays(validUnzonedRange);\n\n          if (forceToValid) {\n            date = this.msToUtcMoment(validUnzonedRange.constrainDate(date), // returns MS\n            isDateAllDay);\n          }\n\n          currentInfo = this.buildCurrentRangeInfo(date, direction);\n          isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n          renderUnzonedRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.unzonedRange), currentInfo.unit, isRangeAllDay);\n          renderUnzonedRange = this.trimHiddenDays(renderUnzonedRange);\n          activeUnzonedRange = renderUnzonedRange.clone();\n\n          if (!this.opt('showNonCurrentDates')) {\n            activeUnzonedRange = activeUnzonedRange.intersect(currentInfo.unzonedRange);\n          }\n\n          minTime = moment.duration(this.opt('minTime'));\n          maxTime = moment.duration(this.opt('maxTime'));\n          activeUnzonedRange = this.adjustActiveRange(activeUnzonedRange, minTime, maxTime);\n          activeUnzonedRange = activeUnzonedRange.intersect(validUnzonedRange); // might return null\n\n          if (activeUnzonedRange) {\n            date = this.msToUtcMoment(activeUnzonedRange.constrainDate(date), // returns MS\n            isDateAllDay);\n          } // it's invalid if the originally requested date is not contained,\n          // or if the range is completely outside of the valid range.\n\n\n          isValid = currentInfo.unzonedRange.intersectsWith(validUnzonedRange);\n          return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validUnzonedRange: validUnzonedRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentUnzonedRange: currentInfo.unzonedRange,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeUnzonedRange: activeUnzonedRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderUnzonedRange: renderUnzonedRange,\n            // Duration object that denotes the first visible time of any given day\n            minTime: minTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            maxTime: maxTime,\n            isValid: isValid,\n            date: date,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration) // pass a fallback (might be null) ^\n\n          };\n        }; // Builds an object with optional start/end properties.\n        // Indicates the minimum/maximum dates to display.\n        // not responsible for trimming hidden days.\n\n\n        DateProfileGenerator.prototype.buildValidRange = function () {\n          return this._view.getUnzonedRangeOption('validRange', this._view.calendar.getNow()) || new UnzonedRange_1.default(); // completely open-ended\n        }; // Builds a structure with info about the \"current\" range, the range that is\n        // highlighted as being the current month for example.\n        // See build() for a description of `direction`.\n        // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n        // TODO: accept a MS-time instead of a moment `date`?\n\n\n        DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n          var viewSpec = this._view.viewSpec;\n          var duration = null;\n          var unit = null;\n          var unzonedRange = null;\n          var dayCount;\n\n          if (viewSpec.duration) {\n            duration = viewSpec.duration;\n            unit = viewSpec.durationUnit;\n            unzonedRange = this.buildRangeFromDuration(date, direction, duration, unit);\n          } else if (dayCount = this.opt('dayCount')) {\n            unit = 'day';\n            unzonedRange = this.buildRangeFromDayCount(date, direction, dayCount);\n          } else if (unzonedRange = this.buildCustomVisibleRange(date)) {\n            unit = util_1.computeGreatestUnit(unzonedRange.getStart(), unzonedRange.getEnd());\n          } else {\n            duration = this.getFallbackDuration();\n            unit = util_1.computeGreatestUnit(duration);\n            unzonedRange = this.buildRangeFromDuration(date, direction, duration, unit);\n          }\n\n          return {\n            duration: duration,\n            unit: unit,\n            unzonedRange: unzonedRange\n          };\n        };\n\n        DateProfileGenerator.prototype.getFallbackDuration = function () {\n          return moment.duration({\n            days: 1\n          });\n        }; // Returns a new activeUnzonedRange to have time values (un-ambiguate)\n        // minTime or maxTime causes the range to expand.\n\n\n        DateProfileGenerator.prototype.adjustActiveRange = function (unzonedRange, minTime, maxTime) {\n          var start = unzonedRange.getStart();\n          var end = unzonedRange.getEnd();\n\n          if (this._view.usesMinMaxTime) {\n            if (minTime < 0) {\n              start.time(0).add(minTime);\n            }\n\n            if (maxTime > 24 * 60 * 60 * 1000) {\n              // beyond 24 hours?\n              end.time(maxTime - 24 * 60 * 60 * 1000);\n            }\n          }\n\n          return new UnzonedRange_1.default(start, end);\n        }; // Builds the \"current\" range when it is specified as an explicit duration.\n        // `unit` is the already-computed computeGreatestUnit value of duration.\n        // TODO: accept a MS-time instead of a moment `date`?\n\n\n        DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n          var alignment = this.opt('dateAlignment');\n          var dateIncrementInput;\n          var dateIncrementDuration;\n          var start;\n          var end;\n          var res; // compute what the alignment should be\n\n          if (!alignment) {\n            dateIncrementInput = this.opt('dateIncrement');\n\n            if (dateIncrementInput) {\n              dateIncrementDuration = moment.duration(dateIncrementInput); // use the smaller of the two units\n\n              if (dateIncrementDuration < duration) {\n                alignment = util_1.computeDurationGreatestUnit(dateIncrementDuration, dateIncrementInput);\n              } else {\n                alignment = unit;\n              }\n            } else {\n              alignment = unit;\n            }\n          } // if the view displays a single day or smaller\n\n\n          if (duration.as('days') <= 1) {\n            if (this._view.isHiddenDay(start)) {\n              start = this._view.skipHiddenDays(start, direction);\n              start.startOf('day');\n            }\n          }\n\n          function computeRes() {\n            start = date.clone().startOf(alignment);\n            end = start.clone().add(duration);\n            res = new UnzonedRange_1.default(start, end);\n          }\n\n          computeRes(); // if range is completely enveloped by hidden days, go past the hidden days\n\n          if (!this.trimHiddenDays(res)) {\n            date = this._view.skipHiddenDays(date, direction);\n            computeRes();\n          }\n\n          return res;\n        }; // Builds the \"current\" range when a dayCount is specified.\n        // TODO: accept a MS-time instead of a moment `date`?\n\n\n        DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n          var customAlignment = this.opt('dateAlignment');\n          var runningCount = 0;\n          var start;\n          var end;\n\n          if (customAlignment || direction !== -1) {\n            start = date.clone();\n\n            if (customAlignment) {\n              start.startOf(customAlignment);\n            }\n\n            start.startOf('day');\n            start = this._view.skipHiddenDays(start);\n            end = start.clone();\n\n            do {\n              end.add(1, 'day');\n\n              if (!this._view.isHiddenDay(end)) {\n                runningCount++;\n              }\n            } while (runningCount < dayCount);\n          } else {\n            end = date.clone().startOf('day').add(1, 'day');\n            end = this._view.skipHiddenDays(end, -1, true);\n            start = end.clone();\n\n            do {\n              start.add(-1, 'day');\n\n              if (!this._view.isHiddenDay(start)) {\n                runningCount++;\n              }\n            } while (runningCount < dayCount);\n          }\n\n          return new UnzonedRange_1.default(start, end);\n        }; // Builds a normalized range object for the \"visible\" range,\n        // which is a way to define the currentUnzonedRange and activeUnzonedRange at the same time.\n        // TODO: accept a MS-time instead of a moment `date`?\n\n\n        DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n          var visibleUnzonedRange = this._view.getUnzonedRangeOption('visibleRange', this._view.calendar.applyTimezone(date) // correct zone. also generates new obj that avoids mutations\n          );\n\n          if (visibleUnzonedRange && (visibleUnzonedRange.startMs == null || visibleUnzonedRange.endMs == null)) {\n            return null;\n          }\n\n          return visibleUnzonedRange;\n        }; // Computes the range that will represent the element/cells for *rendering*,\n        // but which may have voided days/times.\n        // not responsible for trimming hidden days.\n\n\n        DateProfileGenerator.prototype.buildRenderRange = function (currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\n          return currentUnzonedRange.clone();\n        }; // Compute the duration value that should be added/substracted to the current date\n        // when a prev/next operation happens.\n\n\n        DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n          var dateIncrementInput = this.opt('dateIncrement');\n          var customAlignment;\n\n          if (dateIncrementInput) {\n            return moment.duration(dateIncrementInput);\n          } else if (customAlignment = this.opt('dateAlignment')) {\n            return moment.duration(1, customAlignment);\n          } else if (fallback) {\n            return fallback;\n          } else {\n            return moment.duration({\n              days: 1\n            });\n          }\n        };\n\n        return DateProfileGenerator;\n      }();\n\n      exports.default = DateProfileGenerator;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var Promise_1 = __webpack_require__(21);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var ArrayEventSource =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ArrayEventSource, _super);\n\n        function ArrayEventSource(calendar) {\n          var _this = _super.call(this, calendar) || this;\n\n          _this.eventDefs = []; // for if setRawEventDefs is never called\n\n          return _this;\n        }\n\n        ArrayEventSource.parse = function (rawInput, calendar) {\n          var rawProps; // normalize raw input\n\n          if ($.isArray(rawInput.events)) {\n            // extended form\n            rawProps = rawInput;\n          } else if ($.isArray(rawInput)) {\n            // short form\n            rawProps = {\n              events: rawInput\n            };\n          }\n\n          if (rawProps) {\n            return EventSource_1.default.parse.call(this, rawProps, calendar);\n          }\n\n          return false;\n        };\n\n        ArrayEventSource.prototype.setRawEventDefs = function (rawEventDefs) {\n          this.rawEventDefs = rawEventDefs;\n          this.eventDefs = this.parseEventDefs(rawEventDefs);\n        };\n\n        ArrayEventSource.prototype.fetch = function (start, end, timezone) {\n          var eventDefs = this.eventDefs;\n          var i;\n\n          if (this.currentTimezone != null && this.currentTimezone !== timezone) {\n            for (i = 0; i < eventDefs.length; i++) {\n              if (eventDefs[i] instanceof SingleEventDef_1.default) {\n                eventDefs[i].rezone();\n              }\n            }\n          }\n\n          this.currentTimezone = timezone;\n          return Promise_1.default.resolve(eventDefs);\n        };\n\n        ArrayEventSource.prototype.addEventDef = function (eventDef) {\n          this.eventDefs.push(eventDef);\n        };\n        /*\r\n        eventDefId already normalized to a string\r\n        */\n\n\n        ArrayEventSource.prototype.removeEventDefsById = function (eventDefId) {\n          return util_1.removeMatching(this.eventDefs, function (eventDef) {\n            return eventDef.id === eventDefId;\n          });\n        };\n\n        ArrayEventSource.prototype.removeAllEventDefs = function () {\n          this.eventDefs = [];\n        };\n\n        ArrayEventSource.prototype.getPrimitive = function () {\n          return this.rawEventDefs;\n        };\n\n        ArrayEventSource.prototype.applyManualStandardProps = function (rawProps) {\n          var superSuccess = _super.prototype.applyManualStandardProps.call(this, rawProps);\n\n          this.setRawEventDefs(rawProps.events);\n          return superSuccess;\n        };\n\n        return ArrayEventSource;\n      }(EventSource_1.default);\n\n      exports.default = ArrayEventSource;\n      ArrayEventSource.defineStandardProps({\n        events: false // don't automatically transfer\n\n      });\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var StandardTheme_1 = __webpack_require__(221);\n\n      var JqueryUiTheme_1 = __webpack_require__(222);\n\n      var themeClassHash = {};\n\n      function defineThemeSystem(themeName, themeClass) {\n        themeClassHash[themeName] = themeClass;\n      }\n\n      exports.defineThemeSystem = defineThemeSystem;\n\n      function getThemeSystemClass(themeSetting) {\n        if (!themeSetting) {\n          return StandardTheme_1.default;\n        } else if (themeSetting === true) {\n          return JqueryUiTheme_1.default;\n        } else {\n          return themeClassHash[themeSetting];\n        }\n      }\n\n      exports.getThemeSystemClass = getThemeSystemClass;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n      /*\r\n      A cache for the left/right/top/bottom/width/height values for one or more elements.\r\n      Works with both offset (from topleft document) and position (from offsetParent).\r\n      \n      options:\r\n      - els\r\n      - isHorizontal\r\n      - isVertical\r\n      */\n\n\n      var CoordCache =\n      /** @class */\n      function () {\n        function CoordCache(options) {\n          this.isHorizontal = false; // whether to query for left/right/width\n\n          this.isVertical = false; // whether to query for top/bottom/height\n\n          this.els = $(options.els);\n          this.isHorizontal = options.isHorizontal;\n          this.isVertical = options.isVertical;\n          this.forcedOffsetParentEl = options.offsetParent ? $(options.offsetParent) : null;\n        } // Queries the els for coordinates and stores them.\n        // Call this method before using and of the get* methods below.\n\n\n        CoordCache.prototype.build = function () {\n          var offsetParentEl = this.forcedOffsetParentEl;\n\n          if (!offsetParentEl && this.els.length > 0) {\n            offsetParentEl = this.els.eq(0).offsetParent();\n          }\n\n          this.origin = offsetParentEl ? offsetParentEl.offset() : null;\n          this.boundingRect = this.queryBoundingRect();\n\n          if (this.isHorizontal) {\n            this.buildElHorizontals();\n          }\n\n          if (this.isVertical) {\n            this.buildElVerticals();\n          }\n        }; // Destroys all internal data about coordinates, freeing memory\n\n\n        CoordCache.prototype.clear = function () {\n          this.origin = null;\n          this.boundingRect = null;\n          this.lefts = null;\n          this.rights = null;\n          this.tops = null;\n          this.bottoms = null;\n        }; // When called, if coord caches aren't built, builds them\n\n\n        CoordCache.prototype.ensureBuilt = function () {\n          if (!this.origin) {\n            this.build();\n          }\n        }; // Populates the left/right internal coordinate arrays\n\n\n        CoordCache.prototype.buildElHorizontals = function () {\n          var lefts = [];\n          var rights = [];\n          this.els.each(function (i, node) {\n            var el = $(node);\n            var left = el.offset().left;\n            var width = el.outerWidth();\n            lefts.push(left);\n            rights.push(left + width);\n          });\n          this.lefts = lefts;\n          this.rights = rights;\n        }; // Populates the top/bottom internal coordinate arrays\n\n\n        CoordCache.prototype.buildElVerticals = function () {\n          var tops = [];\n          var bottoms = [];\n          this.els.each(function (i, node) {\n            var el = $(node);\n            var top = el.offset().top;\n            var height = el.outerHeight();\n            tops.push(top);\n            bottoms.push(top + height);\n          });\n          this.tops = tops;\n          this.bottoms = bottoms;\n        }; // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n        // If no intersection is made, returns undefined.\n\n\n        CoordCache.prototype.getHorizontalIndex = function (leftOffset) {\n          this.ensureBuilt();\n          var lefts = this.lefts;\n          var rights = this.rights;\n          var len = lefts.length;\n          var i;\n\n          for (i = 0; i < len; i++) {\n            if (leftOffset >= lefts[i] && leftOffset < rights[i]) {\n              return i;\n            }\n          }\n        }; // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n        // If no intersection is made, returns undefined.\n\n\n        CoordCache.prototype.getVerticalIndex = function (topOffset) {\n          this.ensureBuilt();\n          var tops = this.tops;\n          var bottoms = this.bottoms;\n          var len = tops.length;\n          var i;\n\n          for (i = 0; i < len; i++) {\n            if (topOffset >= tops[i] && topOffset < bottoms[i]) {\n              return i;\n            }\n          }\n        }; // Gets the left offset (from document left) of the element at the given index\n\n\n        CoordCache.prototype.getLeftOffset = function (leftIndex) {\n          this.ensureBuilt();\n          return this.lefts[leftIndex];\n        }; // Gets the left position (from offsetParent left) of the element at the given index\n\n\n        CoordCache.prototype.getLeftPosition = function (leftIndex) {\n          this.ensureBuilt();\n          return this.lefts[leftIndex] - this.origin.left;\n        }; // Gets the right offset (from document left) of the element at the given index.\n        // This value is NOT relative to the document's right edge, like the CSS concept of \"right\" would be.\n\n\n        CoordCache.prototype.getRightOffset = function (leftIndex) {\n          this.ensureBuilt();\n          return this.rights[leftIndex];\n        }; // Gets the right position (from offsetParent left) of the element at the given index.\n        // This value is NOT relative to the offsetParent's right edge, like the CSS concept of \"right\" would be.\n\n\n        CoordCache.prototype.getRightPosition = function (leftIndex) {\n          this.ensureBuilt();\n          return this.rights[leftIndex] - this.origin.left;\n        }; // Gets the width of the element at the given index\n\n\n        CoordCache.prototype.getWidth = function (leftIndex) {\n          this.ensureBuilt();\n          return this.rights[leftIndex] - this.lefts[leftIndex];\n        }; // Gets the top offset (from document top) of the element at the given index\n\n\n        CoordCache.prototype.getTopOffset = function (topIndex) {\n          this.ensureBuilt();\n          return this.tops[topIndex];\n        }; // Gets the top position (from offsetParent top) of the element at the given position\n\n\n        CoordCache.prototype.getTopPosition = function (topIndex) {\n          this.ensureBuilt();\n          return this.tops[topIndex] - this.origin.top;\n        }; // Gets the bottom offset (from the document top) of the element at the given index.\n        // This value is NOT relative to the offsetParent's bottom edge, like the CSS concept of \"bottom\" would be.\n\n\n        CoordCache.prototype.getBottomOffset = function (topIndex) {\n          this.ensureBuilt();\n          return this.bottoms[topIndex];\n        }; // Gets the bottom position (from the offsetParent top) of the element at the given index.\n        // This value is NOT relative to the offsetParent's bottom edge, like the CSS concept of \"bottom\" would be.\n\n\n        CoordCache.prototype.getBottomPosition = function (topIndex) {\n          this.ensureBuilt();\n          return this.bottoms[topIndex] - this.origin.top;\n        }; // Gets the height of the element at the given index\n\n\n        CoordCache.prototype.getHeight = function (topIndex) {\n          this.ensureBuilt();\n          return this.bottoms[topIndex] - this.tops[topIndex];\n        }; // Bounding Rect\n        // TODO: decouple this from CoordCache\n        // Compute and return what the elements' bounding rectangle is, from the user's perspective.\n        // Right now, only returns a rectangle if constrained by an overflow:scroll element.\n        // Returns null if there are no elements\n\n\n        CoordCache.prototype.queryBoundingRect = function () {\n          var scrollParentEl;\n\n          if (this.els.length > 0) {\n            scrollParentEl = util_1.getScrollParent(this.els.eq(0));\n\n            if (!scrollParentEl.is(document) && !scrollParentEl.is('html,body') // don't consider these bounding rects. solves issue 3615\n            ) {\n                return util_1.getClientRect(scrollParentEl);\n              }\n          }\n\n          return null;\n        };\n\n        CoordCache.prototype.isPointInBounds = function (leftOffset, topOffset) {\n          return this.isLeftInBounds(leftOffset) && this.isTopInBounds(topOffset);\n        };\n\n        CoordCache.prototype.isLeftInBounds = function (leftOffset) {\n          return !this.boundingRect || leftOffset >= this.boundingRect.left && leftOffset < this.boundingRect.right;\n        };\n\n        CoordCache.prototype.isTopInBounds = function (topOffset) {\n          return !this.boundingRect || topOffset >= this.boundingRect.top && topOffset < this.boundingRect.bottom;\n        };\n\n        return CoordCache;\n      }();\n\n      exports.default = CoordCache;\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      var GlobalEmitter_1 = __webpack_require__(23);\n      /* Tracks a drag's mouse movement, firing various handlers\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // TODO: use Emitter\n\n\n      var DragListener =\n      /** @class */\n      function () {\n        function DragListener(options) {\n          this.isInteracting = false;\n          this.isDistanceSurpassed = false;\n          this.isDelayEnded = false;\n          this.isDragging = false;\n          this.isTouch = false;\n          this.isGeneric = false; // initiated by 'dragstart' (jqui)\n\n          this.shouldCancelTouchScroll = true;\n          this.scrollAlwaysKills = false;\n          this.isAutoScroll = false; // defaults\n\n          this.scrollSensitivity = 30; // pixels from edge for scrolling to start\n\n          this.scrollSpeed = 200; // pixels per second, at maximum speed\n\n          this.scrollIntervalMs = 50; // millisecond wait between scroll increment\n\n          this.options = options || {};\n        } // Interaction (high-level)\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.startInteraction = function (ev, extraOptions) {\n          if (extraOptions === void 0) {\n            extraOptions = {};\n          }\n\n          if (ev.type === 'mousedown') {\n            if (GlobalEmitter_1.default.get().shouldIgnoreMouse()) {\n              return;\n            } else if (!util_1.isPrimaryMouseButton(ev)) {\n              return;\n            } else {\n              ev.preventDefault(); // prevents native selection in most browsers\n            }\n          }\n\n          if (!this.isInteracting) {\n            // process options\n            this.delay = util_1.firstDefined(extraOptions.delay, this.options.delay, 0);\n            this.minDistance = util_1.firstDefined(extraOptions.distance, this.options.distance, 0);\n            this.subjectEl = this.options.subjectEl;\n            util_1.preventSelection($('body'));\n            this.isInteracting = true;\n            this.isTouch = util_1.getEvIsTouch(ev);\n            this.isGeneric = ev.type === 'dragstart';\n            this.isDelayEnded = false;\n            this.isDistanceSurpassed = false;\n            this.originX = util_1.getEvX(ev);\n            this.originY = util_1.getEvY(ev);\n            this.scrollEl = util_1.getScrollParent($(ev.target));\n            this.bindHandlers();\n            this.initAutoScroll();\n            this.handleInteractionStart(ev);\n            this.startDelay(ev);\n\n            if (!this.minDistance) {\n              this.handleDistanceSurpassed(ev);\n            }\n          }\n        };\n\n        DragListener.prototype.handleInteractionStart = function (ev) {\n          this.trigger('interactionStart', ev);\n        };\n\n        DragListener.prototype.endInteraction = function (ev, isCancelled) {\n          if (this.isInteracting) {\n            this.endDrag(ev);\n\n            if (this.delayTimeoutId) {\n              clearTimeout(this.delayTimeoutId);\n              this.delayTimeoutId = null;\n            }\n\n            this.destroyAutoScroll();\n            this.unbindHandlers();\n            this.isInteracting = false;\n            this.handleInteractionEnd(ev, isCancelled);\n            util_1.allowSelection($('body'));\n          }\n        };\n\n        DragListener.prototype.handleInteractionEnd = function (ev, isCancelled) {\n          this.trigger('interactionEnd', ev, isCancelled || false);\n        }; // Binding To DOM\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.bindHandlers = function () {\n          // some browsers (Safari in iOS 10) don't allow preventDefault on touch events that are bound after touchstart,\n          // so listen to the GlobalEmitter singleton, which is always bound, instead of the document directly.\n          var globalEmitter = GlobalEmitter_1.default.get();\n\n          if (this.isGeneric) {\n            this.listenTo($(document), {\n              drag: this.handleMove,\n              dragstop: this.endInteraction\n            });\n          } else if (this.isTouch) {\n            this.listenTo(globalEmitter, {\n              touchmove: this.handleTouchMove,\n              touchend: this.endInteraction,\n              scroll: this.handleTouchScroll\n            });\n          } else {\n            this.listenTo(globalEmitter, {\n              mousemove: this.handleMouseMove,\n              mouseup: this.endInteraction\n            });\n          }\n\n          this.listenTo(globalEmitter, {\n            selectstart: util_1.preventDefault,\n            contextmenu: util_1.preventDefault // long taps would open menu on Chrome dev tools\n\n          });\n        };\n\n        DragListener.prototype.unbindHandlers = function () {\n          this.stopListeningTo(GlobalEmitter_1.default.get());\n          this.stopListeningTo($(document)); // for isGeneric\n        }; // Drag (high-level)\n        // -----------------------------------------------------------------------------------------------------------------\n        // extraOptions ignored if drag already started\n\n\n        DragListener.prototype.startDrag = function (ev, extraOptions) {\n          this.startInteraction(ev, extraOptions); // ensure interaction began\n\n          if (!this.isDragging) {\n            this.isDragging = true;\n            this.handleDragStart(ev);\n          }\n        };\n\n        DragListener.prototype.handleDragStart = function (ev) {\n          this.trigger('dragStart', ev);\n        };\n\n        DragListener.prototype.handleMove = function (ev) {\n          var dx = util_1.getEvX(ev) - this.originX;\n          var dy = util_1.getEvY(ev) - this.originY;\n          var minDistance = this.minDistance;\n          var distanceSq; // current distance from the origin, squared\n\n          if (!this.isDistanceSurpassed) {\n            distanceSq = dx * dx + dy * dy;\n\n            if (distanceSq >= minDistance * minDistance) {\n              // use pythagorean theorem\n              this.handleDistanceSurpassed(ev);\n            }\n          }\n\n          if (this.isDragging) {\n            this.handleDrag(dx, dy, ev);\n          }\n        }; // Called while the mouse is being moved and when we know a legitimate drag is taking place\n\n\n        DragListener.prototype.handleDrag = function (dx, dy, ev) {\n          this.trigger('drag', dx, dy, ev);\n          this.updateAutoScroll(ev); // will possibly cause scrolling\n        };\n\n        DragListener.prototype.endDrag = function (ev) {\n          if (this.isDragging) {\n            this.isDragging = false;\n            this.handleDragEnd(ev);\n          }\n        };\n\n        DragListener.prototype.handleDragEnd = function (ev) {\n          this.trigger('dragEnd', ev);\n        }; // Delay\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.startDelay = function (initialEv) {\n          var _this = this;\n\n          if (this.delay) {\n            this.delayTimeoutId = setTimeout(function () {\n              _this.handleDelayEnd(initialEv);\n            }, this.delay);\n          } else {\n            this.handleDelayEnd(initialEv);\n          }\n        };\n\n        DragListener.prototype.handleDelayEnd = function (initialEv) {\n          this.isDelayEnded = true;\n\n          if (this.isDistanceSurpassed) {\n            this.startDrag(initialEv);\n          }\n        }; // Distance\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.handleDistanceSurpassed = function (ev) {\n          this.isDistanceSurpassed = true;\n\n          if (this.isDelayEnded) {\n            this.startDrag(ev);\n          }\n        }; // Mouse / Touch\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.handleTouchMove = function (ev) {\n          // prevent inertia and touchmove-scrolling while dragging\n          if (this.isDragging && this.shouldCancelTouchScroll) {\n            ev.preventDefault();\n          }\n\n          this.handleMove(ev);\n        };\n\n        DragListener.prototype.handleMouseMove = function (ev) {\n          this.handleMove(ev);\n        }; // Scrolling (unrelated to auto-scroll)\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.handleTouchScroll = function (ev) {\n          // if the drag is being initiated by touch, but a scroll happens before\n          // the drag-initiating delay is over, cancel the drag\n          if (!this.isDragging || this.scrollAlwaysKills) {\n            this.endInteraction(ev, true); // isCancelled=true\n          }\n        }; // Utils\n        // -----------------------------------------------------------------------------------------------------------------\n        // Triggers a callback. Calls a function in the option hash of the same name.\n        // Arguments beyond the first `name` are forwarded on.\n\n\n        DragListener.prototype.trigger = function (name) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          if (this.options[name]) {\n            this.options[name].apply(this, args);\n          } // makes _methods callable by event name. TODO: kill this\n\n\n          if (this['_' + name]) {\n            this['_' + name].apply(this, args);\n          }\n        }; // Auto-scroll\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DragListener.prototype.initAutoScroll = function () {\n          var scrollEl = this.scrollEl;\n          this.isAutoScroll = this.options.scroll && scrollEl && !scrollEl.is(window) && !scrollEl.is(document);\n\n          if (this.isAutoScroll) {\n            // debounce makes sure rapid calls don't happen\n            this.listenTo(scrollEl, 'scroll', util_1.debounce(this.handleDebouncedScroll, 100));\n          }\n        };\n\n        DragListener.prototype.destroyAutoScroll = function () {\n          this.endAutoScroll(); // kill any animation loop\n          // remove the scroll handler if there is a scrollEl\n\n          if (this.isAutoScroll) {\n            this.stopListeningTo(this.scrollEl, 'scroll'); // will probably get removed by unbindHandlers too :(\n          }\n        }; // Computes and stores the bounding rectangle of scrollEl\n\n\n        DragListener.prototype.computeScrollBounds = function () {\n          if (this.isAutoScroll) {\n            this.scrollBounds = util_1.getOuterRect(this.scrollEl); // TODO: use getClientRect in future. but prevents auto scrolling when on top of scrollbars\n          }\n        }; // Called when the dragging is in progress and scrolling should be updated\n\n\n        DragListener.prototype.updateAutoScroll = function (ev) {\n          var sensitivity = this.scrollSensitivity;\n          var bounds = this.scrollBounds;\n          var topCloseness;\n          var bottomCloseness;\n          var leftCloseness;\n          var rightCloseness;\n          var topVel = 0;\n          var leftVel = 0;\n\n          if (bounds) {\n            // only scroll if scrollEl exists\n            // compute closeness to edges. valid range is from 0.0 - 1.0\n            topCloseness = (sensitivity - (util_1.getEvY(ev) - bounds.top)) / sensitivity;\n            bottomCloseness = (sensitivity - (bounds.bottom - util_1.getEvY(ev))) / sensitivity;\n            leftCloseness = (sensitivity - (util_1.getEvX(ev) - bounds.left)) / sensitivity;\n            rightCloseness = (sensitivity - (bounds.right - util_1.getEvX(ev))) / sensitivity; // translate vertical closeness into velocity.\n            // mouse must be completely in bounds for velocity to happen.\n\n            if (topCloseness >= 0 && topCloseness <= 1) {\n              topVel = topCloseness * this.scrollSpeed * -1; // negative. for scrolling up\n            } else if (bottomCloseness >= 0 && bottomCloseness <= 1) {\n              topVel = bottomCloseness * this.scrollSpeed;\n            } // translate horizontal closeness into velocity\n\n\n            if (leftCloseness >= 0 && leftCloseness <= 1) {\n              leftVel = leftCloseness * this.scrollSpeed * -1; // negative. for scrolling left\n            } else if (rightCloseness >= 0 && rightCloseness <= 1) {\n              leftVel = rightCloseness * this.scrollSpeed;\n            }\n          }\n\n          this.setScrollVel(topVel, leftVel);\n        }; // Sets the speed-of-scrolling for the scrollEl\n\n\n        DragListener.prototype.setScrollVel = function (topVel, leftVel) {\n          this.scrollTopVel = topVel;\n          this.scrollLeftVel = leftVel;\n          this.constrainScrollVel(); // massages into realistic values\n          // if there is non-zero velocity, and an animation loop hasn't already started, then START\n\n          if ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId) {\n            this.scrollIntervalId = setInterval(util_1.proxy(this, 'scrollIntervalFunc'), // scope to `this`\n            this.scrollIntervalMs);\n          }\n        }; // Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way\n\n\n        DragListener.prototype.constrainScrollVel = function () {\n          var el = this.scrollEl;\n\n          if (this.scrollTopVel < 0) {\n            // scrolling up?\n            if (el.scrollTop() <= 0) {\n              // already scrolled all the way up?\n              this.scrollTopVel = 0;\n            }\n          } else if (this.scrollTopVel > 0) {\n            // scrolling down?\n            if (el.scrollTop() + el[0].clientHeight >= el[0].scrollHeight) {\n              // already scrolled all the way down?\n              this.scrollTopVel = 0;\n            }\n          }\n\n          if (this.scrollLeftVel < 0) {\n            // scrolling left?\n            if (el.scrollLeft() <= 0) {\n              // already scrolled all the left?\n              this.scrollLeftVel = 0;\n            }\n          } else if (this.scrollLeftVel > 0) {\n            // scrolling right?\n            if (el.scrollLeft() + el[0].clientWidth >= el[0].scrollWidth) {\n              // already scrolled all the way right?\n              this.scrollLeftVel = 0;\n            }\n          }\n        }; // This function gets called during every iteration of the scrolling animation loop\n\n\n        DragListener.prototype.scrollIntervalFunc = function () {\n          var el = this.scrollEl;\n          var frac = this.scrollIntervalMs / 1000; // considering animation frequency, what the vel should be mult'd by\n          // change the value of scrollEl's scroll\n\n          if (this.scrollTopVel) {\n            el.scrollTop(el.scrollTop() + this.scrollTopVel * frac);\n          }\n\n          if (this.scrollLeftVel) {\n            el.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac);\n          }\n\n          this.constrainScrollVel(); // since the scroll values changed, recompute the velocities\n          // if scrolled all the way, which causes the vels to be zero, stop the animation loop\n\n          if (!this.scrollTopVel && !this.scrollLeftVel) {\n            this.endAutoScroll();\n          }\n        }; // Kills any existing scrolling animation loop\n\n\n        DragListener.prototype.endAutoScroll = function () {\n          if (this.scrollIntervalId) {\n            clearInterval(this.scrollIntervalId);\n            this.scrollIntervalId = null;\n            this.handleScrollEnd();\n          }\n        }; // Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)\n\n\n        DragListener.prototype.handleDebouncedScroll = function () {\n          // recompute all coordinates, but *only* if this is *not* part of our scrolling animation\n          if (!this.scrollIntervalId) {\n            this.handleScrollEnd();\n          }\n        };\n\n        DragListener.prototype.handleScrollEnd = function () {// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n        };\n\n        return DragListener;\n      }();\n\n      exports.default = DragListener;\n      ListenerMixin_1.default.mixInto(DragListener);\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var Mixin_1 = __webpack_require__(15);\n      /*\r\n      A set of rendering and date-related methods for a visual component comprised of one or more rows of day columns.\r\n      Prerequisite: the object being mixed into needs to be a *Grid*\r\n      */\n\n\n      var DayTableMixin =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DayTableMixin, _super);\n\n        function DayTableMixin() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // Populates internal variables used for date calculation and rendering\n\n\n        DayTableMixin.prototype.updateDayTable = function () {\n          var t = this;\n          var view = t.view;\n          var calendar = view.calendar;\n          var date = calendar.msToUtcMoment(t.dateProfile.renderUnzonedRange.startMs, true);\n          var end = calendar.msToUtcMoment(t.dateProfile.renderUnzonedRange.endMs, true);\n          var dayIndex = -1;\n          var dayIndices = [];\n          var dayDates = [];\n          var daysPerRow;\n          var firstDay;\n          var rowCnt;\n\n          while (date.isBefore(end)) {\n            // loop each day from start to end\n            if (view.isHiddenDay(date)) {\n              dayIndices.push(dayIndex + 0.5); // mark that it's between indices\n            } else {\n              dayIndex++;\n              dayIndices.push(dayIndex);\n              dayDates.push(date.clone());\n            }\n\n            date.add(1, 'days');\n          }\n\n          if (this.breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dayDates[0].day();\n\n            for (daysPerRow = 1; daysPerRow < dayDates.length; daysPerRow++) {\n              if (dayDates[daysPerRow].day() === firstDay) {\n                break;\n              }\n            }\n\n            rowCnt = Math.ceil(dayDates.length / daysPerRow);\n          } else {\n            rowCnt = 1;\n            daysPerRow = dayDates.length;\n          }\n\n          this.dayDates = dayDates;\n          this.dayIndices = dayIndices;\n          this.daysPerRow = daysPerRow;\n          this.rowCnt = rowCnt;\n          this.updateDayTableCols();\n        }; // Computes and assigned the colCnt property and updates any options that may be computed from it\n\n\n        DayTableMixin.prototype.updateDayTableCols = function () {\n          this.colCnt = this.computeColCnt();\n          this.colHeadFormat = this.opt('columnHeaderFormat') || this.opt('columnFormat') || // deprecated\n          this.computeColHeadFormat();\n        }; // Determines how many columns there should be in the table\n\n\n        DayTableMixin.prototype.computeColCnt = function () {\n          return this.daysPerRow;\n        }; // Computes the ambiguously-timed moment for the given cell\n\n\n        DayTableMixin.prototype.getCellDate = function (row, col) {\n          return this.dayDates[this.getCellDayIndex(row, col)].clone();\n        }; // Computes the ambiguously-timed date range for the given cell\n\n\n        DayTableMixin.prototype.getCellRange = function (row, col) {\n          var start = this.getCellDate(row, col);\n          var end = start.clone().add(1, 'days');\n          return {\n            start: start,\n            end: end\n          };\n        }; // Returns the number of day cells, chronologically, from the first of the grid (0-based)\n\n\n        DayTableMixin.prototype.getCellDayIndex = function (row, col) {\n          return row * this.daysPerRow + this.getColDayIndex(col);\n        }; // Returns the numner of day cells, chronologically, from the first cell in *any given row*\n\n\n        DayTableMixin.prototype.getColDayIndex = function (col) {\n          if (this.isRTL) {\n            return this.colCnt - 1 - col;\n          } else {\n            return col;\n          }\n        }; // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n        // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n        // If before the first offset, returns a negative number.\n        // If after the last offset, returns an offset past the last cell offset.\n        // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n\n\n        DayTableMixin.prototype.getDateDayIndex = function (date) {\n          var dayIndices = this.dayIndices;\n          var dayOffset = date.diff(this.dayDates[0], 'days');\n\n          if (dayOffset < 0) {\n            return dayIndices[0] - 1;\n          } else if (dayOffset >= dayIndices.length) {\n            return dayIndices[dayIndices.length - 1] + 1;\n          } else {\n            return dayIndices[dayOffset];\n          }\n        };\n        /* Options\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Computes a default column header formatting string if `colFormat` is not explicitly defined\n\n\n        DayTableMixin.prototype.computeColHeadFormat = function () {\n          // if more than one week row, or if there are a lot of columns with not much space,\n          // put just the day numbers will be in each cell\n          if (this.rowCnt > 1 || this.colCnt > 10) {\n            return 'ddd'; // \"Sat\"\n          } else if (this.colCnt > 1) {\n            return this.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n          } else {\n            return 'dddd'; // \"Saturday\"\n          }\n        };\n        /* Slicing\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Slices up a date range into a segment for every week-row it intersects with\n\n\n        DayTableMixin.prototype.sliceRangeByRow = function (unzonedRange) {\n          var daysPerRow = this.daysPerRow;\n          var normalRange = this.view.computeDayRange(unzonedRange); // make whole-day range, considering nextDayThreshold\n\n          var rangeFirst = this.getDateDayIndex(normalRange.start); // inclusive first index\n\n          var rangeLast = this.getDateDayIndex(normalRange.end.clone().subtract(1, 'days')); // inclusive last index\n\n          var segs = [];\n          var row;\n          var rowFirst;\n          var rowLast; // inclusive day-index range for current row\n\n          var segFirst;\n          var segLast; // inclusive day-index range for segment\n\n          for (row = 0; row < this.rowCnt; row++) {\n            rowFirst = row * daysPerRow;\n            rowLast = rowFirst + daysPerRow - 1; // intersect segment's offset range with the row's\n\n            segFirst = Math.max(rangeFirst, rowFirst);\n            segLast = Math.min(rangeLast, rowLast); // deal with in-between indices\n\n            segFirst = Math.ceil(segFirst); // in-between starts round to next cell\n\n            segLast = Math.floor(segLast); // in-between ends round to prev cell\n\n            if (segFirst <= segLast) {\n              // was there any intersection with the current row?\n              segs.push({\n                row: row,\n                // normalize to start of row\n                firstRowDayIndex: segFirst - rowFirst,\n                lastRowDayIndex: segLast - rowFirst,\n                // must be matching integers to be the segment's start/end\n                isStart: segFirst === rangeFirst,\n                isEnd: segLast === rangeLast\n              });\n            }\n          }\n\n          return segs;\n        }; // Slices up a date range into a segment for every day-cell it intersects with.\n        // TODO: make more DRY with sliceRangeByRow somehow.\n\n\n        DayTableMixin.prototype.sliceRangeByDay = function (unzonedRange) {\n          var daysPerRow = this.daysPerRow;\n          var normalRange = this.view.computeDayRange(unzonedRange); // make whole-day range, considering nextDayThreshold\n\n          var rangeFirst = this.getDateDayIndex(normalRange.start); // inclusive first index\n\n          var rangeLast = this.getDateDayIndex(normalRange.end.clone().subtract(1, 'days')); // inclusive last index\n\n          var segs = [];\n          var row;\n          var rowFirst;\n          var rowLast; // inclusive day-index range for current row\n\n          var i;\n          var segFirst;\n          var segLast; // inclusive day-index range for segment\n\n          for (row = 0; row < this.rowCnt; row++) {\n            rowFirst = row * daysPerRow;\n            rowLast = rowFirst + daysPerRow - 1;\n\n            for (i = rowFirst; i <= rowLast; i++) {\n              // intersect segment's offset range with the row's\n              segFirst = Math.max(rangeFirst, i);\n              segLast = Math.min(rangeLast, i); // deal with in-between indices\n\n              segFirst = Math.ceil(segFirst); // in-between starts round to next cell\n\n              segLast = Math.floor(segLast); // in-between ends round to prev cell\n\n              if (segFirst <= segLast) {\n                // was there any intersection with the current row?\n                segs.push({\n                  row: row,\n                  // normalize to start of row\n                  firstRowDayIndex: segFirst - rowFirst,\n                  lastRowDayIndex: segLast - rowFirst,\n                  // must be matching integers to be the segment's start/end\n                  isStart: segFirst === rangeFirst,\n                  isEnd: segLast === rangeLast\n                });\n              }\n            }\n          }\n\n          return segs;\n        };\n        /* Header Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayTableMixin.prototype.renderHeadHtml = function () {\n          var theme = this.view.calendar.theme;\n          return '' + '<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' + '<table class=\"' + theme.getClass('tableGrid') + '\">' + '<thead>' + this.renderHeadTrHtml() + '</thead>' + '</table>' + '</div>';\n        };\n\n        DayTableMixin.prototype.renderHeadIntroHtml = function () {\n          return this.renderIntroHtml(); // fall back to generic\n        };\n\n        DayTableMixin.prototype.renderHeadTrHtml = function () {\n          return '' + '<tr>' + (this.isRTL ? '' : this.renderHeadIntroHtml()) + this.renderHeadDateCellsHtml() + (this.isRTL ? this.renderHeadIntroHtml() : '') + '</tr>';\n        };\n\n        DayTableMixin.prototype.renderHeadDateCellsHtml = function () {\n          var htmls = [];\n          var col;\n          var date;\n\n          for (col = 0; col < this.colCnt; col++) {\n            date = this.getCellDate(0, col);\n            htmls.push(this.renderHeadDateCellHtml(date));\n          }\n\n          return htmls.join('');\n        }; // TODO: when internalApiVersion, accept an object for HTML attributes\n        // (colspan should be no different)\n\n\n        DayTableMixin.prototype.renderHeadDateCellHtml = function (date, colspan, otherAttrs) {\n          var t = this;\n          var view = t.view;\n          var isDateValid = t.dateProfile.activeUnzonedRange.containsDate(date); // TODO: called too frequently. cache somehow.\n\n          var classNames = ['fc-day-header', view.calendar.theme.getClass('widgetHeader')];\n          var innerHtml;\n\n          if (typeof t.opt('columnHeaderHtml') === 'function') {\n            innerHtml = t.opt('columnHeaderHtml')(date);\n          } else if (typeof t.opt('columnHeaderText') === 'function') {\n            innerHtml = util_1.htmlEscape(t.opt('columnHeaderText')(date));\n          } else {\n            innerHtml = util_1.htmlEscape(date.format(t.colHeadFormat));\n          } // if only one row of days, the classNames on the header can represent the specific days beneath\n\n\n          if (t.rowCnt === 1) {\n            classNames = classNames.concat( // includes the day-of-week class\n            // noThemeHighlight=true (don't highlight the header)\n            t.getDayClasses(date, true));\n          } else {\n            classNames.push('fc-' + util_1.dayIDs[date.day()]); // only add the day-of-week class\n          }\n\n          return '' + '<th class=\"' + classNames.join(' ') + '\"' + ((isDateValid && t.rowCnt) === 1 ? ' data-date=\"' + date.format('YYYY-MM-DD') + '\"' : '') + (colspan > 1 ? ' colspan=\"' + colspan + '\"' : '') + (otherAttrs ? ' ' + otherAttrs : '') + '>' + (isDateValid ? // don't make a link if the heading could represent multiple days, or if there's only one day (forceOff)\n          view.buildGotoAnchorHtml({\n            date: date,\n            forceOff: t.rowCnt > 1 || t.colCnt === 1\n          }, innerHtml) : // if not valid, display text, but no link\n          innerHtml) + '</th>';\n        };\n        /* Background Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayTableMixin.prototype.renderBgTrHtml = function (row) {\n          return '' + '<tr>' + (this.isRTL ? '' : this.renderBgIntroHtml(row)) + this.renderBgCellsHtml(row) + (this.isRTL ? this.renderBgIntroHtml(row) : '') + '</tr>';\n        };\n\n        DayTableMixin.prototype.renderBgIntroHtml = function (row) {\n          return this.renderIntroHtml(); // fall back to generic\n        };\n\n        DayTableMixin.prototype.renderBgCellsHtml = function (row) {\n          var htmls = [];\n          var col;\n          var date;\n\n          for (col = 0; col < this.colCnt; col++) {\n            date = this.getCellDate(row, col);\n            htmls.push(this.renderBgCellHtml(date));\n          }\n\n          return htmls.join('');\n        };\n\n        DayTableMixin.prototype.renderBgCellHtml = function (date, otherAttrs) {\n          var t = this;\n          var view = t.view;\n          var isDateValid = t.dateProfile.activeUnzonedRange.containsDate(date); // TODO: called too frequently. cache somehow.\n\n          var classes = t.getDayClasses(date);\n          classes.unshift('fc-day', view.calendar.theme.getClass('widgetContent'));\n          return '<td class=\"' + classes.join(' ') + '\"' + (isDateValid ? ' data-date=\"' + date.format('YYYY-MM-DD') + '\"' : // if date has a time, won't format it\n          '') + (otherAttrs ? ' ' + otherAttrs : '') + '></td>';\n        };\n        /* Generic\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayTableMixin.prototype.renderIntroHtml = function () {// Generates the default HTML intro for any row. User classes should override\n        }; // TODO: a generic method for dealing with <tr>, RTL, intro\n        // when increment internalApiVersion\n        // wrapTr (scheduler)\n\n        /* Utils\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Applies the generic \"intro\" and \"outro\" HTML to the given cells.\n        // Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.\n\n\n        DayTableMixin.prototype.bookendCells = function (trEl) {\n          var introHtml = this.renderIntroHtml();\n\n          if (introHtml) {\n            if (this.isRTL) {\n              trEl.append(introHtml);\n            } else {\n              trEl.prepend(introHtml);\n            }\n          }\n        };\n\n        return DayTableMixin;\n      }(Mixin_1.default);\n\n      exports.default = DayTableMixin;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var BusinessHourRenderer =\n      /** @class */\n      function () {\n        /*\r\n        component implements:\r\n          - eventRangesToEventFootprints\r\n          - eventFootprintsToSegs\r\n        */\n        function BusinessHourRenderer(component, fillRenderer) {\n          this.component = component;\n          this.fillRenderer = fillRenderer;\n        }\n\n        BusinessHourRenderer.prototype.render = function (businessHourGenerator) {\n          var component = this.component;\n\n          var unzonedRange = component._getDateProfile().activeUnzonedRange;\n\n          var eventInstanceGroup = businessHourGenerator.buildEventInstanceGroup(component.hasAllDayBusinessHours, unzonedRange);\n          var eventFootprints = eventInstanceGroup ? component.eventRangesToEventFootprints(eventInstanceGroup.sliceRenderRanges(unzonedRange)) : [];\n          this.renderEventFootprints(eventFootprints);\n        };\n\n        BusinessHourRenderer.prototype.renderEventFootprints = function (eventFootprints) {\n          var segs = this.component.eventFootprintsToSegs(eventFootprints);\n          this.renderSegs(segs);\n          this.segs = segs;\n        };\n\n        BusinessHourRenderer.prototype.renderSegs = function (segs) {\n          if (this.fillRenderer) {\n            this.fillRenderer.renderSegs('businessHours', segs, {\n              getClasses: function (seg) {\n                return ['fc-nonbusiness', 'fc-bgevent'];\n              }\n            });\n          }\n        };\n\n        BusinessHourRenderer.prototype.unrender = function () {\n          if (this.fillRenderer) {\n            this.fillRenderer.unrender('businessHours');\n          }\n\n          this.segs = null;\n        };\n\n        BusinessHourRenderer.prototype.getSegs = function () {\n          return this.segs || [];\n        };\n\n        return BusinessHourRenderer;\n      }();\n\n      exports.default = BusinessHourRenderer;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var FillRenderer =\n      /** @class */\n      function () {\n        function FillRenderer(component) {\n          this.fillSegTag = 'div';\n          this.component = component;\n          this.elsByFill = {};\n        }\n\n        FillRenderer.prototype.renderFootprint = function (type, componentFootprint, props) {\n          this.renderSegs(type, this.component.componentFootprintToSegs(componentFootprint), props);\n        };\n\n        FillRenderer.prototype.renderSegs = function (type, segs, props) {\n          var els;\n          segs = this.buildSegEls(type, segs, props); // assignes `.el` to each seg. returns successfully rendered segs\n\n          els = this.attachSegEls(type, segs);\n\n          if (els) {\n            this.reportEls(type, els);\n          }\n\n          return segs;\n        }; // Unrenders a specific type of fill that is currently rendered on the grid\n\n\n        FillRenderer.prototype.unrender = function (type) {\n          var el = this.elsByFill[type];\n\n          if (el) {\n            el.remove();\n            delete this.elsByFill[type];\n          }\n        }; // Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n        // Only returns segments that successfully rendered.\n\n\n        FillRenderer.prototype.buildSegEls = function (type, segs, props) {\n          var _this = this;\n\n          var html = '';\n          var renderedSegs = [];\n          var i;\n\n          if (segs.length) {\n            // build a large concatenation of segment HTML\n            for (i = 0; i < segs.length; i++) {\n              html += this.buildSegHtml(type, segs[i], props);\n            } // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment.\n\n\n            $(html).each(function (i, node) {\n              var seg = segs[i];\n              var el = $(node); // allow custom filter methods per-type\n\n              if (props.filterEl) {\n                el = props.filterEl(seg, el);\n              }\n\n              if (el) {\n                // custom filters did not cancel the render\n                el = $(el); // allow custom filter to return raw DOM node\n                // correct element type? (would be bad if a non-TD were inserted into a table for example)\n\n                if (el.is(_this.fillSegTag)) {\n                  seg.el = el;\n                  renderedSegs.push(seg);\n                }\n              }\n            });\n          }\n\n          return renderedSegs;\n        }; // Builds the HTML needed for one fill segment. Generic enough to work with different types.\n\n\n        FillRenderer.prototype.buildSegHtml = function (type, seg, props) {\n          // custom hooks per-type\n          var classes = props.getClasses ? props.getClasses(seg) : [];\n          var css = util_1.cssToStr(props.getCss ? props.getCss(seg) : {});\n          return '<' + this.fillSegTag + (classes.length ? ' class=\"' + classes.join(' ') + '\"' : '') + (css ? ' style=\"' + css + '\"' : '') + ' />';\n        }; // Should return wrapping DOM structure\n\n\n        FillRenderer.prototype.attachSegEls = function (type, segs) {// subclasses must implement\n        };\n\n        FillRenderer.prototype.reportEls = function (type, nodes) {\n          if (this.elsByFill[type]) {\n            this.elsByFill[type] = this.elsByFill[type].add(nodes);\n          } else {\n            this.elsByFill[type] = $(nodes);\n          }\n        };\n\n        return FillRenderer;\n      }();\n\n      exports.default = FillRenderer;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var EventFootprint_1 = __webpack_require__(34);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var HelperRenderer =\n      /** @class */\n      function () {\n        function HelperRenderer(component, eventRenderer) {\n          this.view = component._getView();\n          this.component = component;\n          this.eventRenderer = eventRenderer;\n        }\n\n        HelperRenderer.prototype.renderComponentFootprint = function (componentFootprint) {\n          this.renderEventFootprints([this.fabricateEventFootprint(componentFootprint)]);\n        };\n\n        HelperRenderer.prototype.renderEventDraggingFootprints = function (eventFootprints, sourceSeg, isTouch) {\n          this.renderEventFootprints(eventFootprints, sourceSeg, 'fc-dragging', isTouch ? null : this.view.opt('dragOpacity'));\n        };\n\n        HelperRenderer.prototype.renderEventResizingFootprints = function (eventFootprints, sourceSeg, isTouch) {\n          this.renderEventFootprints(eventFootprints, sourceSeg, 'fc-resizing');\n        };\n\n        HelperRenderer.prototype.renderEventFootprints = function (eventFootprints, sourceSeg, extraClassNames, opacity) {\n          var segs = this.component.eventFootprintsToSegs(eventFootprints);\n          var classNames = 'fc-helper ' + (extraClassNames || '');\n          var i; // assigns each seg's el and returns a subset of segs that were rendered\n\n          segs = this.eventRenderer.renderFgSegEls(segs);\n\n          for (i = 0; i < segs.length; i++) {\n            segs[i].el.addClass(classNames);\n          }\n\n          if (opacity != null) {\n            for (i = 0; i < segs.length; i++) {\n              segs[i].el.css('opacity', opacity);\n            }\n          }\n\n          this.helperEls = this.renderSegs(segs, sourceSeg);\n        };\n        /*\r\n        Must return all mock event elements\r\n        */\n\n\n        HelperRenderer.prototype.renderSegs = function (segs, sourceSeg) {// Subclasses must implement\n        };\n\n        HelperRenderer.prototype.unrender = function () {\n          if (this.helperEls) {\n            this.helperEls.remove();\n            this.helperEls = null;\n          }\n        };\n\n        HelperRenderer.prototype.fabricateEventFootprint = function (componentFootprint) {\n          var calendar = this.view.calendar;\n          var eventDateProfile = calendar.footprintToDateProfile(componentFootprint);\n          var dummyEvent = new SingleEventDef_1.default(new EventSource_1.default(calendar));\n          var dummyInstance;\n          dummyEvent.dateProfile = eventDateProfile;\n          dummyInstance = dummyEvent.buildInstance();\n          return new EventFootprint_1.default(componentFootprint, dummyEvent, dummyInstance);\n        };\n\n        return HelperRenderer;\n      }();\n\n      exports.default = HelperRenderer;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var GlobalEmitter_1 = __webpack_require__(23);\n\n      var Interaction_1 = __webpack_require__(14);\n\n      var EventPointing =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(EventPointing, _super);\n\n        function EventPointing() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        /*\r\n        component must implement:\r\n          - publiclyTrigger\r\n        */\n\n\n        EventPointing.prototype.bindToEl = function (el) {\n          var component = this.component;\n          component.bindSegHandlerToEl(el, 'click', this.handleClick.bind(this));\n          component.bindSegHandlerToEl(el, 'mouseenter', this.handleMouseover.bind(this));\n          component.bindSegHandlerToEl(el, 'mouseleave', this.handleMouseout.bind(this));\n        };\n\n        EventPointing.prototype.handleClick = function (seg, ev) {\n          var res = this.component.publiclyTrigger('eventClick', {\n            context: seg.el[0],\n            args: [seg.footprint.getEventLegacy(), ev, this.view]\n          });\n\n          if (res === false) {\n            ev.preventDefault();\n          }\n        }; // Updates internal state and triggers handlers for when an event element is moused over\n\n\n        EventPointing.prototype.handleMouseover = function (seg, ev) {\n          if (!GlobalEmitter_1.default.get().shouldIgnoreMouse() && !this.mousedOverSeg) {\n            this.mousedOverSeg = seg; // TODO: move to EventSelecting's responsibility\n\n            if (this.view.isEventDefResizable(seg.footprint.eventDef)) {\n              seg.el.addClass('fc-allow-mouse-resize');\n            }\n\n            this.component.publiclyTrigger('eventMouseover', {\n              context: seg.el[0],\n              args: [seg.footprint.getEventLegacy(), ev, this.view]\n            });\n          }\n        }; // Updates internal state and triggers handlers for when an event element is moused out.\n        // Can be given no arguments, in which case it will mouseout the segment that was previously moused over.\n\n\n        EventPointing.prototype.handleMouseout = function (seg, ev) {\n          if (this.mousedOverSeg) {\n            this.mousedOverSeg = null; // TODO: move to EventSelecting's responsibility\n\n            if (this.view.isEventDefResizable(seg.footprint.eventDef)) {\n              seg.el.removeClass('fc-allow-mouse-resize');\n            }\n\n            this.component.publiclyTrigger('eventMouseout', {\n              context: seg.el[0],\n              args: [seg.footprint.getEventLegacy(), ev || {}, this.view]\n            });\n          }\n        };\n\n        EventPointing.prototype.end = function () {\n          if (this.mousedOverSeg) {\n            this.handleMouseout(this.mousedOverSeg);\n          }\n        };\n\n        return EventPointing;\n      }(Interaction_1.default);\n\n      exports.default = EventPointing;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Mixin_1 = __webpack_require__(15);\n\n      var DateClicking_1 = __webpack_require__(237);\n\n      var DateSelecting_1 = __webpack_require__(236);\n\n      var EventPointing_1 = __webpack_require__(64);\n\n      var EventDragging_1 = __webpack_require__(235);\n\n      var EventResizing_1 = __webpack_require__(234);\n\n      var ExternalDropping_1 = __webpack_require__(233);\n\n      var StandardInteractionsMixin =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(StandardInteractionsMixin, _super);\n\n        function StandardInteractionsMixin() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        return StandardInteractionsMixin;\n      }(Mixin_1.default);\n\n      exports.default = StandardInteractionsMixin;\n      StandardInteractionsMixin.prototype.dateClickingClass = DateClicking_1.default;\n      StandardInteractionsMixin.prototype.dateSelectingClass = DateSelecting_1.default;\n      StandardInteractionsMixin.prototype.eventPointingClass = EventPointing_1.default;\n      StandardInteractionsMixin.prototype.eventDraggingClass = EventDragging_1.default;\n      StandardInteractionsMixin.prototype.eventResizingClass = EventResizing_1.default;\n      StandardInteractionsMixin.prototype.externalDroppingClass = ExternalDropping_1.default;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var CoordCache_1 = __webpack_require__(58);\n\n      var Popover_1 = __webpack_require__(227);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      var EventFootprint_1 = __webpack_require__(34);\n\n      var BusinessHourRenderer_1 = __webpack_require__(61);\n\n      var StandardInteractionsMixin_1 = __webpack_require__(65);\n\n      var InteractiveDateComponent_1 = __webpack_require__(42);\n\n      var DayTableMixin_1 = __webpack_require__(60);\n\n      var DayGridEventRenderer_1 = __webpack_require__(243);\n\n      var DayGridHelperRenderer_1 = __webpack_require__(244);\n\n      var DayGridFillRenderer_1 = __webpack_require__(245);\n      /* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n\n      var DayGrid =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DayGrid, _super);\n\n        function DayGrid(view) {\n          var _this = _super.call(this, view) || this;\n\n          _this.cellWeekNumbersVisible = false; // display week numbers in day cell?\n\n          _this.bottomCoordPadding = 0; // hack for extending the hit area for the last row of the coordinate grid\n          // isRigid determines whether the individual rows should ignore the contents and be a constant height.\n          // Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\n\n          _this.isRigid = false;\n          _this.hasAllDayBusinessHours = true;\n          return _this;\n        } // Slices up the given span (unzoned start/end with other misc data) into an array of segments\n\n\n        DayGrid.prototype.componentFootprintToSegs = function (componentFootprint) {\n          var segs = this.sliceRangeByRow(componentFootprint.unzonedRange);\n          var i;\n          var seg;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n\n            if (this.isRTL) {\n              seg.leftCol = this.daysPerRow - 1 - seg.lastRowDayIndex;\n              seg.rightCol = this.daysPerRow - 1 - seg.firstRowDayIndex;\n            } else {\n              seg.leftCol = seg.firstRowDayIndex;\n              seg.rightCol = seg.lastRowDayIndex;\n            }\n          }\n\n          return segs;\n        };\n        /* Date Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayGrid.prototype.renderDates = function (dateProfile) {\n          this.dateProfile = dateProfile;\n          this.updateDayTable();\n          this.renderGrid();\n        };\n\n        DayGrid.prototype.unrenderDates = function () {\n          this.removeSegPopover();\n        }; // Renders the rows and columns into the component's `this.el`, which should already be assigned.\n\n\n        DayGrid.prototype.renderGrid = function () {\n          var view = this.view;\n          var rowCnt = this.rowCnt;\n          var colCnt = this.colCnt;\n          var html = '';\n          var row;\n          var col;\n\n          if (this.headContainerEl) {\n            this.headContainerEl.html(this.renderHeadHtml());\n          }\n\n          for (row = 0; row < rowCnt; row++) {\n            html += this.renderDayRowHtml(row, this.isRigid);\n          }\n\n          this.el.html(html);\n          this.rowEls = this.el.find('.fc-row');\n          this.cellEls = this.el.find('.fc-day, .fc-disabled-day');\n          this.rowCoordCache = new CoordCache_1.default({\n            els: this.rowEls,\n            isVertical: true\n          });\n          this.colCoordCache = new CoordCache_1.default({\n            els: this.cellEls.slice(0, this.colCnt),\n            isHorizontal: true\n          }); // trigger dayRender with each cell's element\n\n          for (row = 0; row < rowCnt; row++) {\n            for (col = 0; col < colCnt; col++) {\n              this.publiclyTrigger('dayRender', {\n                context: view,\n                args: [this.getCellDate(row, col), this.getCellEl(row, col), view]\n              });\n            }\n          }\n        }; // Generates the HTML for a single row, which is a div that wraps a table.\n        // `row` is the row number.\n\n\n        DayGrid.prototype.renderDayRowHtml = function (row, isRigid) {\n          var theme = this.view.calendar.theme;\n          var classes = ['fc-row', 'fc-week', theme.getClass('dayRow')];\n\n          if (isRigid) {\n            classes.push('fc-rigid');\n          }\n\n          return '' + '<div class=\"' + classes.join(' ') + '\">' + '<div class=\"fc-bg\">' + '<table class=\"' + theme.getClass('tableGrid') + '\">' + this.renderBgTrHtml(row) + '</table>' + '</div>' + '<div class=\"fc-content-skeleton\">' + '<table>' + (this.getIsNumbersVisible() ? '<thead>' + this.renderNumberTrHtml(row) + '</thead>' : '') + '</table>' + '</div>' + '</div>';\n        };\n\n        DayGrid.prototype.getIsNumbersVisible = function () {\n          return this.getIsDayNumbersVisible() || this.cellWeekNumbersVisible;\n        };\n\n        DayGrid.prototype.getIsDayNumbersVisible = function () {\n          return this.rowCnt > 1;\n        };\n        /* Grid Number Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayGrid.prototype.renderNumberTrHtml = function (row) {\n          return '' + '<tr>' + (this.isRTL ? '' : this.renderNumberIntroHtml(row)) + this.renderNumberCellsHtml(row) + (this.isRTL ? this.renderNumberIntroHtml(row) : '') + '</tr>';\n        };\n\n        DayGrid.prototype.renderNumberIntroHtml = function (row) {\n          return this.renderIntroHtml();\n        };\n\n        DayGrid.prototype.renderNumberCellsHtml = function (row) {\n          var htmls = [];\n          var col;\n          var date;\n\n          for (col = 0; col < this.colCnt; col++) {\n            date = this.getCellDate(row, col);\n            htmls.push(this.renderNumberCellHtml(date));\n          }\n\n          return htmls.join('');\n        }; // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n        // The number row will only exist if either day numbers or week numbers are turned on.\n\n\n        DayGrid.prototype.renderNumberCellHtml = function (date) {\n          var view = this.view;\n          var html = '';\n          var isDateValid = this.dateProfile.activeUnzonedRange.containsDate(date); // TODO: called too frequently. cache somehow.\n\n          var isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid;\n          var classes;\n          var weekCalcFirstDoW;\n\n          if (!isDayNumberVisible && !this.cellWeekNumbersVisible) {\n            // no numbers in day cell (week number must be along the side)\n            return '<td/>'; //  will create an empty space above events :(\n          }\n\n          classes = this.getDayClasses(date);\n          classes.unshift('fc-day-top');\n\n          if (this.cellWeekNumbersVisible) {\n            // To determine the day of week number change under ISO, we cannot\n            // rely on moment.js methods such as firstDayOfWeek() or weekday(),\n            // because they rely on the locale's dow (possibly overridden by\n            // our firstDay option), which may not be Monday. We cannot change\n            // dow, because that would affect the calendar start day as well.\n            if (date._locale._fullCalendar_weekCalc === 'ISO') {\n              weekCalcFirstDoW = 1; // Monday by ISO 8601 definition\n            } else {\n              weekCalcFirstDoW = date._locale.firstDayOfWeek();\n            }\n          }\n\n          html += '<td class=\"' + classes.join(' ') + '\"' + (isDateValid ? ' data-date=\"' + date.format() + '\"' : '') + '>';\n\n          if (this.cellWeekNumbersVisible && date.day() === weekCalcFirstDoW) {\n            html += view.buildGotoAnchorHtml({\n              date: date,\n              type: 'week'\n            }, {\n              'class': 'fc-week-number'\n            }, date.format('w') // inner HTML\n            );\n          }\n\n          if (isDayNumberVisible) {\n            html += view.buildGotoAnchorHtml(date, {\n              'class': 'fc-day-number'\n            }, date.format('D') // inner HTML\n            );\n          }\n\n          html += '</td>';\n          return html;\n        };\n        /* Hit System\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayGrid.prototype.prepareHits = function () {\n          this.colCoordCache.build();\n          this.rowCoordCache.build();\n          this.rowCoordCache.bottoms[this.rowCnt - 1] += this.bottomCoordPadding; // hack\n        };\n\n        DayGrid.prototype.releaseHits = function () {\n          this.colCoordCache.clear();\n          this.rowCoordCache.clear();\n        };\n\n        DayGrid.prototype.queryHit = function (leftOffset, topOffset) {\n          if (this.colCoordCache.isLeftInBounds(leftOffset) && this.rowCoordCache.isTopInBounds(topOffset)) {\n            var col = this.colCoordCache.getHorizontalIndex(leftOffset);\n            var row = this.rowCoordCache.getVerticalIndex(topOffset);\n\n            if (row != null && col != null) {\n              return this.getCellHit(row, col);\n            }\n          }\n        };\n\n        DayGrid.prototype.getHitFootprint = function (hit) {\n          var range = this.getCellRange(hit.row, hit.col);\n          return new ComponentFootprint_1.default(new UnzonedRange_1.default(range.start, range.end), true // all-day?\n          );\n        };\n\n        DayGrid.prototype.getHitEl = function (hit) {\n          return this.getCellEl(hit.row, hit.col);\n        };\n        /* Cell System\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // FYI: the first column is the leftmost column, regardless of date\n\n\n        DayGrid.prototype.getCellHit = function (row, col) {\n          return {\n            row: row,\n            col: col,\n            component: this,\n            left: this.colCoordCache.getLeftOffset(col),\n            right: this.colCoordCache.getRightOffset(col),\n            top: this.rowCoordCache.getTopOffset(row),\n            bottom: this.rowCoordCache.getBottomOffset(row)\n          };\n        };\n\n        DayGrid.prototype.getCellEl = function (row, col) {\n          return this.cellEls.eq(row * this.colCnt + col);\n        };\n        /* Event Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Unrenders all events currently rendered on the grid\n\n\n        DayGrid.prototype.executeEventUnrender = function () {\n          this.removeSegPopover(); // removes the \"more..\" events popover\n\n          _super.prototype.executeEventUnrender.call(this);\n        }; // Retrieves all rendered segment objects currently rendered on the grid\n\n\n        DayGrid.prototype.getOwnEventSegs = function () {\n          // append the segments from the \"more...\" popover\n          return _super.prototype.getOwnEventSegs.call(this).concat(this.popoverSegs || []);\n        };\n        /* Event Drag Visualization\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders a visual indication of an event or external element being dragged.\n        // `eventLocation` has zoned start and end (optional)\n\n\n        DayGrid.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\n          var i;\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            this.renderHighlight(eventFootprints[i].componentFootprint);\n          } // render drags from OTHER components as helpers\n\n\n          if (eventFootprints.length && seg && seg.component !== this) {\n            this.helperRenderer.renderEventDraggingFootprints(eventFootprints, seg, isTouch);\n            return true; // signal helpers rendered\n          }\n        }; // Unrenders any visual indication of a hovering event\n\n\n        DayGrid.prototype.unrenderDrag = function () {\n          this.unrenderHighlight();\n          this.helperRenderer.unrender();\n        };\n        /* Event Resize Visualization\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders a visual indication of an event being resized\n\n\n        DayGrid.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\n          var i;\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            this.renderHighlight(eventFootprints[i].componentFootprint);\n          }\n\n          this.helperRenderer.renderEventResizingFootprints(eventFootprints, seg, isTouch);\n        }; // Unrenders a visual indication of an event being resized\n\n\n        DayGrid.prototype.unrenderEventResize = function () {\n          this.unrenderHighlight();\n          this.helperRenderer.unrender();\n        };\n        /* More+ Link Popover\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DayGrid.prototype.removeSegPopover = function () {\n          if (this.segPopover) {\n            this.segPopover.hide(); // in handler, will call segPopover's removeElement\n          }\n        }; // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n        // `levelLimit` can be false (don't limit), a number, or true (should be computed).\n\n\n        DayGrid.prototype.limitRows = function (levelLimit) {\n          var rowStructs = this.eventRenderer.rowStructs || [];\n          var row; // row #\n\n          var rowLevelLimit;\n\n          for (row = 0; row < rowStructs.length; row++) {\n            this.unlimitRow(row);\n\n            if (!levelLimit) {\n              rowLevelLimit = false;\n            } else if (typeof levelLimit === 'number') {\n              rowLevelLimit = levelLimit;\n            } else {\n              rowLevelLimit = this.computeRowLevelLimit(row);\n            }\n\n            if (rowLevelLimit !== false) {\n              this.limitRow(row, rowLevelLimit);\n            }\n          }\n        }; // Computes the number of levels a row will accomodate without going outside its bounds.\n        // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n        // `row` is the row number.\n\n\n        DayGrid.prototype.computeRowLevelLimit = function (row) {\n          var rowEl = this.rowEls.eq(row); // the containing \"fake\" row div\n\n          var rowHeight = rowEl.height(); // TODO: cache somehow?\n\n          var trEls = this.eventRenderer.rowStructs[row].tbodyEl.children();\n          var i;\n          var trEl;\n          var trHeight;\n\n          function iterInnerHeights(i, childNode) {\n            trHeight = Math.max(trHeight, $(childNode).outerHeight());\n          } // Reveal one level <tr> at a time and stop when we find one out of bounds\n\n\n          for (i = 0; i < trEls.length; i++) {\n            trEl = trEls.eq(i).removeClass('fc-limited'); // reset to original state (reveal)\n            // with rowspans>1 and IE8, trEl.outerHeight() would return the height of the largest cell,\n            // so instead, find the tallest inner content element.\n\n            trHeight = 0;\n            trEl.find('> td > :first-child').each(iterInnerHeights);\n\n            if (trEl.position().top + trHeight > rowHeight) {\n              return i;\n            }\n          }\n\n          return false; // should not limit at all\n        }; // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n        // `row` is the row number.\n        // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n\n\n        DayGrid.prototype.limitRow = function (row, levelLimit) {\n          var _this = this;\n\n          var rowStruct = this.eventRenderer.rowStructs[row];\n          var moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n\n          var col = 0; // col #, left-to-right (not chronologically)\n\n          var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n\n          var cellMatrix; // a matrix (by level, then column) of all <td> jQuery elements in the row\n\n          var limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n\n          var i;\n          var seg;\n          var segsBelow; // array of segment objects below `seg` in the current `col`\n\n          var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n\n          var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n\n          var td;\n          var rowspan;\n          var segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n\n          var j;\n          var moreTd;\n          var moreWrap;\n          var moreLink; // Iterates through empty level cells and places \"more\" links inside if need be\n\n          var emptyCellsUntil = function (endCol) {\n            while (col < endCol) {\n              segsBelow = _this.getCellSegs(row, col, levelLimit);\n\n              if (segsBelow.length) {\n                td = cellMatrix[levelLimit - 1][col];\n                moreLink = _this.renderMoreLink(row, col, segsBelow);\n                moreWrap = $('<div/>').append(moreLink);\n                td.append(moreWrap);\n                moreNodes.push(moreWrap[0]);\n              }\n\n              col++;\n            }\n          };\n\n          if (levelLimit && levelLimit < rowStruct.segLevels.length) {\n            // is it actually over the limit?\n            levelSegs = rowStruct.segLevels[levelLimit - 1];\n            cellMatrix = rowStruct.cellMatrix;\n            limitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level <tr> elements past the limit\n            .addClass('fc-limited').get(); // hide elements and get a simple DOM-nodes array\n            // iterate though segments in the last allowable level\n\n            for (i = 0; i < levelSegs.length; i++) {\n              seg = levelSegs[i];\n              emptyCellsUntil(seg.leftCol); // process empty cells before the segment\n              // determine *all* segments below `seg` that occupy the same columns\n\n              colSegsBelow = [];\n              totalSegsBelow = 0;\n\n              while (col <= seg.rightCol) {\n                segsBelow = this.getCellSegs(row, col, levelLimit);\n                colSegsBelow.push(segsBelow);\n                totalSegsBelow += segsBelow.length;\n                col++;\n              }\n\n              if (totalSegsBelow) {\n                // do we need to replace this segment with one or many \"more\" links?\n                td = cellMatrix[levelLimit - 1][seg.leftCol]; // the segment's parent cell\n\n                rowspan = td.attr('rowspan') || 1;\n                segMoreNodes = []; // make a replacement <td> for each column the segment occupies. will be one for each colspan\n\n                for (j = 0; j < colSegsBelow.length; j++) {\n                  moreTd = $('<td class=\"fc-more-cell\"/>').attr('rowspan', rowspan);\n                  segsBelow = colSegsBelow[j];\n                  moreLink = this.renderMoreLink(row, seg.leftCol + j, [seg].concat(segsBelow) // count seg as hidden too\n                  );\n                  moreWrap = $('<div/>').append(moreLink);\n                  moreTd.append(moreWrap);\n                  segMoreNodes.push(moreTd[0]);\n                  moreNodes.push(moreTd[0]);\n                }\n\n                td.addClass('fc-limited').after($(segMoreNodes)); // hide original <td> and inject replacements\n\n                limitedNodes.push(td[0]);\n              }\n            }\n\n            emptyCellsUntil(this.colCnt); // finish off the level\n\n            rowStruct.moreEls = $(moreNodes); // for easy undoing later\n\n            rowStruct.limitedEls = $(limitedNodes); // for easy undoing later\n          }\n        }; // Reveals all levels and removes all \"more\"-related elements for a grid's row.\n        // `row` is a row number.\n\n\n        DayGrid.prototype.unlimitRow = function (row) {\n          var rowStruct = this.eventRenderer.rowStructs[row];\n\n          if (rowStruct.moreEls) {\n            rowStruct.moreEls.remove();\n            rowStruct.moreEls = null;\n          }\n\n          if (rowStruct.limitedEls) {\n            rowStruct.limitedEls.removeClass('fc-limited');\n            rowStruct.limitedEls = null;\n          }\n        }; // Renders an <a> element that represents hidden event element for a cell.\n        // Responsible for attaching click handler as well.\n\n\n        DayGrid.prototype.renderMoreLink = function (row, col, hiddenSegs) {\n          var _this = this;\n\n          var view = this.view;\n          return $('<a class=\"fc-more\"/>').text(this.getMoreLinkText(hiddenSegs.length)).on('click', function (ev) {\n            var clickOption = _this.opt('eventLimitClick');\n\n            var date = _this.getCellDate(row, col);\n\n            var moreEl = $(ev.currentTarget);\n\n            var dayEl = _this.getCellEl(row, col);\n\n            var allSegs = _this.getCellSegs(row, col); // rescope the segments to be within the cell's date\n\n\n            var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n\n            var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n\n            if (typeof clickOption === 'function') {\n              // the returned value can be an atomic option\n              clickOption = _this.publiclyTrigger('eventLimitClick', {\n                context: view,\n                args: [{\n                  date: date.clone(),\n                  dayEl: dayEl,\n                  moreEl: moreEl,\n                  segs: reslicedAllSegs,\n                  hiddenSegs: reslicedHiddenSegs\n                }, ev, view]\n              });\n            }\n\n            if (clickOption === 'popover') {\n              _this.showSegPopover(row, col, moreEl, reslicedAllSegs);\n            } else if (typeof clickOption === 'string') {\n              // a view name\n              view.calendar.zoomTo(date, clickOption);\n            }\n          });\n        }; // Reveals the popover that displays all events within a cell\n\n\n        DayGrid.prototype.showSegPopover = function (row, col, moreLink, segs) {\n          var _this = this;\n\n          var view = this.view;\n          var moreWrap = moreLink.parent(); // the <div> wrapper around the <a>\n\n          var topEl; // the element we want to match the top coordinate of\n\n          var options;\n\n          if (this.rowCnt === 1) {\n            topEl = view.el; // will cause the popover to cover any sort of header\n          } else {\n            topEl = this.rowEls.eq(row); // will align with top of row\n          }\n\n          options = {\n            className: 'fc-more-popover ' + view.calendar.theme.getClass('popover'),\n            content: this.renderSegPopoverContent(row, col, segs),\n            parentEl: view.el,\n            top: topEl.offset().top,\n            autoHide: true,\n            viewportConstrain: this.opt('popoverViewportConstrain'),\n            hide: function () {\n              // kill everything when the popover is hidden\n              // notify events to be removed\n              if (_this.popoverSegs) {\n                _this.triggerBeforeEventSegsDestroyed(_this.popoverSegs);\n              }\n\n              _this.segPopover.removeElement();\n\n              _this.segPopover = null;\n              _this.popoverSegs = null;\n            }\n          }; // Determine horizontal coordinate.\n          // We use the moreWrap instead of the <td> to avoid border confusion.\n\n          if (this.isRTL) {\n            options.right = moreWrap.offset().left + moreWrap.outerWidth() + 1; // +1 to be over cell border\n          } else {\n            options.left = moreWrap.offset().left - 1; // -1 to be over cell border\n          }\n\n          this.segPopover = new Popover_1.default(options);\n          this.segPopover.show(); // the popover doesn't live within the grid's container element, and thus won't get the event\n          // delegated-handlers for free. attach event-related handlers to the popover.\n\n          this.bindAllSegHandlersToEl(this.segPopover.el);\n          this.triggerAfterEventSegsRendered(segs);\n        }; // Builds the inner DOM contents of the segment popover\n\n\n        DayGrid.prototype.renderSegPopoverContent = function (row, col, segs) {\n          var view = this.view;\n          var theme = view.calendar.theme;\n          var title = this.getCellDate(row, col).format(this.opt('dayPopoverFormat'));\n          var content = $('<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' + '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' + '<span class=\"fc-title\">' + util_1.htmlEscape(title) + '</span>' + '<div class=\"fc-clear\"/>' + '</div>' + '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' + '<div class=\"fc-event-container\"></div>' + '</div>');\n          var segContainer = content.find('.fc-event-container');\n          var i; // render each seg's `el` and only return the visible segs\n\n          segs = this.eventRenderer.renderFgSegEls(segs, true); // disableResizing=true\n\n          this.popoverSegs = segs;\n\n          for (i = 0; i < segs.length; i++) {\n            // because segments in the popover are not part of a grid coordinate system, provide a hint to any\n            // grids that want to do drag-n-drop about which cell it came from\n            this.hitsNeeded();\n            segs[i].hit = this.getCellHit(row, col);\n            this.hitsNotNeeded();\n            segContainer.append(segs[i].el);\n          }\n\n          return content;\n        }; // Given the events within an array of segment objects, reslice them to be in a single day\n\n\n        DayGrid.prototype.resliceDaySegs = function (segs, dayDate) {\n          var dayStart = dayDate.clone();\n          var dayEnd = dayStart.clone().add(1, 'days');\n          var dayRange = new UnzonedRange_1.default(dayStart, dayEnd);\n          var newSegs = [];\n          var i;\n          var seg;\n          var slicedRange;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            slicedRange = seg.footprint.componentFootprint.unzonedRange.intersect(dayRange);\n\n            if (slicedRange) {\n              newSegs.push($.extend({}, seg, {\n                footprint: new EventFootprint_1.default(new ComponentFootprint_1.default(slicedRange, seg.footprint.componentFootprint.isAllDay), seg.footprint.eventDef, seg.footprint.eventInstance),\n                isStart: seg.isStart && slicedRange.isStart,\n                isEnd: seg.isEnd && slicedRange.isEnd\n              }));\n            }\n          } // force an order because eventsToSegs doesn't guarantee one\n          // TODO: research if still needed\n\n\n          this.eventRenderer.sortEventSegs(newSegs);\n          return newSegs;\n        }; // Generates the text that should be inside a \"more\" link, given the number of events it represents\n\n\n        DayGrid.prototype.getMoreLinkText = function (num) {\n          var opt = this.opt('eventLimitText');\n\n          if (typeof opt === 'function') {\n            return opt(num);\n          } else {\n            return '+' + num + ' ' + opt;\n          }\n        }; // Returns segments within a given cell.\n        // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n\n\n        DayGrid.prototype.getCellSegs = function (row, col, startLevel) {\n          var segMatrix = this.eventRenderer.rowStructs[row].segMatrix;\n          var level = startLevel || 0;\n          var segs = [];\n          var seg;\n\n          while (level < segMatrix.length) {\n            seg = segMatrix[level][col];\n\n            if (seg) {\n              segs.push(seg);\n            }\n\n            level++;\n          }\n\n          return segs;\n        };\n\n        return DayGrid;\n      }(InteractiveDateComponent_1.default);\n\n      exports.default = DayGrid;\n      DayGrid.prototype.eventRendererClass = DayGridEventRenderer_1.default;\n      DayGrid.prototype.businessHourRendererClass = BusinessHourRenderer_1.default;\n      DayGrid.prototype.helperRendererClass = DayGridHelperRenderer_1.default;\n      DayGrid.prototype.fillRendererClass = DayGridFillRenderer_1.default;\n      StandardInteractionsMixin_1.default.mixInto(DayGrid);\n      DayTableMixin_1.default.mixInto(DayGrid);\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var Scroller_1 = __webpack_require__(41);\n\n      var View_1 = __webpack_require__(43);\n\n      var BasicViewDateProfileGenerator_1 = __webpack_require__(68);\n\n      var DayGrid_1 = __webpack_require__(66);\n      /* An abstract class for the \"basic\" views, as well as month view. Renders one or more rows of day cells.\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n      // It is responsible for managing width/height.\n\n\n      var BasicView =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(BasicView, _super);\n\n        function BasicView(calendar, viewSpec) {\n          var _this = _super.call(this, calendar, viewSpec) || this;\n\n          _this.dayGrid = _this.instantiateDayGrid();\n          _this.dayGrid.isRigid = _this.hasRigidRows();\n\n          if (_this.opt('weekNumbers')) {\n            if (_this.opt('weekNumbersWithinDays')) {\n              _this.dayGrid.cellWeekNumbersVisible = true;\n              _this.dayGrid.colWeekNumbersVisible = false;\n            } else {\n              _this.dayGrid.cellWeekNumbersVisible = false;\n              _this.dayGrid.colWeekNumbersVisible = true;\n            }\n          }\n\n          _this.addChild(_this.dayGrid);\n\n          _this.scroller = new Scroller_1.default({\n            overflowX: 'hidden',\n            overflowY: 'auto'\n          });\n          return _this;\n        } // Generates the DayGrid object this view needs. Draws from this.dayGridClass\n\n\n        BasicView.prototype.instantiateDayGrid = function () {\n          // generate a subclass on the fly with BasicView-specific behavior\n          // TODO: cache this subclass\n          var subclass = makeDayGridSubclass(this.dayGridClass);\n          return new subclass(this);\n        };\n\n        BasicView.prototype.executeDateRender = function (dateProfile) {\n          this.dayGrid.breakOnWeeks = /year|month|week/.test(dateProfile.currentRangeUnit);\n\n          _super.prototype.executeDateRender.call(this, dateProfile);\n        };\n\n        BasicView.prototype.renderSkeleton = function () {\n          var dayGridContainerEl;\n          var dayGridEl;\n          this.el.addClass('fc-basic-view').html(this.renderSkeletonHtml());\n          this.scroller.render();\n          dayGridContainerEl = this.scroller.el.addClass('fc-day-grid-container');\n          dayGridEl = $('<div class=\"fc-day-grid\" />').appendTo(dayGridContainerEl);\n          this.el.find('.fc-body > tr > td').append(dayGridContainerEl);\n          this.dayGrid.headContainerEl = this.el.find('.fc-head-container');\n          this.dayGrid.setElement(dayGridEl);\n        };\n\n        BasicView.prototype.unrenderSkeleton = function () {\n          this.dayGrid.removeElement();\n          this.scroller.destroy();\n        }; // Builds the HTML skeleton for the view.\n        // The day-grid component will render inside of a container defined by this HTML.\n\n\n        BasicView.prototype.renderSkeletonHtml = function () {\n          var theme = this.calendar.theme;\n          return '' + '<table class=\"' + theme.getClass('tableGrid') + '\">' + (this.opt('columnHeader') ? '<thead class=\"fc-head\">' + '<tr>' + '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' + '</tr>' + '</thead>' : '') + '<tbody class=\"fc-body\">' + '<tr>' + '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' + '</tr>' + '</tbody>' + '</table>';\n        }; // Generates an HTML attribute string for setting the width of the week number column, if it is known\n\n\n        BasicView.prototype.weekNumberStyleAttr = function () {\n          if (this.weekNumberWidth != null) {\n            return 'style=\"width:' + this.weekNumberWidth + 'px\"';\n          }\n\n          return '';\n        }; // Determines whether each row should have a constant height\n\n\n        BasicView.prototype.hasRigidRows = function () {\n          var eventLimit = this.opt('eventLimit');\n          return eventLimit && typeof eventLimit !== 'number';\n        };\n        /* Dimensions\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Refreshes the horizontal dimensions of the view\n\n\n        BasicView.prototype.updateSize = function (totalHeight, isAuto, isResize) {\n          var eventLimit = this.opt('eventLimit');\n          var headRowEl = this.dayGrid.headContainerEl.find('.fc-row');\n          var scrollerHeight;\n          var scrollbarWidths; // hack to give the view some height prior to dayGrid's columns being rendered\n          // TODO: separate setting height from scroller VS dayGrid.\n\n          if (!this.dayGrid.rowEls) {\n            if (!isAuto) {\n              scrollerHeight = this.computeScrollerHeight(totalHeight);\n              this.scroller.setHeight(scrollerHeight);\n            }\n\n            return;\n          }\n\n          _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\n\n          if (this.dayGrid.colWeekNumbersVisible) {\n            // Make sure all week number cells running down the side have the same width.\n            // Record the width for cells created later.\n            this.weekNumberWidth = util_1.matchCellWidths(this.el.find('.fc-week-number'));\n          } // reset all heights to be natural\n\n\n          this.scroller.clear();\n          util_1.uncompensateScroll(headRowEl);\n          this.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n          // is the event limit a constant level number?\n\n          if (eventLimit && typeof eventLimit === 'number') {\n            this.dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n          } // distribute the height to the rows\n          // (totalHeight is a \"recommended\" value if isAuto)\n\n\n          scrollerHeight = this.computeScrollerHeight(totalHeight);\n          this.setGridHeight(scrollerHeight, isAuto); // is the event limit dynamically calculated?\n\n          if (eventLimit && typeof eventLimit !== 'number') {\n            this.dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n          }\n\n          if (!isAuto) {\n            // should we force dimensions of the scroll container?\n            this.scroller.setHeight(scrollerHeight);\n            scrollbarWidths = this.scroller.getScrollbarWidths();\n\n            if (scrollbarWidths.left || scrollbarWidths.right) {\n              // using scrollbars?\n              util_1.compensateScroll(headRowEl, scrollbarWidths); // doing the scrollbar compensation might have created text overflow which created more height. redo\n\n              scrollerHeight = this.computeScrollerHeight(totalHeight);\n              this.scroller.setHeight(scrollerHeight);\n            } // guarantees the same scrollbar widths\n\n\n            this.scroller.lockOverflow(scrollbarWidths);\n          }\n        }; // given a desired total height of the view, returns what the height of the scroller should be\n\n\n        BasicView.prototype.computeScrollerHeight = function (totalHeight) {\n          return totalHeight - util_1.subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\n        }; // Sets the height of just the DayGrid component in this view\n\n\n        BasicView.prototype.setGridHeight = function (height, isAuto) {\n          if (isAuto) {\n            util_1.undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n          } else {\n            util_1.distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n          }\n        };\n        /* Scroll\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        BasicView.prototype.computeInitialDateScroll = function () {\n          return {\n            top: 0\n          };\n        };\n\n        BasicView.prototype.queryDateScroll = function () {\n          return {\n            top: this.scroller.getScrollTop()\n          };\n        };\n\n        BasicView.prototype.applyDateScroll = function (scroll) {\n          if (scroll.top !== undefined) {\n            this.scroller.setScrollTop(scroll.top);\n          }\n        };\n\n        return BasicView;\n      }(View_1.default);\n\n      exports.default = BasicView;\n      BasicView.prototype.dateProfileGeneratorClass = BasicViewDateProfileGenerator_1.default;\n      BasicView.prototype.dayGridClass = DayGrid_1.default; // customize the rendering behavior of BasicView's dayGrid\n\n      function makeDayGridSubclass(SuperClass) {\n        return (\n          /** @class */\n          function (_super) {\n            tslib_1.__extends(SubClass, _super);\n\n            function SubClass() {\n              var _this = _super !== null && _super.apply(this, arguments) || this;\n\n              _this.colWeekNumbersVisible = false; // display week numbers along the side?\n\n              return _this;\n            } // Generates the HTML that will go before the day-of week header cells\n\n\n            SubClass.prototype.renderHeadIntroHtml = function () {\n              var view = this.view;\n\n              if (this.colWeekNumbersVisible) {\n                return '' + '<th class=\"fc-week-number ' + view.calendar.theme.getClass('widgetHeader') + '\" ' + view.weekNumberStyleAttr() + '>' + '<span>' + // needed for matchCellWidths\n                util_1.htmlEscape(this.opt('weekNumberTitle')) + '</span>' + '</th>';\n              }\n\n              return '';\n            }; // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\n\n\n            SubClass.prototype.renderNumberIntroHtml = function (row) {\n              var view = this.view;\n              var weekStart = this.getCellDate(row, 0);\n\n              if (this.colWeekNumbersVisible) {\n                return '' + '<td class=\"fc-week-number\" ' + view.weekNumberStyleAttr() + '>' + view.buildGotoAnchorHtml( // aside from link, important for matchCellWidths\n                {\n                  date: weekStart,\n                  type: 'week',\n                  forceOff: this.colCnt === 1\n                }, weekStart.format('w') // inner HTML\n                ) + '</td>';\n              }\n\n              return '';\n            }; // Generates the HTML that goes before the day bg cells for each day-row\n\n\n            SubClass.prototype.renderBgIntroHtml = function () {\n              var view = this.view;\n\n              if (this.colWeekNumbersVisible) {\n                return '<td class=\"fc-week-number ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.weekNumberStyleAttr() + '></td>';\n              }\n\n              return '';\n            }; // Generates the HTML that goes before every other type of row generated by DayGrid.\n            // Affects helper-skeleton and highlight-skeleton rows.\n\n\n            SubClass.prototype.renderIntroHtml = function () {\n              var view = this.view;\n\n              if (this.colWeekNumbersVisible) {\n                return '<td class=\"fc-week-number\" ' + view.weekNumberStyleAttr() + '></td>';\n              }\n\n              return '';\n            };\n\n            SubClass.prototype.getIsNumbersVisible = function () {\n              return DayGrid_1.default.prototype.getIsNumbersVisible.apply(this, arguments) || this.colWeekNumbersVisible;\n            };\n\n            return SubClass;\n          }(SuperClass)\n        );\n      }\n      /***/\n\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var DateProfileGenerator_1 = __webpack_require__(55);\n\n      var BasicViewDateProfileGenerator =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(BasicViewDateProfileGenerator, _super);\n\n        function BasicViewDateProfileGenerator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // Computes the date range that will be rendered.\n\n\n        BasicViewDateProfileGenerator.prototype.buildRenderRange = function (currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\n          var renderUnzonedRange = _super.prototype.buildRenderRange.call(this, currentUnzonedRange, currentRangeUnit, isRangeAllDay); // an UnzonedRange\n\n\n          var start = this.msToUtcMoment(renderUnzonedRange.startMs, isRangeAllDay);\n          var end = this.msToUtcMoment(renderUnzonedRange.endMs, isRangeAllDay); // year and month views should be aligned with weeks. this is already done for week\n\n          if (/^(year|month)$/.test(currentRangeUnit)) {\n            start.startOf('week'); // make end-of-week if not already\n\n            if (end.weekday()) {\n              end.add(1, 'week').startOf('week'); // exclusively move backwards\n            }\n          }\n\n          return new UnzonedRange_1.default(start, end);\n        };\n\n        return BasicViewDateProfileGenerator;\n      }(DateProfileGenerator_1.default);\n\n      exports.default = BasicViewDateProfileGenerator;\n      /***/\n    },,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\n    /* 69 */\n\n    /* 70 */\n\n    /* 71 */\n\n    /* 72 */\n\n    /* 73 */\n\n    /* 74 */\n\n    /* 75 */\n\n    /* 76 */\n\n    /* 77 */\n\n    /* 78 */\n\n    /* 79 */\n\n    /* 80 */\n\n    /* 81 */\n\n    /* 82 */\n\n    /* 83 */\n\n    /* 84 */\n\n    /* 85 */\n\n    /* 86 */\n\n    /* 87 */\n\n    /* 88 */\n\n    /* 89 */\n\n    /* 90 */\n\n    /* 91 */\n\n    /* 92 */\n\n    /* 93 */\n\n    /* 94 */\n\n    /* 95 */\n\n    /* 96 */\n\n    /* 97 */\n\n    /* 98 */\n\n    /* 99 */\n\n    /* 100 */\n\n    /* 101 */\n\n    /* 102 */\n\n    /* 103 */\n\n    /* 104 */\n\n    /* 105 */\n\n    /* 106 */\n\n    /* 107 */\n\n    /* 108 */\n\n    /* 109 */\n\n    /* 110 */\n\n    /* 111 */\n\n    /* 112 */\n\n    /* 113 */\n\n    /* 114 */\n\n    /* 115 */\n\n    /* 116 */\n\n    /* 117 */\n\n    /* 118 */\n\n    /* 119 */\n\n    /* 120 */\n\n    /* 121 */\n\n    /* 122 */\n\n    /* 123 */\n\n    /* 124 */\n\n    /* 125 */\n\n    /* 126 */\n\n    /* 127 */\n\n    /* 128 */\n\n    /* 129 */\n\n    /* 130 */\n\n    /* 131 */\n\n    /* 132 */\n\n    /* 133 */\n\n    /* 134 */\n\n    /* 135 */\n\n    /* 136 */\n\n    /* 137 */\n\n    /* 138 */\n\n    /* 139 */\n\n    /* 140 */\n\n    /* 141 */\n\n    /* 142 */\n\n    /* 143 */\n\n    /* 144 */\n\n    /* 145 */\n\n    /* 146 */\n\n    /* 147 */\n\n    /* 148 */\n\n    /* 149 */\n\n    /* 150 */\n\n    /* 151 */\n\n    /* 152 */\n\n    /* 153 */\n\n    /* 154 */\n\n    /* 155 */\n\n    /* 156 */\n\n    /* 157 */\n\n    /* 158 */\n\n    /* 159 */\n\n    /* 160 */\n\n    /* 161 */\n\n    /* 162 */\n\n    /* 163 */\n\n    /* 164 */\n\n    /* 165 */\n\n    /* 166 */\n\n    /* 167 */\n\n    /* 168 */\n\n    /* 169 */\n\n    /* 170 */\n\n    /* 171 */\n\n    /* 172 */\n\n    /* 173 */\n\n    /* 174 */\n\n    /* 175 */\n\n    /* 176 */\n\n    /* 177 */\n\n    /* 178 */\n\n    /* 179 */\n\n    /* 180 */\n\n    /* 181 */\n\n    /* 182 */\n\n    /* 183 */\n\n    /* 184 */\n\n    /* 185 */\n\n    /* 186 */\n\n    /* 187 */\n\n    /* 188 */\n\n    /* 189 */\n\n    /* 190 */\n\n    /* 191 */\n\n    /* 192 */\n\n    /* 193 */\n\n    /* 194 */\n\n    /* 195 */\n\n    /* 196 */\n\n    /* 197 */\n\n    /* 198 */\n\n    /* 199 */\n\n    /* 200 */\n\n    /* 201 */\n\n    /* 202 */\n\n    /* 203 */\n\n    /* 204 */\n\n    /* 205 */\n\n    /* 206 */\n\n    /* 207 */\n\n    /* 208 */\n\n    /* 209 */\n\n    /* 210 */\n\n    /* 211 */\n\n    /* 212 */\n\n    /* 213 */\n\n    /* 214 */\n\n    /* 215 */\n\n    /* 216 */\n\n    /* 217 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      var EventDefParser_1 = __webpack_require__(36);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var util_1 = __webpack_require__(19);\n\n      var Constraints =\n      /** @class */\n      function () {\n        function Constraints(eventManager, _calendar) {\n          this.eventManager = eventManager;\n          this._calendar = _calendar;\n        }\n\n        Constraints.prototype.opt = function (name) {\n          return this._calendar.opt(name);\n        };\n        /*\r\n        determines if eventInstanceGroup is allowed,\r\n        in relation to other EVENTS and business hours.\r\n        */\n\n\n        Constraints.prototype.isEventInstanceGroupAllowed = function (eventInstanceGroup) {\n          var eventDef = eventInstanceGroup.getEventDef();\n          var eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges());\n          var i;\n          var peerEventInstances = this.getPeerEventInstances(eventDef);\n          var peerEventRanges = peerEventInstances.map(util_1.eventInstanceToEventRange);\n          var peerEventFootprints = this.eventRangesToEventFootprints(peerEventRanges);\n          var constraintVal = eventDef.getConstraint();\n          var overlapVal = eventDef.getOverlap();\n          var eventAllowFunc = this.opt('eventAllow');\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            if (!this.isFootprintAllowed(eventFootprints[i].componentFootprint, peerEventFootprints, constraintVal, overlapVal, eventFootprints[i].eventInstance)) {\n              return false;\n            }\n          }\n\n          if (eventAllowFunc) {\n            for (i = 0; i < eventFootprints.length; i++) {\n              if (eventAllowFunc(eventFootprints[i].componentFootprint.toLegacy(this._calendar), eventFootprints[i].getEventLegacy()) === false) {\n                return false;\n              }\n            }\n          }\n\n          return true;\n        };\n\n        Constraints.prototype.getPeerEventInstances = function (eventDef) {\n          return this.eventManager.getEventInstancesWithoutId(eventDef.id);\n        };\n\n        Constraints.prototype.isSelectionFootprintAllowed = function (componentFootprint) {\n          var peerEventInstances = this.eventManager.getEventInstances();\n          var peerEventRanges = peerEventInstances.map(util_1.eventInstanceToEventRange);\n          var peerEventFootprints = this.eventRangesToEventFootprints(peerEventRanges);\n          var selectAllowFunc;\n\n          if (this.isFootprintAllowed(componentFootprint, peerEventFootprints, this.opt('selectConstraint'), this.opt('selectOverlap'))) {\n            selectAllowFunc = this.opt('selectAllow');\n\n            if (selectAllowFunc) {\n              return selectAllowFunc(componentFootprint.toLegacy(this._calendar)) !== false;\n            } else {\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        Constraints.prototype.isFootprintAllowed = function (componentFootprint, peerEventFootprints, constraintVal, overlapVal, subjectEventInstance // optional\n        ) {\n          var constraintFootprints; // ComponentFootprint[]\n\n          var overlapEventFootprints; // EventFootprint[]\n\n          if (constraintVal != null) {\n            constraintFootprints = this.constraintValToFootprints(constraintVal, componentFootprint.isAllDay);\n\n            if (!this.isFootprintWithinConstraints(componentFootprint, constraintFootprints)) {\n              return false;\n            }\n          }\n\n          overlapEventFootprints = this.collectOverlapEventFootprints(peerEventFootprints, componentFootprint);\n\n          if (overlapVal === false) {\n            if (overlapEventFootprints.length) {\n              return false;\n            }\n          } else if (typeof overlapVal === 'function') {\n            if (!isOverlapsAllowedByFunc(overlapEventFootprints, overlapVal, subjectEventInstance)) {\n              return false;\n            }\n          }\n\n          if (subjectEventInstance) {\n            if (!isOverlapEventInstancesAllowed(overlapEventFootprints, subjectEventInstance)) {\n              return false;\n            }\n          }\n\n          return true;\n        }; // Constraint\n        // ------------------------------------------------------------------------------------------------\n\n\n        Constraints.prototype.isFootprintWithinConstraints = function (componentFootprint, constraintFootprints) {\n          var i;\n\n          for (i = 0; i < constraintFootprints.length; i++) {\n            if (this.footprintContainsFootprint(constraintFootprints[i], componentFootprint)) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        Constraints.prototype.constraintValToFootprints = function (constraintVal, isAllDay) {\n          var eventInstances;\n\n          if (constraintVal === 'businessHours') {\n            return this.buildCurrentBusinessFootprints(isAllDay);\n          } else if (typeof constraintVal === 'object') {\n            eventInstances = this.parseEventDefToInstances(constraintVal); // handles recurring events\n\n            if (!eventInstances) {\n              // invalid input. fallback to parsing footprint directly\n              return this.parseFootprints(constraintVal);\n            } else {\n              return this.eventInstancesToFootprints(eventInstances);\n            }\n          } else if (constraintVal != null) {\n            // an ID\n            eventInstances = this.eventManager.getEventInstancesWithId(constraintVal);\n            return this.eventInstancesToFootprints(eventInstances);\n          }\n        }; // returns ComponentFootprint[]\n        // uses current view's range\n\n\n        Constraints.prototype.buildCurrentBusinessFootprints = function (isAllDay) {\n          var view = this._calendar.view;\n          var businessHourGenerator = view.get('businessHourGenerator');\n          var unzonedRange = view.dateProfile.activeUnzonedRange;\n          var eventInstanceGroup = businessHourGenerator.buildEventInstanceGroup(isAllDay, unzonedRange);\n\n          if (eventInstanceGroup) {\n            return this.eventInstancesToFootprints(eventInstanceGroup.eventInstances);\n          } else {\n            return [];\n          }\n        }; // conversion util\n\n\n        Constraints.prototype.eventInstancesToFootprints = function (eventInstances) {\n          var eventRanges = eventInstances.map(util_1.eventInstanceToEventRange);\n          var eventFootprints = this.eventRangesToEventFootprints(eventRanges);\n          return eventFootprints.map(util_1.eventFootprintToComponentFootprint);\n        }; // Overlap\n        // ------------------------------------------------------------------------------------------------\n\n\n        Constraints.prototype.collectOverlapEventFootprints = function (peerEventFootprints, targetFootprint) {\n          var overlapEventFootprints = [];\n          var i;\n\n          for (i = 0; i < peerEventFootprints.length; i++) {\n            if (this.footprintsIntersect(targetFootprint, peerEventFootprints[i].componentFootprint)) {\n              overlapEventFootprints.push(peerEventFootprints[i]);\n            }\n          }\n\n          return overlapEventFootprints;\n        }; // Conversion: eventDefs -> eventInstances -> eventRanges -> eventFootprints -> componentFootprints\n        // ------------------------------------------------------------------------------------------------\n        // NOTE: this might seem like repetitive code with the Grid class, however, this code is related to\n        // constraints whereas the Grid code is related to rendering. Each approach might want to convert\n        // eventRanges -> eventFootprints in a different way. Regardless, there are opportunities to make\n        // this more DRY.\n\n        /*\r\n        Returns false on invalid input.\r\n        */\n\n\n        Constraints.prototype.parseEventDefToInstances = function (eventInput) {\n          var eventManager = this.eventManager;\n          var eventDef = EventDefParser_1.default.parse(eventInput, new EventSource_1.default(this._calendar));\n\n          if (!eventDef) {\n            // invalid\n            return false;\n          }\n\n          return eventDef.buildInstances(eventManager.currentPeriod.unzonedRange);\n        };\n\n        Constraints.prototype.eventRangesToEventFootprints = function (eventRanges) {\n          var i;\n          var eventFootprints = [];\n\n          for (i = 0; i < eventRanges.length; i++) {\n            eventFootprints.push.apply( // footprints\n            eventFootprints, this.eventRangeToEventFootprints(eventRanges[i]));\n          }\n\n          return eventFootprints;\n        };\n\n        Constraints.prototype.eventRangeToEventFootprints = function (eventRange) {\n          return [util_1.eventRangeToEventFootprint(eventRange)];\n        };\n        /*\r\n        Parses footprints directly.\r\n        Very similar to EventDateProfile::parse :(\r\n        */\n\n\n        Constraints.prototype.parseFootprints = function (rawInput) {\n          var start;\n          var end;\n\n          if (rawInput.start) {\n            start = this._calendar.moment(rawInput.start);\n\n            if (!start.isValid()) {\n              start = null;\n            }\n          }\n\n          if (rawInput.end) {\n            end = this._calendar.moment(rawInput.end);\n\n            if (!end.isValid()) {\n              end = null;\n            }\n          }\n\n          return [new ComponentFootprint_1.default(new UnzonedRange_1.default(start, end), start && !start.hasTime() || end && !end.hasTime() // isAllDay\n          )];\n        }; // Footprint Utils\n        // ----------------------------------------------------------------------------------------\n\n\n        Constraints.prototype.footprintContainsFootprint = function (outerFootprint, innerFootprint) {\n          return outerFootprint.unzonedRange.containsRange(innerFootprint.unzonedRange);\n        };\n\n        Constraints.prototype.footprintsIntersect = function (footprint0, footprint1) {\n          return footprint0.unzonedRange.intersectsWith(footprint1.unzonedRange);\n        };\n\n        return Constraints;\n      }();\n\n      exports.default = Constraints; // optional subjectEventInstance\n\n      function isOverlapsAllowedByFunc(overlapEventFootprints, overlapFunc, subjectEventInstance) {\n        var i;\n\n        for (i = 0; i < overlapEventFootprints.length; i++) {\n          if (!overlapFunc(overlapEventFootprints[i].eventInstance.toLegacy(), subjectEventInstance ? subjectEventInstance.toLegacy() : null)) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      function isOverlapEventInstancesAllowed(overlapEventFootprints, subjectEventInstance) {\n        var subjectLegacyInstance = subjectEventInstance.toLegacy();\n        var i;\n        var overlapEventInstance;\n        var overlapEventDef;\n        var overlapVal;\n\n        for (i = 0; i < overlapEventFootprints.length; i++) {\n          overlapEventInstance = overlapEventFootprints[i].eventInstance;\n          overlapEventDef = overlapEventInstance.def; // don't need to pass in calendar, because don't want to consider global eventOverlap property,\n          // because we already considered that earlier in the process.\n\n          overlapVal = overlapEventDef.getOverlap();\n\n          if (overlapVal === false) {\n            return false;\n          } else if (typeof overlapVal === 'function') {\n            if (!overlapVal(overlapEventInstance.toLegacy(), subjectLegacyInstance)) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      }\n      /***/\n\n    },\n    /* 218 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(19);\n\n      var EventInstanceGroup_1 = __webpack_require__(20);\n\n      var RecurringEventDef_1 = __webpack_require__(54);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var BUSINESS_HOUR_EVENT_DEFAULTS = {\n        start: '09:00',\n        end: '17:00',\n        dow: [1, 2, 3, 4, 5],\n        rendering: 'inverse-background' // classNames are defined in businessHoursSegClasses\n\n      };\n\n      var BusinessHourGenerator =\n      /** @class */\n      function () {\n        function BusinessHourGenerator(rawComplexDef, calendar) {\n          this.rawComplexDef = rawComplexDef;\n          this.calendar = calendar;\n        }\n\n        BusinessHourGenerator.prototype.buildEventInstanceGroup = function (isAllDay, unzonedRange) {\n          var eventDefs = this.buildEventDefs(isAllDay);\n          var eventInstanceGroup;\n\n          if (eventDefs.length) {\n            eventInstanceGroup = new EventInstanceGroup_1.default(util_1.eventDefsToEventInstances(eventDefs, unzonedRange)); // so that inverse-background rendering can happen even when no eventRanges in view\n\n            eventInstanceGroup.explicitEventDef = eventDefs[0];\n            return eventInstanceGroup;\n          }\n        };\n\n        BusinessHourGenerator.prototype.buildEventDefs = function (isAllDay) {\n          var rawComplexDef = this.rawComplexDef;\n          var rawDefs = [];\n          var requireDow = false;\n          var i;\n          var defs = [];\n\n          if (rawComplexDef === true) {\n            rawDefs = [{}]; // will get BUSINESS_HOUR_EVENT_DEFAULTS verbatim\n          } else if ($.isPlainObject(rawComplexDef)) {\n            rawDefs = [rawComplexDef];\n          } else if ($.isArray(rawComplexDef)) {\n            rawDefs = rawComplexDef;\n            requireDow = true; // every sub-definition NEEDS a day-of-week\n          }\n\n          for (i = 0; i < rawDefs.length; i++) {\n            if (!requireDow || rawDefs[i].dow) {\n              defs.push(this.buildEventDef(isAllDay, rawDefs[i]));\n            }\n          }\n\n          return defs;\n        };\n\n        BusinessHourGenerator.prototype.buildEventDef = function (isAllDay, rawDef) {\n          var fullRawDef = $.extend({}, BUSINESS_HOUR_EVENT_DEFAULTS, rawDef);\n\n          if (isAllDay) {\n            fullRawDef.start = null;\n            fullRawDef.end = null;\n          }\n\n          return RecurringEventDef_1.default.parse(fullRawDef, new EventSource_1.default(this.calendar) // dummy source\n          );\n        };\n\n        return BusinessHourGenerator;\n      }();\n\n      exports.default = BusinessHourGenerator;\n      /***/\n    },\n    /* 219 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var Promise_1 = __webpack_require__(21);\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var EventInstanceGroup_1 = __webpack_require__(20);\n\n      var EventPeriod =\n      /** @class */\n      function () {\n        function EventPeriod(start, end, timezone) {\n          this.pendingCnt = 0;\n          this.freezeDepth = 0;\n          this.stuntedReleaseCnt = 0;\n          this.releaseCnt = 0;\n          this.start = start;\n          this.end = end;\n          this.timezone = timezone;\n          this.unzonedRange = new UnzonedRange_1.default(start.clone().stripZone(), end.clone().stripZone());\n          this.requestsByUid = {};\n          this.eventDefsByUid = {};\n          this.eventDefsById = {};\n          this.eventInstanceGroupsById = {};\n        }\n\n        EventPeriod.prototype.isWithinRange = function (start, end) {\n          // TODO: use a range util function?\n          return !start.isBefore(this.start) && !end.isAfter(this.end);\n        }; // Requesting and Purging\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventPeriod.prototype.requestSources = function (sources) {\n          this.freeze();\n\n          for (var i = 0; i < sources.length; i++) {\n            this.requestSource(sources[i]);\n          }\n\n          this.thaw();\n        };\n\n        EventPeriod.prototype.requestSource = function (source) {\n          var _this = this;\n\n          var request = {\n            source: source,\n            status: 'pending',\n            eventDefs: null\n          };\n          this.requestsByUid[source.uid] = request;\n          this.pendingCnt += 1;\n          source.fetch(this.start, this.end, this.timezone).then(function (eventDefs) {\n            if (request.status !== 'cancelled') {\n              request.status = 'completed';\n              request.eventDefs = eventDefs;\n\n              _this.addEventDefs(eventDefs);\n\n              _this.pendingCnt--;\n\n              _this.tryRelease();\n            }\n          }, function () {\n            if (request.status !== 'cancelled') {\n              request.status = 'failed';\n              _this.pendingCnt--;\n\n              _this.tryRelease();\n            }\n          });\n        };\n\n        EventPeriod.prototype.purgeSource = function (source) {\n          var request = this.requestsByUid[source.uid];\n\n          if (request) {\n            delete this.requestsByUid[source.uid];\n\n            if (request.status === 'pending') {\n              request.status = 'cancelled';\n              this.pendingCnt--;\n              this.tryRelease();\n            } else if (request.status === 'completed') {\n              request.eventDefs.forEach(this.removeEventDef.bind(this));\n            }\n          }\n        };\n\n        EventPeriod.prototype.purgeAllSources = function () {\n          var requestsByUid = this.requestsByUid;\n          var uid;\n          var request;\n          var completedCnt = 0;\n\n          for (uid in requestsByUid) {\n            request = requestsByUid[uid];\n\n            if (request.status === 'pending') {\n              request.status = 'cancelled';\n            } else if (request.status === 'completed') {\n              completedCnt++;\n            }\n          }\n\n          this.requestsByUid = {};\n          this.pendingCnt = 0;\n\n          if (completedCnt) {\n            this.removeAllEventDefs(); // might release\n          }\n        }; // Event Definitions\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventPeriod.prototype.getEventDefByUid = function (eventDefUid) {\n          return this.eventDefsByUid[eventDefUid];\n        };\n\n        EventPeriod.prototype.getEventDefsById = function (eventDefId) {\n          var a = this.eventDefsById[eventDefId];\n\n          if (a) {\n            return a.slice(); // clone\n          }\n\n          return [];\n        };\n\n        EventPeriod.prototype.addEventDefs = function (eventDefs) {\n          for (var i = 0; i < eventDefs.length; i++) {\n            this.addEventDef(eventDefs[i]);\n          }\n        };\n\n        EventPeriod.prototype.addEventDef = function (eventDef) {\n          var eventDefsById = this.eventDefsById;\n          var eventDefId = eventDef.id;\n          var eventDefs = eventDefsById[eventDefId] || (eventDefsById[eventDefId] = []);\n          var eventInstances = eventDef.buildInstances(this.unzonedRange);\n          var i;\n          eventDefs.push(eventDef);\n          this.eventDefsByUid[eventDef.uid] = eventDef;\n\n          for (i = 0; i < eventInstances.length; i++) {\n            this.addEventInstance(eventInstances[i], eventDefId);\n          }\n        };\n\n        EventPeriod.prototype.removeEventDefsById = function (eventDefId) {\n          var _this = this;\n\n          this.getEventDefsById(eventDefId).forEach(function (eventDef) {\n            _this.removeEventDef(eventDef);\n          });\n        };\n\n        EventPeriod.prototype.removeAllEventDefs = function () {\n          var isEmpty = $.isEmptyObject(this.eventDefsByUid);\n          this.eventDefsByUid = {};\n          this.eventDefsById = {};\n          this.eventInstanceGroupsById = {};\n\n          if (!isEmpty) {\n            this.tryRelease();\n          }\n        };\n\n        EventPeriod.prototype.removeEventDef = function (eventDef) {\n          var eventDefsById = this.eventDefsById;\n          var eventDefs = eventDefsById[eventDef.id];\n          delete this.eventDefsByUid[eventDef.uid];\n\n          if (eventDefs) {\n            util_1.removeExact(eventDefs, eventDef);\n\n            if (!eventDefs.length) {\n              delete eventDefsById[eventDef.id];\n            }\n\n            this.removeEventInstancesForDef(eventDef);\n          }\n        }; // Event Instances\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventPeriod.prototype.getEventInstances = function () {\n          var eventInstanceGroupsById = this.eventInstanceGroupsById;\n          var eventInstances = [];\n          var id;\n\n          for (id in eventInstanceGroupsById) {\n            eventInstances.push.apply(eventInstances, // append\n            eventInstanceGroupsById[id].eventInstances);\n          }\n\n          return eventInstances;\n        };\n\n        EventPeriod.prototype.getEventInstancesWithId = function (eventDefId) {\n          var eventInstanceGroup = this.eventInstanceGroupsById[eventDefId];\n\n          if (eventInstanceGroup) {\n            return eventInstanceGroup.eventInstances.slice(); // clone\n          }\n\n          return [];\n        };\n\n        EventPeriod.prototype.getEventInstancesWithoutId = function (eventDefId) {\n          var eventInstanceGroupsById = this.eventInstanceGroupsById;\n          var matchingInstances = [];\n          var id;\n\n          for (id in eventInstanceGroupsById) {\n            if (id !== eventDefId) {\n              matchingInstances.push.apply(matchingInstances, // append\n              eventInstanceGroupsById[id].eventInstances);\n            }\n          }\n\n          return matchingInstances;\n        };\n\n        EventPeriod.prototype.addEventInstance = function (eventInstance, eventDefId) {\n          var eventInstanceGroupsById = this.eventInstanceGroupsById;\n          var eventInstanceGroup = eventInstanceGroupsById[eventDefId] || (eventInstanceGroupsById[eventDefId] = new EventInstanceGroup_1.default());\n          eventInstanceGroup.eventInstances.push(eventInstance);\n          this.tryRelease();\n        };\n\n        EventPeriod.prototype.removeEventInstancesForDef = function (eventDef) {\n          var eventInstanceGroupsById = this.eventInstanceGroupsById;\n          var eventInstanceGroup = eventInstanceGroupsById[eventDef.id];\n          var removeCnt;\n\n          if (eventInstanceGroup) {\n            removeCnt = util_1.removeMatching(eventInstanceGroup.eventInstances, function (currentEventInstance) {\n              return currentEventInstance.def === eventDef;\n            });\n\n            if (!eventInstanceGroup.eventInstances.length) {\n              delete eventInstanceGroupsById[eventDef.id];\n            }\n\n            if (removeCnt) {\n              this.tryRelease();\n            }\n          }\n        }; // Releasing and Freezing\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventPeriod.prototype.tryRelease = function () {\n          if (!this.pendingCnt) {\n            if (!this.freezeDepth) {\n              this.release();\n            } else {\n              this.stuntedReleaseCnt++;\n            }\n          }\n        };\n\n        EventPeriod.prototype.release = function () {\n          this.releaseCnt++;\n          this.trigger('release', this.eventInstanceGroupsById);\n        };\n\n        EventPeriod.prototype.whenReleased = function () {\n          var _this = this;\n\n          if (this.releaseCnt) {\n            return Promise_1.default.resolve(this.eventInstanceGroupsById);\n          } else {\n            return Promise_1.default.construct(function (onResolve) {\n              _this.one('release', onResolve);\n            });\n          }\n        };\n\n        EventPeriod.prototype.freeze = function () {\n          if (!this.freezeDepth++) {\n            this.stuntedReleaseCnt = 0;\n          }\n        };\n\n        EventPeriod.prototype.thaw = function () {\n          if (! --this.freezeDepth && this.stuntedReleaseCnt && !this.pendingCnt) {\n            this.release();\n          }\n        };\n\n        return EventPeriod;\n      }();\n\n      exports.default = EventPeriod;\n      EmitterMixin_1.default.mixInto(EventPeriod);\n      /***/\n    },\n    /* 220 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventPeriod_1 = __webpack_require__(219);\n\n      var ArrayEventSource_1 = __webpack_require__(56);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var EventSourceParser_1 = __webpack_require__(38);\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var EventInstanceGroup_1 = __webpack_require__(20);\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      var EventManager =\n      /** @class */\n      function () {\n        function EventManager(calendar) {\n          this.calendar = calendar;\n          this.stickySource = new ArrayEventSource_1.default(calendar);\n          this.otherSources = [];\n        }\n\n        EventManager.prototype.requestEvents = function (start, end, timezone, force) {\n          if (force || !this.currentPeriod || !this.currentPeriod.isWithinRange(start, end) || timezone !== this.currentPeriod.timezone) {\n            this.setPeriod( // will change this.currentPeriod\n            new EventPeriod_1.default(start, end, timezone));\n          }\n\n          return this.currentPeriod.whenReleased();\n        }; // Source Adding/Removing\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventManager.prototype.addSource = function (eventSource) {\n          this.otherSources.push(eventSource);\n\n          if (this.currentPeriod) {\n            this.currentPeriod.requestSource(eventSource); // might release\n          }\n        };\n\n        EventManager.prototype.removeSource = function (doomedSource) {\n          util_1.removeExact(this.otherSources, doomedSource);\n\n          if (this.currentPeriod) {\n            this.currentPeriod.purgeSource(doomedSource); // might release\n          }\n        };\n\n        EventManager.prototype.removeAllSources = function () {\n          this.otherSources = [];\n\n          if (this.currentPeriod) {\n            this.currentPeriod.purgeAllSources(); // might release\n          }\n        }; // Source Refetching\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventManager.prototype.refetchSource = function (eventSource) {\n          var currentPeriod = this.currentPeriod;\n\n          if (currentPeriod) {\n            currentPeriod.freeze();\n            currentPeriod.purgeSource(eventSource);\n            currentPeriod.requestSource(eventSource);\n            currentPeriod.thaw();\n          }\n        };\n\n        EventManager.prototype.refetchAllSources = function () {\n          var currentPeriod = this.currentPeriod;\n\n          if (currentPeriod) {\n            currentPeriod.freeze();\n            currentPeriod.purgeAllSources();\n            currentPeriod.requestSources(this.getSources());\n            currentPeriod.thaw();\n          }\n        }; // Source Querying\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventManager.prototype.getSources = function () {\n          return [this.stickySource].concat(this.otherSources);\n        }; // like querySources, but accepts multple match criteria (like multiple IDs)\n\n\n        EventManager.prototype.multiQuerySources = function (matchInputs) {\n          // coerce into an array\n          if (!matchInputs) {\n            matchInputs = [];\n          } else if (!$.isArray(matchInputs)) {\n            matchInputs = [matchInputs];\n          }\n\n          var matchingSources = [];\n          var i; // resolve raw inputs to real event source objects\n\n          for (i = 0; i < matchInputs.length; i++) {\n            matchingSources.push.apply( // append\n            matchingSources, this.querySources(matchInputs[i]));\n          }\n\n          return matchingSources;\n        }; // matchInput can either by a real event source object, an ID, or the function/URL for the source.\n        // returns an array of matching source objects.\n\n\n        EventManager.prototype.querySources = function (matchInput) {\n          var sources = this.otherSources;\n          var i;\n          var source; // given a proper event source object\n\n          for (i = 0; i < sources.length; i++) {\n            source = sources[i];\n\n            if (source === matchInput) {\n              return [source];\n            }\n          } // an ID match\n\n\n          source = this.getSourceById(EventSource_1.default.normalizeId(matchInput));\n\n          if (source) {\n            return [source];\n          } // parse as an event source\n\n\n          matchInput = EventSourceParser_1.default.parse(matchInput, this.calendar);\n\n          if (matchInput) {\n            return $.grep(sources, function (source) {\n              return isSourcesEquivalent(matchInput, source);\n            });\n          }\n        };\n        /*\r\n        ID assumed to already be normalized\r\n        */\n\n\n        EventManager.prototype.getSourceById = function (id) {\n          return $.grep(this.otherSources, function (source) {\n            return source.id && source.id === id;\n          })[0];\n        }; // Event-Period\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventManager.prototype.setPeriod = function (eventPeriod) {\n          if (this.currentPeriod) {\n            this.unbindPeriod(this.currentPeriod);\n            this.currentPeriod = null;\n          }\n\n          this.currentPeriod = eventPeriod;\n          this.bindPeriod(eventPeriod);\n          eventPeriod.requestSources(this.getSources());\n        };\n\n        EventManager.prototype.bindPeriod = function (eventPeriod) {\n          this.listenTo(eventPeriod, 'release', function (eventsPayload) {\n            this.trigger('release', eventsPayload);\n          });\n        };\n\n        EventManager.prototype.unbindPeriod = function (eventPeriod) {\n          this.stopListeningTo(eventPeriod);\n        }; // Event Getting/Adding/Removing\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventManager.prototype.getEventDefByUid = function (uid) {\n          if (this.currentPeriod) {\n            return this.currentPeriod.getEventDefByUid(uid);\n          }\n        };\n\n        EventManager.prototype.addEventDef = function (eventDef, isSticky) {\n          if (isSticky) {\n            this.stickySource.addEventDef(eventDef);\n          }\n\n          if (this.currentPeriod) {\n            this.currentPeriod.addEventDef(eventDef); // might release\n          }\n        };\n\n        EventManager.prototype.removeEventDefsById = function (eventId) {\n          this.getSources().forEach(function (eventSource) {\n            eventSource.removeEventDefsById(eventId);\n          });\n\n          if (this.currentPeriod) {\n            this.currentPeriod.removeEventDefsById(eventId); // might release\n          }\n        };\n\n        EventManager.prototype.removeAllEventDefs = function () {\n          this.getSources().forEach(function (eventSource) {\n            eventSource.removeAllEventDefs();\n          });\n\n          if (this.currentPeriod) {\n            this.currentPeriod.removeAllEventDefs();\n          }\n        }; // Event Mutating\n        // -----------------------------------------------------------------------------------------------------------------\n\n        /*\r\n        Returns an undo function.\r\n        */\n\n\n        EventManager.prototype.mutateEventsWithId = function (eventDefId, eventDefMutation) {\n          var currentPeriod = this.currentPeriod;\n          var eventDefs;\n          var undoFuncs = [];\n\n          if (currentPeriod) {\n            currentPeriod.freeze();\n            eventDefs = currentPeriod.getEventDefsById(eventDefId);\n            eventDefs.forEach(function (eventDef) {\n              // add/remove esp because id might change\n              currentPeriod.removeEventDef(eventDef);\n              undoFuncs.push(eventDefMutation.mutateSingle(eventDef));\n              currentPeriod.addEventDef(eventDef);\n            });\n            currentPeriod.thaw();\n            return function () {\n              currentPeriod.freeze();\n\n              for (var i = 0; i < eventDefs.length; i++) {\n                currentPeriod.removeEventDef(eventDefs[i]);\n                undoFuncs[i]();\n                currentPeriod.addEventDef(eventDefs[i]);\n              }\n\n              currentPeriod.thaw();\n            };\n          }\n\n          return function () {};\n        };\n        /*\r\n        copies and then mutates\r\n        */\n\n\n        EventManager.prototype.buildMutatedEventInstanceGroup = function (eventDefId, eventDefMutation) {\n          var eventDefs = this.getEventDefsById(eventDefId);\n          var i;\n          var defCopy;\n          var allInstances = [];\n\n          for (i = 0; i < eventDefs.length; i++) {\n            defCopy = eventDefs[i].clone();\n\n            if (defCopy instanceof SingleEventDef_1.default) {\n              eventDefMutation.mutateSingle(defCopy);\n              allInstances.push.apply(allInstances, // append\n              defCopy.buildInstances());\n            }\n          }\n\n          return new EventInstanceGroup_1.default(allInstances);\n        }; // Freezing\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        EventManager.prototype.freeze = function () {\n          if (this.currentPeriod) {\n            this.currentPeriod.freeze();\n          }\n        };\n\n        EventManager.prototype.thaw = function () {\n          if (this.currentPeriod) {\n            this.currentPeriod.thaw();\n          }\n        }; // methods that simply forward to EventPeriod\n\n\n        EventManager.prototype.getEventDefsById = function (eventDefId) {\n          return this.currentPeriod.getEventDefsById(eventDefId);\n        };\n\n        EventManager.prototype.getEventInstances = function () {\n          return this.currentPeriod.getEventInstances();\n        };\n\n        EventManager.prototype.getEventInstancesWithId = function (eventDefId) {\n          return this.currentPeriod.getEventInstancesWithId(eventDefId);\n        };\n\n        EventManager.prototype.getEventInstancesWithoutId = function (eventDefId) {\n          return this.currentPeriod.getEventInstancesWithoutId(eventDefId);\n        };\n\n        return EventManager;\n      }();\n\n      exports.default = EventManager;\n      EmitterMixin_1.default.mixInto(EventManager);\n      ListenerMixin_1.default.mixInto(EventManager);\n\n      function isSourcesEquivalent(source0, source1) {\n        return source0.getPrimitive() === source1.getPrimitive();\n      }\n      /***/\n\n    },\n    /* 221 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Theme_1 = __webpack_require__(22);\n\n      var StandardTheme =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(StandardTheme, _super);\n\n        function StandardTheme() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        return StandardTheme;\n      }(Theme_1.default);\n\n      exports.default = StandardTheme;\n      StandardTheme.prototype.classes = {\n        widget: 'fc-unthemed',\n        widgetHeader: 'fc-widget-header',\n        widgetContent: 'fc-widget-content',\n        buttonGroup: 'fc-button-group',\n        button: 'fc-button',\n        cornerLeft: 'fc-corner-left',\n        cornerRight: 'fc-corner-right',\n        stateDefault: 'fc-state-default',\n        stateActive: 'fc-state-active',\n        stateDisabled: 'fc-state-disabled',\n        stateHover: 'fc-state-hover',\n        stateDown: 'fc-state-down',\n        popoverHeader: 'fc-widget-header',\n        popoverContent: 'fc-widget-content',\n        // day grid\n        headerRow: 'fc-widget-header',\n        dayRow: 'fc-widget-content',\n        // list view\n        listView: 'fc-widget-content'\n      };\n      StandardTheme.prototype.baseIconClass = 'fc-icon';\n      StandardTheme.prototype.iconClasses = {\n        close: 'fc-icon-x',\n        prev: 'fc-icon-left-single-arrow',\n        next: 'fc-icon-right-single-arrow',\n        prevYear: 'fc-icon-left-double-arrow',\n        nextYear: 'fc-icon-right-double-arrow'\n      };\n      StandardTheme.prototype.iconOverrideOption = 'buttonIcons';\n      StandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\n      StandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n      /***/\n    },\n    /* 222 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Theme_1 = __webpack_require__(22);\n\n      var JqueryUiTheme =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(JqueryUiTheme, _super);\n\n        function JqueryUiTheme() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        return JqueryUiTheme;\n      }(Theme_1.default);\n\n      exports.default = JqueryUiTheme;\n      JqueryUiTheme.prototype.classes = {\n        widget: 'ui-widget',\n        widgetHeader: 'ui-widget-header',\n        widgetContent: 'ui-widget-content',\n        buttonGroup: 'fc-button-group',\n        button: 'ui-button',\n        cornerLeft: 'ui-corner-left',\n        cornerRight: 'ui-corner-right',\n        stateDefault: 'ui-state-default',\n        stateActive: 'ui-state-active',\n        stateDisabled: 'ui-state-disabled',\n        stateHover: 'ui-state-hover',\n        stateDown: 'ui-state-down',\n        today: 'ui-state-highlight',\n        popoverHeader: 'ui-widget-header',\n        popoverContent: 'ui-widget-content',\n        // day grid\n        headerRow: 'ui-widget-header',\n        dayRow: 'ui-widget-content',\n        // list view\n        listView: 'ui-widget-content'\n      };\n      JqueryUiTheme.prototype.baseIconClass = 'ui-icon';\n      JqueryUiTheme.prototype.iconClasses = {\n        close: 'ui-icon-closethick',\n        prev: 'ui-icon-circle-triangle-w',\n        next: 'ui-icon-circle-triangle-e',\n        prevYear: 'ui-icon-seek-prev',\n        nextYear: 'ui-icon-seek-next'\n      };\n      JqueryUiTheme.prototype.iconOverrideOption = 'themeButtonIcons';\n      JqueryUiTheme.prototype.iconOverrideCustomButtonOption = 'themeIcon';\n      JqueryUiTheme.prototype.iconOverridePrefix = 'ui-icon-';\n      /***/\n    },\n    /* 223 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var Promise_1 = __webpack_require__(21);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var FuncEventSource =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(FuncEventSource, _super);\n\n        function FuncEventSource() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        FuncEventSource.parse = function (rawInput, calendar) {\n          var rawProps; // normalize raw input\n\n          if ($.isFunction(rawInput.events)) {\n            // extended form\n            rawProps = rawInput;\n          } else if ($.isFunction(rawInput)) {\n            // short form\n            rawProps = {\n              events: rawInput\n            };\n          }\n\n          if (rawProps) {\n            return EventSource_1.default.parse.call(this, rawProps, calendar);\n          }\n\n          return false;\n        };\n\n        FuncEventSource.prototype.fetch = function (start, end, timezone) {\n          var _this = this;\n\n          this.calendar.pushLoading();\n          return Promise_1.default.construct(function (onResolve) {\n            _this.func.call(_this.calendar, start.clone(), end.clone(), timezone, function (rawEventDefs) {\n              _this.calendar.popLoading();\n\n              onResolve(_this.parseEventDefs(rawEventDefs));\n            });\n          });\n        };\n\n        FuncEventSource.prototype.getPrimitive = function () {\n          return this.func;\n        };\n\n        FuncEventSource.prototype.applyManualStandardProps = function (rawProps) {\n          var superSuccess = _super.prototype.applyManualStandardProps.call(this, rawProps);\n\n          this.func = rawProps.events;\n          return superSuccess;\n        };\n\n        return FuncEventSource;\n      }(EventSource_1.default);\n\n      exports.default = FuncEventSource;\n      FuncEventSource.defineStandardProps({\n        events: false // don't automatically transfer\n\n      });\n      /***/\n    },\n    /* 224 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var Promise_1 = __webpack_require__(21);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var JsonFeedEventSource =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(JsonFeedEventSource, _super);\n\n        function JsonFeedEventSource() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        JsonFeedEventSource.parse = function (rawInput, calendar) {\n          var rawProps; // normalize raw input\n\n          if (typeof rawInput.url === 'string') {\n            // extended form\n            rawProps = rawInput;\n          } else if (typeof rawInput === 'string') {\n            // short form\n            rawProps = {\n              url: rawInput\n            };\n          }\n\n          if (rawProps) {\n            return EventSource_1.default.parse.call(this, rawProps, calendar);\n          }\n\n          return false;\n        };\n\n        JsonFeedEventSource.prototype.fetch = function (start, end, timezone) {\n          var _this = this;\n\n          var ajaxSettings = this.ajaxSettings;\n          var onSuccess = ajaxSettings.success;\n          var onError = ajaxSettings.error;\n          var requestParams = this.buildRequestParams(start, end, timezone); // todo: eventually handle the promise's then,\n          // don't intercept success/error\n          // tho will be a breaking API change\n\n          this.calendar.pushLoading();\n          return Promise_1.default.construct(function (onResolve, onReject) {\n            $.ajax($.extend({}, // destination\n            JsonFeedEventSource.AJAX_DEFAULTS, ajaxSettings, {\n              url: _this.url,\n              data: requestParams,\n              success: function (rawEventDefs, status, xhr) {\n                var callbackRes;\n\n                _this.calendar.popLoading();\n\n                if (rawEventDefs) {\n                  callbackRes = util_1.applyAll(onSuccess, _this, [rawEventDefs, status, xhr]); // redirect `this`\n\n                  if ($.isArray(callbackRes)) {\n                    rawEventDefs = callbackRes;\n                  }\n\n                  onResolve(_this.parseEventDefs(rawEventDefs));\n                } else {\n                  onReject();\n                }\n              },\n              error: function (xhr, statusText, errorThrown) {\n                _this.calendar.popLoading();\n\n                util_1.applyAll(onError, _this, [xhr, statusText, errorThrown]); // redirect `this`\n\n                onReject();\n              }\n            }));\n          });\n        };\n\n        JsonFeedEventSource.prototype.buildRequestParams = function (start, end, timezone) {\n          var calendar = this.calendar;\n          var ajaxSettings = this.ajaxSettings;\n          var startParam;\n          var endParam;\n          var timezoneParam;\n          var customRequestParams;\n          var params = {};\n          startParam = this.startParam;\n\n          if (startParam == null) {\n            startParam = calendar.opt('startParam');\n          }\n\n          endParam = this.endParam;\n\n          if (endParam == null) {\n            endParam = calendar.opt('endParam');\n          }\n\n          timezoneParam = this.timezoneParam;\n\n          if (timezoneParam == null) {\n            timezoneParam = calendar.opt('timezoneParam');\n          } // retrieve any outbound GET/POST $.ajax data from the options\n\n\n          if ($.isFunction(ajaxSettings.data)) {\n            // supplied as a function that returns a key/value object\n            customRequestParams = ajaxSettings.data();\n          } else {\n            // probably supplied as a straight key/value object\n            customRequestParams = ajaxSettings.data || {};\n          }\n\n          $.extend(params, customRequestParams);\n          params[startParam] = start.format();\n          params[endParam] = end.format();\n\n          if (timezone && timezone !== 'local') {\n            params[timezoneParam] = timezone;\n          }\n\n          return params;\n        };\n\n        JsonFeedEventSource.prototype.getPrimitive = function () {\n          return this.url;\n        };\n\n        JsonFeedEventSource.prototype.applyMiscProps = function (rawProps) {\n          this.ajaxSettings = rawProps;\n        };\n\n        JsonFeedEventSource.AJAX_DEFAULTS = {\n          dataType: 'json',\n          cache: false\n        };\n        return JsonFeedEventSource;\n      }(EventSource_1.default);\n\n      exports.default = JsonFeedEventSource;\n      JsonFeedEventSource.defineStandardProps({\n        // automatically transfer (true)...\n        url: true,\n        startParam: true,\n        endParam: true,\n        timezoneParam: true\n      });\n      /***/\n    },\n    /* 225 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Iterator =\n      /** @class */\n      function () {\n        function Iterator(items) {\n          this.items = items || [];\n        }\n        /* Calls a method on every item passing the arguments through */\n\n\n        Iterator.prototype.proxyCall = function (methodName) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          var results = [];\n          this.items.forEach(function (item) {\n            results.push(item[methodName].apply(item, args));\n          });\n          return results;\n        };\n\n        return Iterator;\n      }();\n\n      exports.default = Iterator;\n      /***/\n    },\n    /* 226 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n      /* Creates a clone of an element and lets it track the mouse as it moves\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n\n      var MouseFollower =\n      /** @class */\n      function () {\n        function MouseFollower(sourceEl, options) {\n          this.isFollowing = false;\n          this.isHidden = false;\n          this.isAnimating = false; // doing the revert animation?\n\n          this.options = options = options || {};\n          this.sourceEl = sourceEl;\n          this.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent(); // default to sourceEl's parent\n        } // Causes the element to start following the mouse\n\n\n        MouseFollower.prototype.start = function (ev) {\n          if (!this.isFollowing) {\n            this.isFollowing = true;\n            this.y0 = util_1.getEvY(ev);\n            this.x0 = util_1.getEvX(ev);\n            this.topDelta = 0;\n            this.leftDelta = 0;\n\n            if (!this.isHidden) {\n              this.updatePosition();\n            }\n\n            if (util_1.getEvIsTouch(ev)) {\n              this.listenTo($(document), 'touchmove', this.handleMove);\n            } else {\n              this.listenTo($(document), 'mousemove', this.handleMove);\n            }\n          }\n        }; // Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.\n        // `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.\n\n\n        MouseFollower.prototype.stop = function (shouldRevert, callback) {\n          var _this = this;\n\n          var revertDuration = this.options.revertDuration;\n\n          var complete = function () {\n            _this.isAnimating = false;\n\n            _this.removeElement();\n\n            _this.top0 = _this.left0 = null; // reset state for future updatePosition calls\n\n            if (callback) {\n              callback();\n            }\n          };\n\n          if (this.isFollowing && !this.isAnimating) {\n            // disallow more than one stop animation at a time\n            this.isFollowing = false;\n            this.stopListeningTo($(document));\n\n            if (shouldRevert && revertDuration && !this.isHidden) {\n              // do a revert animation?\n              this.isAnimating = true;\n              this.el.animate({\n                top: this.top0,\n                left: this.left0\n              }, {\n                duration: revertDuration,\n                complete: complete\n              });\n            } else {\n              complete();\n            }\n          }\n        }; // Gets the tracking element. Create it if necessary\n\n\n        MouseFollower.prototype.getEl = function () {\n          var el = this.el;\n\n          if (!el) {\n            el = this.el = this.sourceEl.clone().addClass(this.options.additionalClass || '').css({\n              position: 'absolute',\n              visibility: '',\n              display: this.isHidden ? 'none' : '',\n              margin: 0,\n              right: 'auto',\n              bottom: 'auto',\n              width: this.sourceEl.width(),\n              height: this.sourceEl.height(),\n              opacity: this.options.opacity || '',\n              zIndex: this.options.zIndex\n            }); // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n\n            el.addClass('fc-unselectable');\n            el.appendTo(this.parentEl);\n          }\n\n          return el;\n        }; // Removes the tracking element if it has already been created\n\n\n        MouseFollower.prototype.removeElement = function () {\n          if (this.el) {\n            this.el.remove();\n            this.el = null;\n          }\n        }; // Update the CSS position of the tracking element\n\n\n        MouseFollower.prototype.updatePosition = function () {\n          var sourceOffset;\n          var origin;\n          this.getEl(); // ensure this.el\n          // make sure origin info was computed\n\n          if (this.top0 == null) {\n            sourceOffset = this.sourceEl.offset();\n            origin = this.el.offsetParent().offset();\n            this.top0 = sourceOffset.top - origin.top;\n            this.left0 = sourceOffset.left - origin.left;\n          }\n\n          this.el.css({\n            top: this.top0 + this.topDelta,\n            left: this.left0 + this.leftDelta\n          });\n        }; // Gets called when the user moves the mouse\n\n\n        MouseFollower.prototype.handleMove = function (ev) {\n          this.topDelta = util_1.getEvY(ev) - this.y0;\n          this.leftDelta = util_1.getEvX(ev) - this.x0;\n\n          if (!this.isHidden) {\n            this.updatePosition();\n          }\n        }; // Temporarily makes the tracking element invisible. Can be called before following starts\n\n\n        MouseFollower.prototype.hide = function () {\n          if (!this.isHidden) {\n            this.isHidden = true;\n\n            if (this.el) {\n              this.el.hide();\n            }\n          }\n        }; // Show the tracking element after it has been temporarily hidden\n\n\n        MouseFollower.prototype.show = function () {\n          if (this.isHidden) {\n            this.isHidden = false;\n            this.updatePosition();\n            this.getEl().show();\n          }\n        };\n\n        return MouseFollower;\n      }();\n\n      exports.default = MouseFollower;\n      ListenerMixin_1.default.mixInto(MouseFollower);\n      /***/\n    },\n    /* 227 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* A rectangular panel that is absolutely positioned over other content\r\n      ------------------------------------------------------------------------------------------------------------------------\r\n      Options:\r\n        - className (string)\r\n        - content (HTML string or jQuery element set)\r\n        - parentEl\r\n        - top\r\n        - left\r\n        - right (the x coord of where the right edge should be. not a \"CSS\" right)\r\n        - autoHide (boolean)\r\n        - show (callback)\r\n        - hide (callback)\r\n      */\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      var Popover =\n      /** @class */\n      function () {\n        function Popover(options) {\n          this.isHidden = true;\n          this.margin = 10; // the space required between the popover and the edges of the scroll container\n\n          this.options = options || {};\n        } // Shows the popover on the specified position. Renders it if not already\n\n\n        Popover.prototype.show = function () {\n          if (this.isHidden) {\n            if (!this.el) {\n              this.render();\n            }\n\n            this.el.show();\n            this.position();\n            this.isHidden = false;\n            this.trigger('show');\n          }\n        }; // Hides the popover, through CSS, but does not remove it from the DOM\n\n\n        Popover.prototype.hide = function () {\n          if (!this.isHidden) {\n            this.el.hide();\n            this.isHidden = true;\n            this.trigger('hide');\n          }\n        }; // Creates `this.el` and renders content inside of it\n\n\n        Popover.prototype.render = function () {\n          var _this = this;\n\n          var options = this.options;\n          this.el = $('<div class=\"fc-popover\"/>').addClass(options.className || '').css({\n            // position initially to the top left to avoid creating scrollbars\n            top: 0,\n            left: 0\n          }).append(options.content).appendTo(options.parentEl); // when a click happens on anything inside with a 'fc-close' className, hide the popover\n\n          this.el.on('click', '.fc-close', function () {\n            _this.hide();\n          });\n\n          if (options.autoHide) {\n            this.listenTo($(document), 'mousedown', this.documentMousedown);\n          }\n        }; // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n\n\n        Popover.prototype.documentMousedown = function (ev) {\n          // only hide the popover if the click happened outside the popover\n          if (this.el && !$(ev.target).closest(this.el).length) {\n            this.hide();\n          }\n        }; // Hides and unregisters any handlers\n\n\n        Popover.prototype.removeElement = function () {\n          this.hide();\n\n          if (this.el) {\n            this.el.remove();\n            this.el = null;\n          }\n\n          this.stopListeningTo($(document), 'mousedown');\n        }; // Positions the popover optimally, using the top/left/right options\n\n\n        Popover.prototype.position = function () {\n          var options = this.options;\n          var origin = this.el.offsetParent().offset();\n          var width = this.el.outerWidth();\n          var height = this.el.outerHeight();\n          var windowEl = $(window);\n          var viewportEl = util_1.getScrollParent(this.el);\n          var viewportTop;\n          var viewportLeft;\n          var viewportOffset;\n          var top; // the \"position\" (not \"offset\") values for the popover\n\n          var left; //\n          // compute top and left\n\n          top = options.top || 0;\n\n          if (options.left !== undefined) {\n            left = options.left;\n          } else if (options.right !== undefined) {\n            left = options.right - width; // derive the left value from the right value\n          } else {\n            left = 0;\n          }\n\n          if (viewportEl.is(window) || viewportEl.is(document)) {\n            // normalize getScrollParent's result\n            viewportEl = windowEl;\n            viewportTop = 0; // the window is always at the top left\n\n            viewportLeft = 0; // (and .offset() won't work if called here)\n          } else {\n            viewportOffset = viewportEl.offset();\n            viewportTop = viewportOffset.top;\n            viewportLeft = viewportOffset.left;\n          } // if the window is scrolled, it causes the visible area to be further down\n\n\n          viewportTop += windowEl.scrollTop();\n          viewportLeft += windowEl.scrollLeft(); // constrain to the view port. if constrained by two edges, give precedence to top/left\n\n          if (options.viewportConstrain !== false) {\n            top = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin);\n            top = Math.max(top, viewportTop + this.margin);\n            left = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin);\n            left = Math.max(left, viewportLeft + this.margin);\n          }\n\n          this.el.css({\n            top: top - origin.top,\n            left: left - origin.left\n          });\n        }; // Triggers a callback. Calls a function in the option hash of the same name.\n        // Arguments beyond the first `name` are forwarded on.\n        // TODO: better code reuse for this. Repeat code\n\n\n        Popover.prototype.trigger = function (name) {\n          if (this.options[name]) {\n            this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n          }\n        };\n\n        return Popover;\n      }();\n\n      exports.default = Popover;\n      ListenerMixin_1.default.mixInto(Popover);\n      /***/\n    },\n    /* 228 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      var TaskQueue =\n      /** @class */\n      function () {\n        function TaskQueue() {\n          this.q = [];\n          this.isPaused = false;\n          this.isRunning = false;\n        }\n\n        TaskQueue.prototype.queue = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          this.q.push.apply(this.q, args); // append\n\n          this.tryStart();\n        };\n\n        TaskQueue.prototype.pause = function () {\n          this.isPaused = true;\n        };\n\n        TaskQueue.prototype.resume = function () {\n          this.isPaused = false;\n          this.tryStart();\n        };\n\n        TaskQueue.prototype.getIsIdle = function () {\n          return !this.isRunning && !this.isPaused;\n        };\n\n        TaskQueue.prototype.tryStart = function () {\n          if (!this.isRunning && this.canRunNext()) {\n            this.isRunning = true;\n            this.trigger('start');\n            this.runRemaining();\n          }\n        };\n\n        TaskQueue.prototype.canRunNext = function () {\n          return !this.isPaused && this.q.length;\n        };\n\n        TaskQueue.prototype.runRemaining = function () {\n          var _this = this;\n\n          var task;\n          var res;\n\n          do {\n            task = this.q.shift(); // always freshly reference q. might have been reassigned.\n\n            res = this.runTask(task);\n\n            if (res && res.then) {\n              res.then(function () {\n                if (_this.canRunNext()) {\n                  _this.runRemaining();\n                }\n              });\n              return; // prevent marking as stopped\n            }\n          } while (this.canRunNext());\n\n          this.trigger('stop'); // not really a 'stop' ... more of a 'drained'\n\n          this.isRunning = false; // if 'stop' handler added more tasks.... TODO: write test for this\n\n          this.tryStart();\n        };\n\n        TaskQueue.prototype.runTask = function (task) {\n          return task(); // task *is* the function, but subclasses can change the format of a task\n        };\n\n        return TaskQueue;\n      }();\n\n      exports.default = TaskQueue;\n      EmitterMixin_1.default.mixInto(TaskQueue);\n      /***/\n    },\n    /* 229 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var TaskQueue_1 = __webpack_require__(228);\n\n      var RenderQueue =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(RenderQueue, _super);\n\n        function RenderQueue(waitsByNamespace) {\n          var _this = _super.call(this) || this;\n\n          _this.waitsByNamespace = waitsByNamespace || {};\n          return _this;\n        }\n\n        RenderQueue.prototype.queue = function (taskFunc, namespace, type) {\n          var task = {\n            func: taskFunc,\n            namespace: namespace,\n            type: type\n          };\n          var waitMs;\n\n          if (namespace) {\n            waitMs = this.waitsByNamespace[namespace];\n          }\n\n          if (this.waitNamespace) {\n            if (namespace === this.waitNamespace && waitMs != null) {\n              this.delayWait(waitMs);\n            } else {\n              this.clearWait();\n              this.tryStart();\n            }\n          }\n\n          if (this.compoundTask(task)) {\n            // appended to queue?\n            if (!this.waitNamespace && waitMs != null) {\n              this.startWait(namespace, waitMs);\n            } else {\n              this.tryStart();\n            }\n          }\n        };\n\n        RenderQueue.prototype.startWait = function (namespace, waitMs) {\n          this.waitNamespace = namespace;\n          this.spawnWait(waitMs);\n        };\n\n        RenderQueue.prototype.delayWait = function (waitMs) {\n          clearTimeout(this.waitId);\n          this.spawnWait(waitMs);\n        };\n\n        RenderQueue.prototype.spawnWait = function (waitMs) {\n          var _this = this;\n\n          this.waitId = setTimeout(function () {\n            _this.waitNamespace = null;\n\n            _this.tryStart();\n          }, waitMs);\n        };\n\n        RenderQueue.prototype.clearWait = function () {\n          if (this.waitNamespace) {\n            clearTimeout(this.waitId);\n            this.waitId = null;\n            this.waitNamespace = null;\n          }\n        };\n\n        RenderQueue.prototype.canRunNext = function () {\n          if (!_super.prototype.canRunNext.call(this)) {\n            return false;\n          } // waiting for a certain namespace to stop receiving tasks?\n\n\n          if (this.waitNamespace) {\n            var q = this.q; // if there was a different namespace task in the meantime,\n            // that forces all previously-waiting tasks to suddenly execute.\n            // TODO: find a way to do this in constant time.\n\n            for (var i = 0; i < q.length; i++) {\n              if (q[i].namespace !== this.waitNamespace) {\n                return true; // allow execution\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        };\n\n        RenderQueue.prototype.runTask = function (task) {\n          task.func();\n        };\n\n        RenderQueue.prototype.compoundTask = function (newTask) {\n          var q = this.q;\n          var shouldAppend = true;\n          var i;\n          var task;\n\n          if (newTask.namespace && newTask.type === 'destroy') {\n            // remove all init/add/remove ops with same namespace, regardless of order\n            for (i = q.length - 1; i >= 0; i--) {\n              task = q[i];\n\n              if (task.namespace === newTask.namespace) {\n                switch (task.type) {\n                  case 'init':\n                    shouldAppend = false;\n                  // the latest destroy is cancelled out by not doing the init\n\n                  /* falls through */\n\n                  case 'add':\n                  /* falls through */\n\n                  case 'remove':\n                    q.splice(i, 1);\n                  // remove task\n                }\n              }\n            }\n          }\n\n          if (shouldAppend) {\n            q.push(newTask);\n          }\n\n          return shouldAppend;\n        };\n\n        return RenderQueue;\n      }(TaskQueue_1.default);\n\n      exports.default = RenderQueue;\n      /***/\n    },\n    /* 230 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Model_1 = __webpack_require__(51);\n\n      var Component =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(Component, _super);\n\n        function Component() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Component.prototype.setElement = function (el) {\n          this.el = el;\n          this.bindGlobalHandlers();\n          this.renderSkeleton();\n          this.set('isInDom', true);\n        };\n\n        Component.prototype.removeElement = function () {\n          this.unset('isInDom');\n          this.unrenderSkeleton();\n          this.unbindGlobalHandlers();\n          this.el.remove(); // NOTE: don't null-out this.el in case the View was destroyed within an API callback.\n          // We don't null-out the View's other jQuery element references upon destroy,\n          //  so we shouldn't kill this.el either.\n        };\n\n        Component.prototype.bindGlobalHandlers = function () {// subclasses can override\n        };\n\n        Component.prototype.unbindGlobalHandlers = function () {// subclasses can override\n        };\n        /*\r\n        NOTE: Can't have a `render` method. Read the deprecation notice in View::executeDateRender\r\n        */\n        // Renders the basic structure of the view before any content is rendered\n\n\n        Component.prototype.renderSkeleton = function () {// subclasses should implement\n        }; // Unrenders the basic structure of the view\n\n\n        Component.prototype.unrenderSkeleton = function () {// subclasses should implement\n        };\n\n        return Component;\n      }(Model_1.default);\n\n      exports.default = Component;\n      /***/\n    },\n    /* 231 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var moment_ext_1 = __webpack_require__(11);\n\n      var date_formatting_1 = __webpack_require__(49);\n\n      var Component_1 = __webpack_require__(230);\n\n      var util_2 = __webpack_require__(19);\n\n      var DateComponent =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DateComponent, _super);\n\n        function DateComponent(_view, _options) {\n          var _this = _super.call(this) || this;\n\n          _this.isRTL = false; // frequently accessed options\n\n          _this.hitsNeededDepth = 0; // necessary because multiple callers might need the same hits\n\n          _this.hasAllDayBusinessHours = false; // TODO: unify with largeUnit and isTimeScale?\n\n          _this.isDatesRendered = false; // hack to set options prior to the this.opt calls\n\n          if (_view) {\n            _this['view'] = _view;\n          }\n\n          if (_options) {\n            _this['options'] = _options;\n          }\n\n          _this.uid = String(DateComponent.guid++);\n          _this.childrenByUid = {};\n          _this.nextDayThreshold = moment.duration(_this.opt('nextDayThreshold'));\n          _this.isRTL = _this.opt('isRTL');\n\n          if (_this.fillRendererClass) {\n            _this.fillRenderer = new _this.fillRendererClass(_this);\n          }\n\n          if (_this.eventRendererClass) {\n            // fillRenderer is optional -----v\n            _this.eventRenderer = new _this.eventRendererClass(_this, _this.fillRenderer);\n          }\n\n          if (_this.helperRendererClass && _this.eventRenderer) {\n            _this.helperRenderer = new _this.helperRendererClass(_this, _this.eventRenderer);\n          }\n\n          if (_this.businessHourRendererClass && _this.fillRenderer) {\n            _this.businessHourRenderer = new _this.businessHourRendererClass(_this, _this.fillRenderer);\n          }\n\n          return _this;\n        }\n\n        DateComponent.prototype.addChild = function (child) {\n          if (!this.childrenByUid[child.uid]) {\n            this.childrenByUid[child.uid] = child;\n            return true;\n          }\n\n          return false;\n        };\n\n        DateComponent.prototype.removeChild = function (child) {\n          if (this.childrenByUid[child.uid]) {\n            delete this.childrenByUid[child.uid];\n            return true;\n          }\n\n          return false;\n        }; // TODO: only do if isInDom?\n        // TODO: make part of Component, along with children/batch-render system?\n\n\n        DateComponent.prototype.updateSize = function (totalHeight, isAuto, isResize) {\n          this.callChildren('updateSize', arguments);\n        }; // Options\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DateComponent.prototype.opt = function (name) {\n          return this._getView().opt(name); // default implementation\n        };\n\n        DateComponent.prototype.publiclyTrigger = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          var calendar = this._getCalendar();\n\n          return calendar.publiclyTrigger.apply(calendar, args);\n        };\n\n        DateComponent.prototype.hasPublicHandlers = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          var calendar = this._getCalendar();\n\n          return calendar.hasPublicHandlers.apply(calendar, args);\n        }; // Date\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DateComponent.prototype.executeDateRender = function (dateProfile) {\n          this.dateProfile = dateProfile; // for rendering\n\n          this.renderDates(dateProfile);\n          this.isDatesRendered = true;\n          this.callChildren('executeDateRender', arguments);\n        };\n\n        DateComponent.prototype.executeDateUnrender = function () {\n          this.callChildren('executeDateUnrender', arguments);\n          this.dateProfile = null;\n          this.unrenderDates();\n          this.isDatesRendered = false;\n        }; // date-cell content only\n\n\n        DateComponent.prototype.renderDates = function (dateProfile) {// subclasses should implement\n        }; // date-cell content only\n\n\n        DateComponent.prototype.unrenderDates = function () {// subclasses should override\n        }; // Now-Indicator\n        // -----------------------------------------------------------------------------------------------------------------\n        // Returns a string unit, like 'second' or 'minute' that defined how often the current time indicator\n        // should be refreshed. If something falsy is returned, no time indicator is rendered at all.\n\n\n        DateComponent.prototype.getNowIndicatorUnit = function () {// subclasses should implement\n        }; // Renders a current time indicator at the given datetime\n\n\n        DateComponent.prototype.renderNowIndicator = function (date) {\n          this.callChildren('renderNowIndicator', arguments);\n        }; // Undoes the rendering actions from renderNowIndicator\n\n\n        DateComponent.prototype.unrenderNowIndicator = function () {\n          this.callChildren('unrenderNowIndicator', arguments);\n        }; // Business Hours\n        // ---------------------------------------------------------------------------------------------------------------\n\n\n        DateComponent.prototype.renderBusinessHours = function (businessHourGenerator) {\n          if (this.businessHourRenderer) {\n            this.businessHourRenderer.render(businessHourGenerator);\n          }\n\n          this.callChildren('renderBusinessHours', arguments);\n        }; // Unrenders previously-rendered business-hours\n\n\n        DateComponent.prototype.unrenderBusinessHours = function () {\n          this.callChildren('unrenderBusinessHours', arguments);\n\n          if (this.businessHourRenderer) {\n            this.businessHourRenderer.unrender();\n          }\n        }; // Event Displaying\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DateComponent.prototype.executeEventRender = function (eventsPayload) {\n          if (this.eventRenderer) {\n            this.eventRenderer.rangeUpdated(); // poorly named now\n\n            this.eventRenderer.render(eventsPayload);\n          } else if (this['renderEvents']) {\n            // legacy\n            this['renderEvents'](convertEventsPayloadToLegacyArray(eventsPayload));\n          }\n\n          this.callChildren('executeEventRender', arguments);\n        };\n\n        DateComponent.prototype.executeEventUnrender = function () {\n          this.callChildren('executeEventUnrender', arguments);\n\n          if (this.eventRenderer) {\n            this.eventRenderer.unrender();\n          } else if (this['destroyEvents']) {\n            // legacy\n            this['destroyEvents']();\n          }\n        };\n\n        DateComponent.prototype.getBusinessHourSegs = function () {\n          var segs = this.getOwnBusinessHourSegs();\n          this.iterChildren(function (child) {\n            segs.push.apply(segs, child.getBusinessHourSegs());\n          });\n          return segs;\n        };\n\n        DateComponent.prototype.getOwnBusinessHourSegs = function () {\n          if (this.businessHourRenderer) {\n            return this.businessHourRenderer.getSegs();\n          }\n\n          return [];\n        };\n\n        DateComponent.prototype.getEventSegs = function () {\n          var segs = this.getOwnEventSegs();\n          this.iterChildren(function (child) {\n            segs.push.apply(segs, child.getEventSegs());\n          });\n          return segs;\n        };\n\n        DateComponent.prototype.getOwnEventSegs = function () {\n          if (this.eventRenderer) {\n            return this.eventRenderer.getSegs();\n          }\n\n          return [];\n        }; // Event Rendering Triggering\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        DateComponent.prototype.triggerAfterEventsRendered = function () {\n          this.triggerAfterEventSegsRendered(this.getEventSegs());\n          this.publiclyTrigger('eventAfterAllRender', {\n            context: this,\n            args: [this]\n          });\n        };\n\n        DateComponent.prototype.triggerAfterEventSegsRendered = function (segs) {\n          var _this = this; // an optimization, because getEventLegacy is expensive\n\n\n          if (this.hasPublicHandlers('eventAfterRender')) {\n            segs.forEach(function (seg) {\n              var legacy;\n\n              if (seg.el) {\n                // necessary?\n                legacy = seg.footprint.getEventLegacy();\n\n                _this.publiclyTrigger('eventAfterRender', {\n                  context: legacy,\n                  args: [legacy, seg.el, _this]\n                });\n              }\n            });\n          }\n        };\n\n        DateComponent.prototype.triggerBeforeEventsDestroyed = function () {\n          this.triggerBeforeEventSegsDestroyed(this.getEventSegs());\n        };\n\n        DateComponent.prototype.triggerBeforeEventSegsDestroyed = function (segs) {\n          var _this = this;\n\n          if (this.hasPublicHandlers('eventDestroy')) {\n            segs.forEach(function (seg) {\n              var legacy;\n\n              if (seg.el) {\n                // necessary?\n                legacy = seg.footprint.getEventLegacy();\n\n                _this.publiclyTrigger('eventDestroy', {\n                  context: legacy,\n                  args: [legacy, seg.el, _this]\n                });\n              }\n            });\n          }\n        }; // Event Rendering Utils\n        // -----------------------------------------------------------------------------------------------------------------\n        // Hides all rendered event segments linked to the given event\n        // RECURSIVE with subcomponents\n\n\n        DateComponent.prototype.showEventsWithId = function (eventDefId) {\n          this.getEventSegs().forEach(function (seg) {\n            if (seg.footprint.eventDef.id === eventDefId && seg.el // necessary?\n            ) {\n                seg.el.css('visibility', '');\n              }\n          });\n          this.callChildren('showEventsWithId', arguments);\n        }; // Shows all rendered event segments linked to the given event\n        // RECURSIVE with subcomponents\n\n\n        DateComponent.prototype.hideEventsWithId = function (eventDefId) {\n          this.getEventSegs().forEach(function (seg) {\n            if (seg.footprint.eventDef.id === eventDefId && seg.el // necessary?\n            ) {\n                seg.el.css('visibility', 'hidden');\n              }\n          });\n          this.callChildren('hideEventsWithId', arguments);\n        }; // Drag-n-Drop Rendering (for both events and external elements)\n        // ---------------------------------------------------------------------------------------------------------------\n        // Renders a visual indication of a event or external-element drag over the given drop zone.\n        // If an external-element, seg will be `null`.\n        // Must return elements used for any mock events.\n\n\n        DateComponent.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\n          var renderedHelper = false;\n          this.iterChildren(function (child) {\n            if (child.renderDrag(eventFootprints, seg, isTouch)) {\n              renderedHelper = true;\n            }\n          });\n          return renderedHelper;\n        }; // Unrenders a visual indication of an event or external-element being dragged.\n\n\n        DateComponent.prototype.unrenderDrag = function () {\n          this.callChildren('unrenderDrag', arguments);\n        }; // Event Resizing\n        // ---------------------------------------------------------------------------------------------------------------\n        // Renders a visual indication of an event being resized.\n\n\n        DateComponent.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\n          this.callChildren('renderEventResize', arguments);\n        }; // Unrenders a visual indication of an event being resized.\n\n\n        DateComponent.prototype.unrenderEventResize = function () {\n          this.callChildren('unrenderEventResize', arguments);\n        }; // Selection\n        // ---------------------------------------------------------------------------------------------------------------\n        // Renders a visual indication of the selection\n        // TODO: rename to `renderSelection` after legacy is gone\n\n\n        DateComponent.prototype.renderSelectionFootprint = function (componentFootprint) {\n          this.renderHighlight(componentFootprint);\n          this.callChildren('renderSelectionFootprint', arguments);\n        }; // Unrenders a visual indication of selection\n\n\n        DateComponent.prototype.unrenderSelection = function () {\n          this.unrenderHighlight();\n          this.callChildren('unrenderSelection', arguments);\n        }; // Highlight\n        // ---------------------------------------------------------------------------------------------------------------\n        // Renders an emphasis on the given date range. Given a span (unzoned start/end and other misc data)\n\n\n        DateComponent.prototype.renderHighlight = function (componentFootprint) {\n          if (this.fillRenderer) {\n            this.fillRenderer.renderFootprint('highlight', componentFootprint, {\n              getClasses: function () {\n                return ['fc-highlight'];\n              }\n            });\n          }\n\n          this.callChildren('renderHighlight', arguments);\n        }; // Unrenders the emphasis on a date range\n\n\n        DateComponent.prototype.unrenderHighlight = function () {\n          if (this.fillRenderer) {\n            this.fillRenderer.unrender('highlight');\n          }\n\n          this.callChildren('unrenderHighlight', arguments);\n        }; // Hit Areas\n        // ---------------------------------------------------------------------------------------------------------------\n        // just because all DateComponents support this interface\n        // doesn't mean they need to have their own internal coord system. they can defer to sub-components.\n\n\n        DateComponent.prototype.hitsNeeded = function () {\n          if (!this.hitsNeededDepth++) {\n            this.prepareHits();\n          }\n\n          this.callChildren('hitsNeeded', arguments);\n        };\n\n        DateComponent.prototype.hitsNotNeeded = function () {\n          if (this.hitsNeededDepth && ! --this.hitsNeededDepth) {\n            this.releaseHits();\n          }\n\n          this.callChildren('hitsNotNeeded', arguments);\n        };\n\n        DateComponent.prototype.prepareHits = function () {// subclasses can implement\n        };\n\n        DateComponent.prototype.releaseHits = function () {// subclasses can implement\n        }; // Given coordinates from the topleft of the document, return data about the date-related area underneath.\n        // Can return an object with arbitrary properties (although top/right/left/bottom are encouraged).\n        // Must have a `grid` property, a reference to this current grid. TODO: avoid this\n        // The returned object will be processed by getHitFootprint and getHitEl.\n\n\n        DateComponent.prototype.queryHit = function (leftOffset, topOffset) {\n          var childrenByUid = this.childrenByUid;\n          var uid;\n          var hit;\n\n          for (uid in childrenByUid) {\n            hit = childrenByUid[uid].queryHit(leftOffset, topOffset);\n\n            if (hit) {\n              break;\n            }\n          }\n\n          return hit;\n        };\n\n        DateComponent.prototype.getSafeHitFootprint = function (hit) {\n          var footprint = this.getHitFootprint(hit);\n\n          if (!this.dateProfile.activeUnzonedRange.containsRange(footprint.unzonedRange)) {\n            return null;\n          }\n\n          return footprint;\n        };\n\n        DateComponent.prototype.getHitFootprint = function (hit) {// what about being abstract!?\n        }; // Given position-level information about a date-related area within the grid,\n        // should return a jQuery element that best represents it. passed to dayClick callback.\n\n\n        DateComponent.prototype.getHitEl = function (hit) {// what about being abstract!?\n        };\n        /* Converting eventRange -> eventFootprint\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DateComponent.prototype.eventRangesToEventFootprints = function (eventRanges) {\n          var eventFootprints = [];\n          var i;\n\n          for (i = 0; i < eventRanges.length; i++) {\n            eventFootprints.push.apply( // append\n            eventFootprints, this.eventRangeToEventFootprints(eventRanges[i]));\n          }\n\n          return eventFootprints;\n        };\n\n        DateComponent.prototype.eventRangeToEventFootprints = function (eventRange) {\n          return [util_2.eventRangeToEventFootprint(eventRange)];\n        };\n        /* Converting componentFootprint/eventFootprint -> segs\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        DateComponent.prototype.eventFootprintsToSegs = function (eventFootprints) {\n          var segs = [];\n          var i;\n\n          for (i = 0; i < eventFootprints.length; i++) {\n            segs.push.apply(segs, this.eventFootprintToSegs(eventFootprints[i]));\n          }\n\n          return segs;\n        }; // Given an event's span (unzoned start/end and other misc data), and the event itself,\n        // slices into segments and attaches event-derived properties to them.\n        // eventSpan - { start, end, isStart, isEnd, otherthings... }\n\n\n        DateComponent.prototype.eventFootprintToSegs = function (eventFootprint) {\n          var unzonedRange = eventFootprint.componentFootprint.unzonedRange;\n          var segs;\n          var i;\n          var seg;\n          segs = this.componentFootprintToSegs(eventFootprint.componentFootprint);\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n\n            if (!unzonedRange.isStart) {\n              seg.isStart = false;\n            }\n\n            if (!unzonedRange.isEnd) {\n              seg.isEnd = false;\n            }\n\n            seg.footprint = eventFootprint; // TODO: rename to seg.eventFootprint\n          }\n\n          return segs;\n        };\n\n        DateComponent.prototype.componentFootprintToSegs = function (componentFootprint) {\n          return [];\n        }; // Utils\n        // ---------------------------------------------------------------------------------------------------------------\n\n\n        DateComponent.prototype.callChildren = function (methodName, args) {\n          this.iterChildren(function (child) {\n            child[methodName].apply(child, args);\n          });\n        };\n\n        DateComponent.prototype.iterChildren = function (func) {\n          var childrenByUid = this.childrenByUid;\n          var uid;\n\n          for (uid in childrenByUid) {\n            func(childrenByUid[uid]);\n          }\n        };\n\n        DateComponent.prototype._getCalendar = function () {\n          var t = this;\n          return t.calendar || t.view.calendar;\n        };\n\n        DateComponent.prototype._getView = function () {\n          return this.view;\n        };\n\n        DateComponent.prototype._getDateProfile = function () {\n          return this._getView().get('dateProfile');\n        }; // Generates HTML for an anchor to another view into the calendar.\n        // Will either generate an <a> tag or a non-clickable <span> tag, depending on enabled settings.\n        // `gotoOptions` can either be a moment input, or an object with the form:\n        // { date, type, forceOff }\n        // `type` is a view-type like \"day\" or \"week\". default value is \"day\".\n        // `attrs` and `innerHtml` are use to generate the rest of the HTML tag.\n\n\n        DateComponent.prototype.buildGotoAnchorHtml = function (gotoOptions, attrs, innerHtml) {\n          var date;\n          var type;\n          var forceOff;\n          var finalOptions;\n\n          if ($.isPlainObject(gotoOptions)) {\n            date = gotoOptions.date;\n            type = gotoOptions.type;\n            forceOff = gotoOptions.forceOff;\n          } else {\n            date = gotoOptions; // a single moment input\n          }\n\n          date = moment_ext_1.default(date); // if a string, parse it\n\n          finalOptions = {\n            date: date.format('YYYY-MM-DD'),\n            type: type || 'day'\n          };\n\n          if (typeof attrs === 'string') {\n            innerHtml = attrs;\n            attrs = null;\n          }\n\n          attrs = attrs ? ' ' + util_1.attrsToStr(attrs) : ''; // will have a leading space\n\n          innerHtml = innerHtml || '';\n\n          if (!forceOff && this.opt('navLinks')) {\n            return '<a' + attrs + ' data-goto=\"' + util_1.htmlEscape(JSON.stringify(finalOptions)) + '\">' + innerHtml + '</a>';\n          } else {\n            return '<span' + attrs + '>' + innerHtml + '</span>';\n          }\n        };\n\n        DateComponent.prototype.getAllDayHtml = function () {\n          return this.opt('allDayHtml') || util_1.htmlEscape(this.opt('allDayText'));\n        }; // Computes HTML classNames for a single-day element\n\n\n        DateComponent.prototype.getDayClasses = function (date, noThemeHighlight) {\n          var view = this._getView();\n\n          var classes = [];\n          var today;\n\n          if (!this.dateProfile.activeUnzonedRange.containsDate(date)) {\n            classes.push('fc-disabled-day'); // TODO: jQuery UI theme?\n          } else {\n            classes.push('fc-' + util_1.dayIDs[date.day()]);\n\n            if (view.isDateInOtherMonth(date, this.dateProfile)) {\n              // TODO: use DateComponent subclass somehow\n              classes.push('fc-other-month');\n            }\n\n            today = view.calendar.getNow();\n\n            if (date.isSame(today, 'day')) {\n              classes.push('fc-today');\n\n              if (noThemeHighlight !== true) {\n                classes.push(view.calendar.theme.getClass('today'));\n              }\n            } else if (date < today) {\n              classes.push('fc-past');\n            } else {\n              classes.push('fc-future');\n            }\n          }\n\n          return classes;\n        }; // Utility for formatting a range. Accepts a range object, formatting string, and optional separator.\n        // Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.\n        // The timezones of the dates within `range` will be respected.\n\n\n        DateComponent.prototype.formatRange = function (range, isAllDay, formatStr, separator) {\n          var end = range.end;\n\n          if (isAllDay) {\n            end = end.clone().subtract(1); // convert to inclusive. last ms of previous day\n          }\n\n          return date_formatting_1.formatRange(range.start, end, formatStr, separator, this.isRTL);\n        }; // Compute the number of the give units in the \"current\" range.\n        // Will return a floating-point number. Won't round.\n\n\n        DateComponent.prototype.currentRangeAs = function (unit) {\n          return this._getDateProfile().currentUnzonedRange.as(unit);\n        }; // Returns the date range of the full days the given range visually appears to occupy.\n        // Returns a plain object with start/end, NOT an UnzonedRange!\n\n\n        DateComponent.prototype.computeDayRange = function (unzonedRange) {\n          var calendar = this._getCalendar();\n\n          var startDay = calendar.msToUtcMoment(unzonedRange.startMs, true); // the beginning of the day the range starts\n\n          var end = calendar.msToUtcMoment(unzonedRange.endMs);\n          var endTimeMS = +end.time(); // # of milliseconds into `endDay`\n\n          var endDay = end.clone().stripTime(); // the beginning of the day the range exclusively ends\n          // If the end time is actually inclusively part of the next day and is equal to or\n          // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n          // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n\n          if (endTimeMS && endTimeMS >= this.nextDayThreshold) {\n            endDay.add(1, 'days');\n          } // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n\n\n          if (endDay <= startDay) {\n            endDay = startDay.clone().add(1, 'days');\n          }\n\n          return {\n            start: startDay,\n            end: endDay\n          };\n        }; // Does the given range visually appear to occupy more than one day?\n\n\n        DateComponent.prototype.isMultiDayRange = function (unzonedRange) {\n          var dayRange = this.computeDayRange(unzonedRange);\n          return dayRange.end.diff(dayRange.start, 'days') > 1;\n        };\n\n        DateComponent.guid = 0; // TODO: better system for this?\n\n        return DateComponent;\n      }(Component_1.default);\n\n      exports.default = DateComponent; // legacy\n\n      function convertEventsPayloadToLegacyArray(eventsPayload) {\n        var eventDefId;\n        var eventInstances;\n        var legacyEvents = [];\n        var i;\n\n        for (eventDefId in eventsPayload) {\n          eventInstances = eventsPayload[eventDefId].eventInstances;\n\n          for (i = 0; i < eventInstances.length; i++) {\n            legacyEvents.push(eventInstances[i].toLegacy());\n          }\n        }\n\n        return legacyEvents;\n      }\n      /***/\n\n    },\n    /* 232 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var options_1 = __webpack_require__(33);\n\n      var Iterator_1 = __webpack_require__(225);\n\n      var GlobalEmitter_1 = __webpack_require__(23);\n\n      var EmitterMixin_1 = __webpack_require__(13);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      var Toolbar_1 = __webpack_require__(257);\n\n      var OptionsManager_1 = __webpack_require__(258);\n\n      var ViewSpecManager_1 = __webpack_require__(259);\n\n      var Constraints_1 = __webpack_require__(217);\n\n      var locale_1 = __webpack_require__(32);\n\n      var moment_ext_1 = __webpack_require__(11);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      var EventDateProfile_1 = __webpack_require__(16);\n\n      var EventManager_1 = __webpack_require__(220);\n\n      var BusinessHourGenerator_1 = __webpack_require__(218);\n\n      var EventSourceParser_1 = __webpack_require__(38);\n\n      var EventDefParser_1 = __webpack_require__(36);\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var EventDefMutation_1 = __webpack_require__(39);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var ThemeRegistry_1 = __webpack_require__(57);\n\n      var Calendar =\n      /** @class */\n      function () {\n        function Calendar(el, overrides) {\n          this.loadingLevel = 0; // number of simultaneous loading tasks\n\n          this.ignoreUpdateViewSize = 0;\n          this.freezeContentHeightDepth = 0; // declare the current calendar instance relies on GlobalEmitter. needed for garbage collection.\n          // unneeded() is called in destroy.\n\n          GlobalEmitter_1.default.needed();\n          this.el = el;\n          this.viewsByType = {};\n          this.optionsManager = new OptionsManager_1.default(this, overrides);\n          this.viewSpecManager = new ViewSpecManager_1.default(this.optionsManager, this);\n          this.initMomentInternals(); // needs to happen after options hash initialized\n\n          this.initCurrentDate();\n          this.initEventManager();\n          this.constraints = new Constraints_1.default(this.eventManager, this);\n          this.constructed();\n        }\n\n        Calendar.prototype.constructed = function () {// useful for monkeypatching. used?\n        };\n\n        Calendar.prototype.getView = function () {\n          return this.view;\n        };\n\n        Calendar.prototype.publiclyTrigger = function (name, triggerInfo) {\n          var optHandler = this.opt(name);\n          var context;\n          var args;\n\n          if ($.isPlainObject(triggerInfo)) {\n            context = triggerInfo.context;\n            args = triggerInfo.args;\n          } else if ($.isArray(triggerInfo)) {\n            args = triggerInfo;\n          }\n\n          if (context == null) {\n            context = this.el[0]; // fallback context\n          }\n\n          if (!args) {\n            args = [];\n          }\n\n          this.triggerWith(name, context, args); // Emitter's method\n\n          if (optHandler) {\n            return optHandler.apply(context, args);\n          }\n        };\n\n        Calendar.prototype.hasPublicHandlers = function (name) {\n          return this.hasHandlers(name) || this.opt(name); // handler specified in options\n        }; // Options Public API\n        // -----------------------------------------------------------------------------------------------------------------\n        // public getter/setter\n\n\n        Calendar.prototype.option = function (name, value) {\n          var newOptionHash;\n\n          if (typeof name === 'string') {\n            if (value === undefined) {\n              // getter\n              return this.optionsManager.get(name);\n            } else {\n              // setter for individual option\n              newOptionHash = {};\n              newOptionHash[name] = value;\n              this.optionsManager.add(newOptionHash);\n            }\n          } else if (typeof name === 'object') {\n            // compound setter with object input\n            this.optionsManager.add(name);\n          }\n        }; // private getter\n\n\n        Calendar.prototype.opt = function (name) {\n          return this.optionsManager.get(name);\n        }; // View\n        // -----------------------------------------------------------------------------------------------------------------\n        // Given a view name for a custom view or a standard view, creates a ready-to-go View object\n\n\n        Calendar.prototype.instantiateView = function (viewType) {\n          var spec = this.viewSpecManager.getViewSpec(viewType);\n\n          if (!spec) {\n            throw new Error(\"View type \\\"\" + viewType + \"\\\" is not valid\");\n          }\n\n          return new spec['class'](this, spec);\n        }; // Returns a boolean about whether the view is okay to instantiate at some point\n\n\n        Calendar.prototype.isValidViewType = function (viewType) {\n          return Boolean(this.viewSpecManager.getViewSpec(viewType));\n        };\n\n        Calendar.prototype.changeView = function (viewName, dateOrRange) {\n          if (dateOrRange) {\n            if (dateOrRange.start && dateOrRange.end) {\n              // a range\n              this.optionsManager.recordOverrides({\n                visibleRange: dateOrRange\n              });\n            } else {\n              // a date\n              this.currentDate = this.moment(dateOrRange).stripZone(); // just like gotoDate\n            }\n          }\n\n          this.renderView(viewName);\n        }; // Forces navigation to a view for the given date.\n        // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n\n\n        Calendar.prototype.zoomTo = function (newDate, viewType) {\n          var spec;\n          viewType = viewType || 'day'; // day is default zoom\n\n          spec = this.viewSpecManager.getViewSpec(viewType) || this.viewSpecManager.getUnitViewSpec(viewType);\n          this.currentDate = newDate.clone();\n          this.renderView(spec ? spec.type : null);\n        }; // Current Date\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.initCurrentDate = function () {\n          var defaultDateInput = this.opt('defaultDate'); // compute the initial ambig-timezone date\n\n          if (defaultDateInput != null) {\n            this.currentDate = this.moment(defaultDateInput).stripZone();\n          } else {\n            this.currentDate = this.getNow(); // getNow already returns unzoned\n          }\n        };\n\n        Calendar.prototype.prev = function () {\n          var view = this.view;\n          var prevInfo = view.dateProfileGenerator.buildPrev(view.get('dateProfile'));\n\n          if (prevInfo.isValid) {\n            this.currentDate = prevInfo.date;\n            this.renderView();\n          }\n        };\n\n        Calendar.prototype.next = function () {\n          var view = this.view;\n          var nextInfo = view.dateProfileGenerator.buildNext(view.get('dateProfile'));\n\n          if (nextInfo.isValid) {\n            this.currentDate = nextInfo.date;\n            this.renderView();\n          }\n        };\n\n        Calendar.prototype.prevYear = function () {\n          this.currentDate.add(-1, 'years');\n          this.renderView();\n        };\n\n        Calendar.prototype.nextYear = function () {\n          this.currentDate.add(1, 'years');\n          this.renderView();\n        };\n\n        Calendar.prototype.today = function () {\n          this.currentDate = this.getNow(); // should deny like prev/next?\n\n          this.renderView();\n        };\n\n        Calendar.prototype.gotoDate = function (zonedDateInput) {\n          this.currentDate = this.moment(zonedDateInput).stripZone();\n          this.renderView();\n        };\n\n        Calendar.prototype.incrementDate = function (delta) {\n          this.currentDate.add(moment.duration(delta));\n          this.renderView();\n        }; // for external API\n\n\n        Calendar.prototype.getDate = function () {\n          return this.applyTimezone(this.currentDate); // infuse the calendar's timezone\n        }; // Loading Triggering\n        // -----------------------------------------------------------------------------------------------------------------\n        // Should be called when any type of async data fetching begins\n\n\n        Calendar.prototype.pushLoading = function () {\n          if (!this.loadingLevel++) {\n            this.publiclyTrigger('loading', [true, this.view]);\n          }\n        }; // Should be called when any type of async data fetching completes\n\n\n        Calendar.prototype.popLoading = function () {\n          if (! --this.loadingLevel) {\n            this.publiclyTrigger('loading', [false, this.view]);\n          }\n        }; // High-level Rendering\n        // -----------------------------------------------------------------------------------\n\n\n        Calendar.prototype.render = function () {\n          if (!this.contentEl) {\n            this.initialRender();\n          } else if (this.elementVisible()) {\n            // mainly for the public API\n            this.calcSize();\n            this.updateViewSize();\n          }\n        };\n\n        Calendar.prototype.initialRender = function () {\n          var _this = this;\n\n          var el = this.el;\n          el.addClass('fc'); // event delegation for nav links\n\n          el.on('click.fc', 'a[data-goto]', function (ev) {\n            var anchorEl = $(ev.currentTarget);\n            var gotoOptions = anchorEl.data('goto'); // will automatically parse JSON\n\n            var date = _this.moment(gotoOptions.date);\n\n            var viewType = gotoOptions.type; // property like \"navLinkDayClick\". might be a string or a function\n\n            var customAction = _this.view.opt('navLink' + util_1.capitaliseFirstLetter(viewType) + 'Click');\n\n            if (typeof customAction === 'function') {\n              customAction(date, ev);\n            } else {\n              if (typeof customAction === 'string') {\n                viewType = customAction;\n              }\n\n              _this.zoomTo(date, viewType);\n            }\n          }); // called immediately, and upon option change\n\n          this.optionsManager.watch('settingTheme', ['?theme', '?themeSystem'], function (opts) {\n            var themeClass = ThemeRegistry_1.getThemeSystemClass(opts.themeSystem || opts.theme);\n            var theme = new themeClass(_this.optionsManager);\n            var widgetClass = theme.getClass('widget');\n            _this.theme = theme;\n\n            if (widgetClass) {\n              el.addClass(widgetClass);\n            }\n          }, function () {\n            var widgetClass = _this.theme.getClass('widget');\n\n            _this.theme = null;\n\n            if (widgetClass) {\n              el.removeClass(widgetClass);\n            }\n          });\n          this.optionsManager.watch('settingBusinessHourGenerator', ['?businessHours'], function (deps) {\n            _this.businessHourGenerator = new BusinessHourGenerator_1.default(deps.businessHours, _this);\n\n            if (_this.view) {\n              _this.view.set('businessHourGenerator', _this.businessHourGenerator);\n            }\n          }, function () {\n            _this.businessHourGenerator = null;\n          }); // called immediately, and upon option change.\n          // HACK: locale often affects isRTL, so we explicitly listen to that too.\n\n          this.optionsManager.watch('applyingDirClasses', ['?isRTL', '?locale'], function (opts) {\n            el.toggleClass('fc-ltr', !opts.isRTL);\n            el.toggleClass('fc-rtl', opts.isRTL);\n          });\n          this.contentEl = $(\"<div class='fc-view-container'/>\").prependTo(el);\n          this.initToolbars();\n          this.renderHeader();\n          this.renderFooter();\n          this.renderView(this.opt('defaultView'));\n\n          if (this.opt('handleWindowResize')) {\n            $(window).resize(this.windowResizeProxy = util_1.debounce( // prevents rapid calls\n            this.windowResize.bind(this), this.opt('windowResizeDelay')));\n          }\n        };\n\n        Calendar.prototype.destroy = function () {\n          if (this.view) {\n            this.clearView();\n          }\n\n          this.toolbarsManager.proxyCall('removeElement');\n          this.contentEl.remove();\n          this.el.removeClass('fc fc-ltr fc-rtl'); // removes theme-related root className\n\n          this.optionsManager.unwatch('settingTheme');\n          this.optionsManager.unwatch('settingBusinessHourGenerator');\n          this.el.off('.fc'); // unbind nav link handlers\n\n          if (this.windowResizeProxy) {\n            $(window).unbind('resize', this.windowResizeProxy);\n            this.windowResizeProxy = null;\n          }\n\n          GlobalEmitter_1.default.unneeded();\n        };\n\n        Calendar.prototype.elementVisible = function () {\n          return this.el.is(':visible');\n        }; // Render Queue\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.bindViewHandlers = function (view) {\n          var _this = this;\n\n          view.watch('titleForCalendar', ['title'], function (deps) {\n            if (view === _this.view) {\n              // hack\n              _this.setToolbarsTitle(deps.title);\n            }\n          });\n          view.watch('dateProfileForCalendar', ['dateProfile'], function (deps) {\n            if (view === _this.view) {\n              // hack\n              _this.currentDate = deps.dateProfile.date; // might have been constrained by view dates\n\n              _this.updateToolbarButtons(deps.dateProfile);\n            }\n          });\n        };\n\n        Calendar.prototype.unbindViewHandlers = function (view) {\n          view.unwatch('titleForCalendar');\n          view.unwatch('dateProfileForCalendar');\n        }; // View Rendering\n        // -----------------------------------------------------------------------------------\n        // Renders a view because of a date change, view-type change, or for the first time.\n        // If not given a viewType, keep the current view but render different dates.\n        // Accepts an optional scroll state to restore to.\n\n\n        Calendar.prototype.renderView = function (viewType) {\n          var oldView = this.view;\n          var newView;\n          this.freezeContentHeight();\n\n          if (oldView && viewType && oldView.type !== viewType) {\n            this.clearView();\n          } // if viewType changed, or the view was never created, create a fresh view\n\n\n          if (!this.view && viewType) {\n            newView = this.view = this.viewsByType[viewType] || (this.viewsByType[viewType] = this.instantiateView(viewType));\n            this.bindViewHandlers(newView);\n            newView.startBatchRender(); // so that setElement+setDate rendering are joined\n\n            newView.setElement($(\"<div class='fc-view fc-\" + viewType + \"-view' />\").appendTo(this.contentEl));\n            this.toolbarsManager.proxyCall('activateButton', viewType);\n          }\n\n          if (this.view) {\n            // prevent unnecessary change firing\n            if (this.view.get('businessHourGenerator') !== this.businessHourGenerator) {\n              this.view.set('businessHourGenerator', this.businessHourGenerator);\n            }\n\n            this.view.setDate(this.currentDate);\n\n            if (newView) {\n              newView.stopBatchRender();\n            }\n          }\n\n          this.thawContentHeight();\n        }; // Unrenders the current view and reflects this change in the Header.\n        // Unregsiters the `view`, but does not remove from viewByType hash.\n\n\n        Calendar.prototype.clearView = function () {\n          var currentView = this.view;\n          this.toolbarsManager.proxyCall('deactivateButton', currentView.type);\n          this.unbindViewHandlers(currentView);\n          currentView.removeElement();\n          currentView.unsetDate(); // so bindViewHandlers doesn't fire with old values next time\n\n          this.view = null;\n        }; // Destroys the view, including the view object. Then, re-instantiates it and renders it.\n        // Maintains the same scroll state.\n        // TODO: maintain any other user-manipulated state.\n\n\n        Calendar.prototype.reinitView = function () {\n          var oldView = this.view;\n          var scroll = oldView.queryScroll(); // wouldn't be so complicated if Calendar owned the scroll\n\n          this.freezeContentHeight();\n          this.clearView();\n          this.calcSize();\n          this.renderView(oldView.type); // needs the type to freshly render\n\n          this.view.applyScroll(scroll);\n          this.thawContentHeight();\n        }; // Resizing\n        // -----------------------------------------------------------------------------------\n\n\n        Calendar.prototype.getSuggestedViewHeight = function () {\n          if (this.suggestedViewHeight == null) {\n            this.calcSize();\n          }\n\n          return this.suggestedViewHeight;\n        };\n\n        Calendar.prototype.isHeightAuto = function () {\n          return this.opt('contentHeight') === 'auto' || this.opt('height') === 'auto';\n        };\n\n        Calendar.prototype.updateViewSize = function (isResize) {\n          if (isResize === void 0) {\n            isResize = false;\n          }\n\n          var view = this.view;\n          var scroll;\n\n          if (!this.ignoreUpdateViewSize && view) {\n            if (isResize) {\n              this.calcSize();\n              scroll = view.queryScroll();\n            }\n\n            this.ignoreUpdateViewSize++;\n            view.updateSize(this.getSuggestedViewHeight(), this.isHeightAuto(), isResize);\n            this.ignoreUpdateViewSize--;\n\n            if (isResize) {\n              view.applyScroll(scroll);\n            }\n\n            return true; // signal success\n          }\n        };\n\n        Calendar.prototype.calcSize = function () {\n          if (this.elementVisible()) {\n            this._calcSize();\n          }\n        };\n\n        Calendar.prototype._calcSize = function () {\n          var contentHeightInput = this.opt('contentHeight');\n          var heightInput = this.opt('height');\n\n          if (typeof contentHeightInput === 'number') {\n            // exists and not 'auto'\n            this.suggestedViewHeight = contentHeightInput;\n          } else if (typeof contentHeightInput === 'function') {\n            // exists and is a function\n            this.suggestedViewHeight = contentHeightInput();\n          } else if (typeof heightInput === 'number') {\n            // exists and not 'auto'\n            this.suggestedViewHeight = heightInput - this.queryToolbarsHeight();\n          } else if (typeof heightInput === 'function') {\n            // exists and is a function\n            this.suggestedViewHeight = heightInput() - this.queryToolbarsHeight();\n          } else if (heightInput === 'parent') {\n            // set to height of parent element\n            this.suggestedViewHeight = this.el.parent().height() - this.queryToolbarsHeight();\n          } else {\n            this.suggestedViewHeight = Math.round(this.contentEl.width() / Math.max(this.opt('aspectRatio'), .5));\n          }\n        };\n\n        Calendar.prototype.windowResize = function (ev) {\n          if ( // the purpose: so we don't process jqui \"resize\" events that have bubbled up\n          // cast to any because .target, which is Element, can't be compared to window for some reason.\n          ev.target === window && this.view && this.view.isDatesRendered) {\n            if (this.updateViewSize(true)) {\n              // isResize=true, returns true on success\n              this.publiclyTrigger('windowResize', [this.view]);\n            }\n          }\n        };\n        /* Height \"Freezing\"\r\n        -----------------------------------------------------------------------------*/\n\n\n        Calendar.prototype.freezeContentHeight = function () {\n          if (!this.freezeContentHeightDepth++) {\n            this.forceFreezeContentHeight();\n          }\n        };\n\n        Calendar.prototype.forceFreezeContentHeight = function () {\n          this.contentEl.css({\n            width: '100%',\n            height: this.contentEl.height(),\n            overflow: 'hidden'\n          });\n        };\n\n        Calendar.prototype.thawContentHeight = function () {\n          this.freezeContentHeightDepth--; // always bring back to natural height\n\n          this.contentEl.css({\n            width: '',\n            height: '',\n            overflow: ''\n          }); // but if there are future thaws, re-freeze\n\n          if (this.freezeContentHeightDepth) {\n            this.forceFreezeContentHeight();\n          }\n        }; // Toolbar\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.initToolbars = function () {\n          this.header = new Toolbar_1.default(this, this.computeHeaderOptions());\n          this.footer = new Toolbar_1.default(this, this.computeFooterOptions());\n          this.toolbarsManager = new Iterator_1.default([this.header, this.footer]);\n        };\n\n        Calendar.prototype.computeHeaderOptions = function () {\n          return {\n            extraClasses: 'fc-header-toolbar',\n            layout: this.opt('header')\n          };\n        };\n\n        Calendar.prototype.computeFooterOptions = function () {\n          return {\n            extraClasses: 'fc-footer-toolbar',\n            layout: this.opt('footer')\n          };\n        }; // can be called repeatedly and Header will rerender\n\n\n        Calendar.prototype.renderHeader = function () {\n          var header = this.header;\n          header.setToolbarOptions(this.computeHeaderOptions());\n          header.render();\n\n          if (header.el) {\n            this.el.prepend(header.el);\n          }\n        }; // can be called repeatedly and Footer will rerender\n\n\n        Calendar.prototype.renderFooter = function () {\n          var footer = this.footer;\n          footer.setToolbarOptions(this.computeFooterOptions());\n          footer.render();\n\n          if (footer.el) {\n            this.el.append(footer.el);\n          }\n        };\n\n        Calendar.prototype.setToolbarsTitle = function (title) {\n          this.toolbarsManager.proxyCall('updateTitle', title);\n        };\n\n        Calendar.prototype.updateToolbarButtons = function (dateProfile) {\n          var now = this.getNow();\n          var view = this.view;\n          var todayInfo = view.dateProfileGenerator.build(now);\n          var prevInfo = view.dateProfileGenerator.buildPrev(view.get('dateProfile'));\n          var nextInfo = view.dateProfileGenerator.buildNext(view.get('dateProfile'));\n          this.toolbarsManager.proxyCall(todayInfo.isValid && !dateProfile.currentUnzonedRange.containsDate(now) ? 'enableButton' : 'disableButton', 'today');\n          this.toolbarsManager.proxyCall(prevInfo.isValid ? 'enableButton' : 'disableButton', 'prev');\n          this.toolbarsManager.proxyCall(nextInfo.isValid ? 'enableButton' : 'disableButton', 'next');\n        };\n\n        Calendar.prototype.queryToolbarsHeight = function () {\n          return this.toolbarsManager.items.reduce(function (accumulator, toolbar) {\n            var toolbarHeight = toolbar.el ? toolbar.el.outerHeight(true) : 0; // includes margin\n\n            return accumulator + toolbarHeight;\n          }, 0);\n        }; // Selection\n        // -----------------------------------------------------------------------------------------------------------------\n        // this public method receives start/end dates in any format, with any timezone\n\n\n        Calendar.prototype.select = function (zonedStartInput, zonedEndInput) {\n          this.view.select(this.buildSelectFootprint.apply(this, arguments));\n        };\n\n        Calendar.prototype.unselect = function () {\n          if (this.view) {\n            this.view.unselect();\n          }\n        }; // Given arguments to the select method in the API, returns a span (unzoned start/end and other info)\n\n\n        Calendar.prototype.buildSelectFootprint = function (zonedStartInput, zonedEndInput) {\n          var start = this.moment(zonedStartInput).stripZone();\n          var end;\n\n          if (zonedEndInput) {\n            end = this.moment(zonedEndInput).stripZone();\n          } else if (start.hasTime()) {\n            end = start.clone().add(this.defaultTimedEventDuration);\n          } else {\n            end = start.clone().add(this.defaultAllDayEventDuration);\n          }\n\n          return new ComponentFootprint_1.default(new UnzonedRange_1.default(start, end), !start.hasTime());\n        }; // Date Utils\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.initMomentInternals = function () {\n          var _this = this;\n\n          this.defaultAllDayEventDuration = moment.duration(this.opt('defaultAllDayEventDuration'));\n          this.defaultTimedEventDuration = moment.duration(this.opt('defaultTimedEventDuration')); // Called immediately, and when any of the options change.\n          // Happens before any internal objects rebuild or rerender, because this is very core.\n\n          this.optionsManager.watch('buildingMomentLocale', ['?locale', '?monthNames', '?monthNamesShort', '?dayNames', '?dayNamesShort', '?firstDay', '?weekNumberCalculation'], function (opts) {\n            var weekNumberCalculation = opts.weekNumberCalculation;\n            var firstDay = opts.firstDay;\n\n            var _week; // normalize\n\n\n            if (weekNumberCalculation === 'iso') {\n              weekNumberCalculation = 'ISO'; // normalize\n            }\n\n            var localeData = Object.create( // make a cheap copy\n            locale_1.getMomentLocaleData(opts.locale) // will fall back to en\n            );\n\n            if (opts.monthNames) {\n              localeData._months = opts.monthNames;\n            }\n\n            if (opts.monthNamesShort) {\n              localeData._monthsShort = opts.monthNamesShort;\n            }\n\n            if (opts.dayNames) {\n              localeData._weekdays = opts.dayNames;\n            }\n\n            if (opts.dayNamesShort) {\n              localeData._weekdaysShort = opts.dayNamesShort;\n            }\n\n            if (firstDay == null && weekNumberCalculation === 'ISO') {\n              firstDay = 1;\n            }\n\n            if (firstDay != null) {\n              _week = Object.create(localeData._week); // _week: { dow: # }\n\n              _week.dow = firstDay;\n              localeData._week = _week;\n            }\n\n            if ( // whitelist certain kinds of input\n            weekNumberCalculation === 'ISO' || weekNumberCalculation === 'local' || typeof weekNumberCalculation === 'function') {\n              localeData._fullCalendar_weekCalc = weekNumberCalculation; // moment-ext will know what to do with it\n            }\n\n            _this.localeData = localeData; // If the internal current date object already exists, move to new locale.\n            // We do NOT need to do this technique for event dates, because this happens when converting to \"segments\".\n\n            if (_this.currentDate) {\n              _this.localizeMoment(_this.currentDate); // sets to localeData\n\n            }\n          });\n        }; // Builds a moment using the settings of the current calendar: timezone and locale.\n        // Accepts anything the vanilla moment() constructor accepts.\n\n\n        Calendar.prototype.moment = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          var mom;\n\n          if (this.opt('timezone') === 'local') {\n            mom = moment_ext_1.default.apply(null, args); // Force the moment to be local, because momentExt doesn't guarantee it.\n\n            if (mom.hasTime()) {\n              // don't give ambiguously-timed moments a local zone\n              mom.local();\n            }\n          } else if (this.opt('timezone') === 'UTC') {\n            mom = moment_ext_1.default.utc.apply(null, args); // process as UTC\n          } else {\n            mom = moment_ext_1.default.parseZone.apply(null, args); // let the input decide the zone\n          }\n\n          this.localizeMoment(mom); // TODO\n\n          return mom;\n        };\n\n        Calendar.prototype.msToMoment = function (ms, forceAllDay) {\n          var mom = moment_ext_1.default.utc(ms); // TODO: optimize by using Date.UTC\n\n          if (forceAllDay) {\n            mom.stripTime();\n          } else {\n            mom = this.applyTimezone(mom); // may or may not apply locale\n          }\n\n          this.localizeMoment(mom);\n          return mom;\n        };\n\n        Calendar.prototype.msToUtcMoment = function (ms, forceAllDay) {\n          var mom = moment_ext_1.default.utc(ms); // TODO: optimize by using Date.UTC\n\n          if (forceAllDay) {\n            mom.stripTime();\n          }\n\n          this.localizeMoment(mom);\n          return mom;\n        }; // Updates the given moment's locale settings to the current calendar locale settings.\n\n\n        Calendar.prototype.localizeMoment = function (mom) {\n          mom._locale = this.localeData;\n        }; // Returns a boolean about whether or not the calendar knows how to calculate\n        // the timezone offset of arbitrary dates in the current timezone.\n\n\n        Calendar.prototype.getIsAmbigTimezone = function () {\n          return this.opt('timezone') !== 'local' && this.opt('timezone') !== 'UTC';\n        }; // Returns a copy of the given date in the current timezone. Has no effect on dates without times.\n\n\n        Calendar.prototype.applyTimezone = function (date) {\n          if (!date.hasTime()) {\n            return date.clone();\n          }\n\n          var zonedDate = this.moment(date.toArray());\n          var timeAdjust = date.time().asMilliseconds() - zonedDate.time().asMilliseconds();\n          var adjustedZonedDate; // Safari sometimes has problems with this coersion when near DST. Adjust if necessary. (bug #2396)\n\n          if (timeAdjust) {\n            // is the time result different than expected?\n            adjustedZonedDate = zonedDate.clone().add(timeAdjust); // add milliseconds\n\n            if (date.time().asMilliseconds() - adjustedZonedDate.time().asMilliseconds() === 0) {\n              // does it match perfectly now?\n              zonedDate = adjustedZonedDate;\n            }\n          }\n\n          return zonedDate;\n        };\n        /*\r\n        Assumes the footprint is non-open-ended.\r\n        */\n\n\n        Calendar.prototype.footprintToDateProfile = function (componentFootprint, ignoreEnd) {\n          if (ignoreEnd === void 0) {\n            ignoreEnd = false;\n          }\n\n          var start = moment_ext_1.default.utc(componentFootprint.unzonedRange.startMs);\n          var end;\n\n          if (!ignoreEnd) {\n            end = moment_ext_1.default.utc(componentFootprint.unzonedRange.endMs);\n          }\n\n          if (componentFootprint.isAllDay) {\n            start.stripTime();\n\n            if (end) {\n              end.stripTime();\n            }\n          } else {\n            start = this.applyTimezone(start);\n\n            if (end) {\n              end = this.applyTimezone(end);\n            }\n          }\n\n          this.localizeMoment(start);\n\n          if (end) {\n            this.localizeMoment(end);\n          }\n\n          return new EventDateProfile_1.default(start, end, this);\n        }; // Returns a moment for the current date, as defined by the client's computer or from the `now` option.\n        // Will return an moment with an ambiguous timezone.\n\n\n        Calendar.prototype.getNow = function () {\n          var now = this.opt('now');\n\n          if (typeof now === 'function') {\n            now = now();\n          }\n\n          return this.moment(now).stripZone();\n        }; // Produces a human-readable string for the given duration.\n        // Side-effect: changes the locale of the given duration.\n\n\n        Calendar.prototype.humanizeDuration = function (duration) {\n          return duration.locale(this.opt('locale')).humanize();\n        }; // will return `null` if invalid range\n\n\n        Calendar.prototype.parseUnzonedRange = function (rangeInput) {\n          var start = null;\n          var end = null;\n\n          if (rangeInput.start) {\n            start = this.moment(rangeInput.start).stripZone();\n          }\n\n          if (rangeInput.end) {\n            end = this.moment(rangeInput.end).stripZone();\n          }\n\n          if (!start && !end) {\n            return null;\n          }\n\n          if (start && end && end.isBefore(start)) {\n            return null;\n          }\n\n          return new UnzonedRange_1.default(start, end);\n        }; // Event-Date Utilities\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.initEventManager = function () {\n          var _this = this;\n\n          var eventManager = new EventManager_1.default(this);\n          var rawSources = this.opt('eventSources') || [];\n          var singleRawSource = this.opt('events');\n          this.eventManager = eventManager;\n\n          if (singleRawSource) {\n            rawSources.unshift(singleRawSource);\n          }\n\n          eventManager.on('release', function (eventsPayload) {\n            _this.trigger('eventsReset', eventsPayload);\n          });\n          eventManager.freeze();\n          rawSources.forEach(function (rawSource) {\n            var source = EventSourceParser_1.default.parse(rawSource, _this);\n\n            if (source) {\n              eventManager.addSource(source);\n            }\n          });\n          eventManager.thaw();\n        };\n\n        Calendar.prototype.requestEvents = function (start, end) {\n          return this.eventManager.requestEvents(start, end, this.opt('timezone'), !this.opt('lazyFetching'));\n        }; // Get an event's normalized end date. If not present, calculate it from the defaults.\n\n\n        Calendar.prototype.getEventEnd = function (event) {\n          if (event.end) {\n            return event.end.clone();\n          } else {\n            return this.getDefaultEventEnd(event.allDay, event.start);\n          }\n        }; // Given an event's allDay status and start date, return what its fallback end date should be.\n        // TODO: rename to computeDefaultEventEnd\n\n\n        Calendar.prototype.getDefaultEventEnd = function (allDay, zonedStart) {\n          var end = zonedStart.clone();\n\n          if (allDay) {\n            end.stripTime().add(this.defaultAllDayEventDuration);\n          } else {\n            end.add(this.defaultTimedEventDuration);\n          }\n\n          if (this.getIsAmbigTimezone()) {\n            end.stripZone(); // we don't know what the tzo should be\n          }\n\n          return end;\n        }; // Public Events API\n        // -----------------------------------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.rerenderEvents = function () {\n          this.view.flash('displayingEvents');\n        };\n\n        Calendar.prototype.refetchEvents = function () {\n          this.eventManager.refetchAllSources();\n        };\n\n        Calendar.prototype.renderEvents = function (eventInputs, isSticky) {\n          this.eventManager.freeze();\n\n          for (var i = 0; i < eventInputs.length; i++) {\n            this.renderEvent(eventInputs[i], isSticky);\n          }\n\n          this.eventManager.thaw();\n        };\n\n        Calendar.prototype.renderEvent = function (eventInput, isSticky) {\n          if (isSticky === void 0) {\n            isSticky = false;\n          }\n\n          var eventManager = this.eventManager;\n          var eventDef = EventDefParser_1.default.parse(eventInput, eventInput.source || eventManager.stickySource);\n\n          if (eventDef) {\n            eventManager.addEventDef(eventDef, isSticky);\n          }\n        }; // legacyQuery operates on legacy event instance objects\n\n\n        Calendar.prototype.removeEvents = function (legacyQuery) {\n          var eventManager = this.eventManager;\n          var legacyInstances = [];\n          var idMap = {};\n          var eventDef;\n          var i;\n\n          if (legacyQuery == null) {\n            // shortcut for removing all\n            eventManager.removeAllEventDefs(); // persist=true\n          } else {\n            eventManager.getEventInstances().forEach(function (eventInstance) {\n              legacyInstances.push(eventInstance.toLegacy());\n            });\n            legacyInstances = filterLegacyEventInstances(legacyInstances, legacyQuery); // compute unique IDs\n\n            for (i = 0; i < legacyInstances.length; i++) {\n              eventDef = this.eventManager.getEventDefByUid(legacyInstances[i]._id);\n              idMap[eventDef.id] = true;\n            }\n\n            eventManager.freeze();\n\n            for (i in idMap) {\n              // reuse `i` as an \"id\"\n              eventManager.removeEventDefsById(i); // persist=true\n            }\n\n            eventManager.thaw();\n          }\n        }; // legacyQuery operates on legacy event instance objects\n\n\n        Calendar.prototype.clientEvents = function (legacyQuery) {\n          var legacyEventInstances = [];\n          this.eventManager.getEventInstances().forEach(function (eventInstance) {\n            legacyEventInstances.push(eventInstance.toLegacy());\n          });\n          return filterLegacyEventInstances(legacyEventInstances, legacyQuery);\n        };\n\n        Calendar.prototype.updateEvents = function (eventPropsArray) {\n          this.eventManager.freeze();\n\n          for (var i = 0; i < eventPropsArray.length; i++) {\n            this.updateEvent(eventPropsArray[i]);\n          }\n\n          this.eventManager.thaw();\n        };\n\n        Calendar.prototype.updateEvent = function (eventProps) {\n          var eventDef = this.eventManager.getEventDefByUid(eventProps._id);\n          var eventInstance;\n          var eventDefMutation;\n\n          if (eventDef instanceof SingleEventDef_1.default) {\n            eventInstance = eventDef.buildInstance();\n            eventDefMutation = EventDefMutation_1.default.createFromRawProps(eventInstance, eventProps, // raw props\n            null // largeUnit -- who uses it?\n            );\n            this.eventManager.mutateEventsWithId(eventDef.id, eventDefMutation); // will release\n          }\n        }; // Public Event Sources API\n        // ------------------------------------------------------------------------------------\n\n\n        Calendar.prototype.getEventSources = function () {\n          return this.eventManager.otherSources.slice(); // clone\n        };\n\n        Calendar.prototype.getEventSourceById = function (id) {\n          return this.eventManager.getSourceById(EventSource_1.default.normalizeId(id));\n        };\n\n        Calendar.prototype.addEventSource = function (sourceInput) {\n          var source = EventSourceParser_1.default.parse(sourceInput, this);\n\n          if (source) {\n            this.eventManager.addSource(source);\n          }\n        };\n\n        Calendar.prototype.removeEventSources = function (sourceMultiQuery) {\n          var eventManager = this.eventManager;\n          var sources;\n          var i;\n\n          if (sourceMultiQuery == null) {\n            this.eventManager.removeAllSources();\n          } else {\n            sources = eventManager.multiQuerySources(sourceMultiQuery);\n            eventManager.freeze();\n\n            for (i = 0; i < sources.length; i++) {\n              eventManager.removeSource(sources[i]);\n            }\n\n            eventManager.thaw();\n          }\n        };\n\n        Calendar.prototype.removeEventSource = function (sourceQuery) {\n          var eventManager = this.eventManager;\n          var sources = eventManager.querySources(sourceQuery);\n          var i;\n          eventManager.freeze();\n\n          for (i = 0; i < sources.length; i++) {\n            eventManager.removeSource(sources[i]);\n          }\n\n          eventManager.thaw();\n        };\n\n        Calendar.prototype.refetchEventSources = function (sourceMultiQuery) {\n          var eventManager = this.eventManager;\n          var sources = eventManager.multiQuerySources(sourceMultiQuery);\n          var i;\n          eventManager.freeze();\n\n          for (i = 0; i < sources.length; i++) {\n            eventManager.refetchSource(sources[i]);\n          }\n\n          eventManager.thaw();\n        }; // not for internal use. use options module directly instead.\n\n\n        Calendar.defaults = options_1.globalDefaults;\n        Calendar.englishDefaults = options_1.englishDefaults;\n        Calendar.rtlDefaults = options_1.rtlDefaults;\n        return Calendar;\n      }();\n\n      exports.default = Calendar;\n      EmitterMixin_1.default.mixInto(Calendar);\n      ListenerMixin_1.default.mixInto(Calendar);\n\n      function filterLegacyEventInstances(legacyEventInstances, legacyQuery) {\n        if (legacyQuery == null) {\n          return legacyEventInstances;\n        } else if ($.isFunction(legacyQuery)) {\n          return legacyEventInstances.filter(legacyQuery);\n        } else {\n          // an event ID\n          legacyQuery += ''; // normalize to string\n\n          return legacyEventInstances.filter(function (legacyEventInstance) {\n            // soft comparison because id not be normalized to string\n            // tslint:disable-next-line\n            return legacyEventInstance.id == legacyQuery || legacyEventInstance._id === legacyQuery; // can specify internal id, but must exactly match\n          });\n        }\n      }\n      /***/\n\n    },\n    /* 233 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var exportHooks = __webpack_require__(18);\n\n      var util_1 = __webpack_require__(4);\n\n      var moment_ext_1 = __webpack_require__(11);\n\n      var ListenerMixin_1 = __webpack_require__(7);\n\n      var HitDragListener_1 = __webpack_require__(17);\n\n      var SingleEventDef_1 = __webpack_require__(9);\n\n      var EventInstanceGroup_1 = __webpack_require__(20);\n\n      var EventSource_1 = __webpack_require__(6);\n\n      var Interaction_1 = __webpack_require__(14);\n\n      var ExternalDropping =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ExternalDropping, _super);\n\n        function ExternalDropping() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.isDragging = false; // jqui-dragging an external element? boolean\n\n          return _this;\n        }\n        /*\r\n        component impements:\r\n          - eventRangesToEventFootprints\r\n          - isEventInstanceGroupAllowed\r\n          - isExternalInstanceGroupAllowed\r\n          - renderDrag\r\n          - unrenderDrag\r\n        */\n\n\n        ExternalDropping.prototype.end = function () {\n          if (this.dragListener) {\n            this.dragListener.endInteraction();\n          }\n        };\n\n        ExternalDropping.prototype.bindToDocument = function () {\n          this.listenTo($(document), {\n            dragstart: this.handleDragStart,\n            sortstart: this.handleDragStart // jqui\n\n          });\n        };\n\n        ExternalDropping.prototype.unbindFromDocument = function () {\n          this.stopListeningTo($(document));\n        }; // Called when a jQuery UI drag is initiated anywhere in the DOM\n\n\n        ExternalDropping.prototype.handleDragStart = function (ev, ui) {\n          var el;\n          var accept;\n\n          if (this.opt('droppable')) {\n            // only listen if this setting is on\n            el = $((ui ? ui.item : null) || ev.target); // Test that the dragged element passes the dropAccept selector or filter function.\n            // FYI, the default is \"*\" (matches all)\n\n            accept = this.opt('dropAccept');\n\n            if ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {\n              if (!this.isDragging) {\n                // prevent double-listening if fired twice\n                this.listenToExternalDrag(el, ev, ui);\n              }\n            }\n          }\n        }; // Called when a jQuery UI drag starts and it needs to be monitored for dropping\n\n\n        ExternalDropping.prototype.listenToExternalDrag = function (el, ev, ui) {\n          var _this = this;\n\n          var component = this.component;\n          var view = this.view;\n          var meta = getDraggedElMeta(el); // extra data about event drop, including possible event to create\n\n          var singleEventDef; // a null value signals an unsuccessful drag\n          // listener that tracks mouse movement over date-associated pixel regions\n\n          var dragListener = this.dragListener = new HitDragListener_1.default(component, {\n            interactionStart: function () {\n              _this.isDragging = true;\n            },\n            hitOver: function (hit) {\n              var isAllowed = true;\n              var hitFootprint = hit.component.getSafeHitFootprint(hit); // hit might not belong to this grid\n\n              var mutatedEventInstanceGroup;\n\n              if (hitFootprint) {\n                singleEventDef = _this.computeExternalDrop(hitFootprint, meta);\n\n                if (singleEventDef) {\n                  mutatedEventInstanceGroup = new EventInstanceGroup_1.default(singleEventDef.buildInstances());\n                  isAllowed = meta.eventProps ? // isEvent?\n                  component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup) : component.isExternalInstanceGroupAllowed(mutatedEventInstanceGroup);\n                } else {\n                  isAllowed = false;\n                }\n              } else {\n                isAllowed = false;\n              }\n\n              if (!isAllowed) {\n                singleEventDef = null;\n                util_1.disableCursor();\n              }\n\n              if (singleEventDef) {\n                component.renderDrag( // called without a seg parameter\n                component.eventRangesToEventFootprints(mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, view.calendar)));\n              }\n            },\n            hitOut: function () {\n              singleEventDef = null; // signal unsuccessful\n            },\n            hitDone: function () {\n              util_1.enableCursor();\n              component.unrenderDrag();\n            },\n            interactionEnd: function (ev) {\n              if (singleEventDef) {\n                // element was dropped on a valid hit\n                view.reportExternalDrop(singleEventDef, Boolean(meta.eventProps), // isEvent\n                Boolean(meta.stick), // isSticky\n                el, ev, ui);\n              }\n\n              _this.isDragging = false;\n              _this.dragListener = null;\n            }\n          });\n          dragListener.startDrag(ev); // start listening immediately\n        }; // Given a hit to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),\n        // returns the zoned start/end dates for the event that would result from the hypothetical drop. end might be null.\n        // Returning a null value signals an invalid drop hit.\n        // DOES NOT consider overlap/constraint.\n        // Assumes both footprints are non-open-ended.\n\n\n        ExternalDropping.prototype.computeExternalDrop = function (componentFootprint, meta) {\n          var calendar = this.view.calendar;\n          var start = moment_ext_1.default.utc(componentFootprint.unzonedRange.startMs).stripZone();\n          var end;\n          var eventDef;\n\n          if (componentFootprint.isAllDay) {\n            // if dropped on an all-day span, and element's metadata specified a time, set it\n            if (meta.startTime) {\n              start.time(meta.startTime);\n            } else {\n              start.stripTime();\n            }\n          }\n\n          if (meta.duration) {\n            end = start.clone().add(meta.duration);\n          }\n\n          start = calendar.applyTimezone(start);\n\n          if (end) {\n            end = calendar.applyTimezone(end);\n          }\n\n          eventDef = SingleEventDef_1.default.parse($.extend({}, meta.eventProps, {\n            start: start,\n            end: end\n          }), new EventSource_1.default(calendar));\n          return eventDef;\n        };\n\n        return ExternalDropping;\n      }(Interaction_1.default);\n\n      exports.default = ExternalDropping;\n      ListenerMixin_1.default.mixInto(ExternalDropping);\n      /* External-Dragging-Element Data\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // Require all HTML5 data-* attributes used by FullCalendar to have this prefix.\n      // A value of '' will query attributes like data-event. A value of 'fc' will query attributes like data-fc-event.\n\n      exportHooks.dataAttrPrefix = ''; // Given a jQuery element that might represent a dragged FullCalendar event, returns an intermediate data structure\n      // to be used for Event Object creation.\n      // A defined `.eventProps`, even when empty, indicates that an event should be created.\n\n      function getDraggedElMeta(el) {\n        var prefix = exportHooks.dataAttrPrefix;\n        var eventProps; // properties for creating the event, not related to date/time\n\n        var startTime; // a Duration\n\n        var duration;\n        var stick;\n\n        if (prefix) {\n          prefix += '-';\n        }\n\n        eventProps = el.data(prefix + 'event') || null;\n\n        if (eventProps) {\n          if (typeof eventProps === 'object') {\n            eventProps = $.extend({}, eventProps); // make a copy\n          } else {\n            // something like 1 or true. still signal event creation\n            eventProps = {};\n          } // pluck special-cased date/time properties\n\n\n          startTime = eventProps.start;\n\n          if (startTime == null) {\n            startTime = eventProps.time;\n          } // accept 'time' as well\n\n\n          duration = eventProps.duration;\n          stick = eventProps.stick;\n          delete eventProps.start;\n          delete eventProps.time;\n          delete eventProps.duration;\n          delete eventProps.stick;\n        } // fallback to standalone attribute values for each of the date/time properties\n\n\n        if (startTime == null) {\n          startTime = el.data(prefix + 'start');\n        }\n\n        if (startTime == null) {\n          startTime = el.data(prefix + 'time');\n        } // accept 'time' as well\n\n\n        if (duration == null) {\n          duration = el.data(prefix + 'duration');\n        }\n\n        if (stick == null) {\n          stick = el.data(prefix + 'stick');\n        } // massage into correct data types\n\n\n        startTime = startTime != null ? moment.duration(startTime) : null;\n        duration = duration != null ? moment.duration(duration) : null;\n        stick = Boolean(stick);\n        return {\n          eventProps: eventProps,\n          startTime: startTime,\n          duration: duration,\n          stick: stick\n        };\n      }\n      /***/\n\n    },\n    /* 234 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventDefMutation_1 = __webpack_require__(39);\n\n      var EventDefDateMutation_1 = __webpack_require__(40);\n\n      var HitDragListener_1 = __webpack_require__(17);\n\n      var Interaction_1 = __webpack_require__(14);\n\n      var EventResizing =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(EventResizing, _super);\n        /*\r\n        component impements:\r\n          - bindSegHandlerToEl\r\n          - publiclyTrigger\r\n          - diffDates\r\n          - eventRangesToEventFootprints\r\n          - isEventInstanceGroupAllowed\r\n          - getSafeHitFootprint\r\n        */\n\n\n        function EventResizing(component, eventPointing) {\n          var _this = _super.call(this, component) || this;\n\n          _this.isResizing = false;\n          _this.eventPointing = eventPointing;\n          return _this;\n        }\n\n        EventResizing.prototype.end = function () {\n          if (this.dragListener) {\n            this.dragListener.endInteraction();\n          }\n        };\n\n        EventResizing.prototype.bindToEl = function (el) {\n          var component = this.component;\n          component.bindSegHandlerToEl(el, 'mousedown', this.handleMouseDown.bind(this));\n          component.bindSegHandlerToEl(el, 'touchstart', this.handleTouchStart.bind(this));\n        };\n\n        EventResizing.prototype.handleMouseDown = function (seg, ev) {\n          if (this.component.canStartResize(seg, ev)) {\n            this.buildDragListener(seg, $(ev.target).is('.fc-start-resizer')).startInteraction(ev, {\n              distance: 5\n            });\n          }\n        };\n\n        EventResizing.prototype.handleTouchStart = function (seg, ev) {\n          if (this.component.canStartResize(seg, ev)) {\n            this.buildDragListener(seg, $(ev.target).is('.fc-start-resizer')).startInteraction(ev);\n          }\n        }; // Creates a listener that tracks the user as they resize an event segment.\n        // Generic enough to work with any type of Grid.\n\n\n        EventResizing.prototype.buildDragListener = function (seg, isStart) {\n          var _this = this;\n\n          var component = this.component;\n          var view = this.view;\n          var calendar = view.calendar;\n          var eventManager = calendar.eventManager;\n          var el = seg.el;\n          var eventDef = seg.footprint.eventDef;\n          var eventInstance = seg.footprint.eventInstance;\n          var isDragging;\n          var resizeMutation; // zoned event date properties. falsy if invalid resize\n          // Tracks mouse movement over the *grid's* coordinate map\n\n          var dragListener = this.dragListener = new HitDragListener_1.default(component, {\n            scroll: this.opt('dragScroll'),\n            subjectEl: el,\n            interactionStart: function () {\n              isDragging = false;\n            },\n            dragStart: function (ev) {\n              isDragging = true; // ensure a mouseout on the manipulated event has been reported\n\n              _this.eventPointing.handleMouseout(seg, ev);\n\n              _this.segResizeStart(seg, ev);\n            },\n            hitOver: function (hit, isOrig, origHit) {\n              var isAllowed = true;\n              var origHitFootprint = component.getSafeHitFootprint(origHit);\n              var hitFootprint = component.getSafeHitFootprint(hit);\n              var mutatedEventInstanceGroup;\n\n              if (origHitFootprint && hitFootprint) {\n                resizeMutation = isStart ? _this.computeEventStartResizeMutation(origHitFootprint, hitFootprint, seg.footprint) : _this.computeEventEndResizeMutation(origHitFootprint, hitFootprint, seg.footprint);\n\n                if (resizeMutation) {\n                  mutatedEventInstanceGroup = eventManager.buildMutatedEventInstanceGroup(eventDef.id, resizeMutation);\n                  isAllowed = component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup);\n                } else {\n                  isAllowed = false;\n                }\n              } else {\n                isAllowed = false;\n              }\n\n              if (!isAllowed) {\n                resizeMutation = null;\n                util_1.disableCursor();\n              } else if (resizeMutation.isEmpty()) {\n                // no change. (FYI, event dates might have zones)\n                resizeMutation = null;\n              }\n\n              if (resizeMutation) {\n                view.hideEventsWithId(seg.footprint.eventDef.id);\n                view.renderEventResize(component.eventRangesToEventFootprints(mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, calendar)), seg);\n              }\n            },\n            hitOut: function () {\n              resizeMutation = null;\n            },\n            hitDone: function () {\n              view.unrenderEventResize(seg);\n              view.showEventsWithId(seg.footprint.eventDef.id);\n              util_1.enableCursor();\n            },\n            interactionEnd: function (ev) {\n              if (isDragging) {\n                _this.segResizeStop(seg, ev);\n              }\n\n              if (resizeMutation) {\n                // valid date to resize to?\n                // no need to re-show original, will rerender all anyways. esp important if eventRenderWait\n                view.reportEventResize(eventInstance, resizeMutation, el, ev);\n              }\n\n              _this.dragListener = null;\n            }\n          });\n          return dragListener;\n        }; // Called before event segment resizing starts\n\n\n        EventResizing.prototype.segResizeStart = function (seg, ev) {\n          this.isResizing = true;\n          this.component.publiclyTrigger('eventResizeStart', {\n            context: seg.el[0],\n            args: [seg.footprint.getEventLegacy(), ev, {}, this.view]\n          });\n        }; // Called after event segment resizing stops\n\n\n        EventResizing.prototype.segResizeStop = function (seg, ev) {\n          this.isResizing = false;\n          this.component.publiclyTrigger('eventResizeStop', {\n            context: seg.el[0],\n            args: [seg.footprint.getEventLegacy(), ev, {}, this.view]\n          });\n        }; // Returns new date-information for an event segment being resized from its start\n\n\n        EventResizing.prototype.computeEventStartResizeMutation = function (startFootprint, endFootprint, origEventFootprint) {\n          var origRange = origEventFootprint.componentFootprint.unzonedRange;\n          var startDelta = this.component.diffDates(endFootprint.unzonedRange.getStart(), startFootprint.unzonedRange.getStart());\n          var dateMutation;\n          var eventDefMutation;\n\n          if (origRange.getStart().add(startDelta) < origRange.getEnd()) {\n            dateMutation = new EventDefDateMutation_1.default();\n            dateMutation.setStartDelta(startDelta);\n            eventDefMutation = new EventDefMutation_1.default();\n            eventDefMutation.setDateMutation(dateMutation);\n            return eventDefMutation;\n          }\n\n          return false;\n        }; // Returns new date-information for an event segment being resized from its end\n\n\n        EventResizing.prototype.computeEventEndResizeMutation = function (startFootprint, endFootprint, origEventFootprint) {\n          var origRange = origEventFootprint.componentFootprint.unzonedRange;\n          var endDelta = this.component.diffDates(endFootprint.unzonedRange.getEnd(), startFootprint.unzonedRange.getEnd());\n          var dateMutation;\n          var eventDefMutation;\n\n          if (origRange.getEnd().add(endDelta) > origRange.getStart()) {\n            dateMutation = new EventDefDateMutation_1.default();\n            dateMutation.setEndDelta(endDelta);\n            eventDefMutation = new EventDefMutation_1.default();\n            eventDefMutation.setDateMutation(dateMutation);\n            return eventDefMutation;\n          }\n\n          return false;\n        };\n\n        return EventResizing;\n      }(Interaction_1.default);\n\n      exports.default = EventResizing;\n      /***/\n    },\n    /* 235 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventDefMutation_1 = __webpack_require__(39);\n\n      var EventDefDateMutation_1 = __webpack_require__(40);\n\n      var DragListener_1 = __webpack_require__(59);\n\n      var HitDragListener_1 = __webpack_require__(17);\n\n      var MouseFollower_1 = __webpack_require__(226);\n\n      var Interaction_1 = __webpack_require__(14);\n\n      var EventDragging =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(EventDragging, _super);\n        /*\r\n        component implements:\r\n          - bindSegHandlerToEl\r\n          - publiclyTrigger\r\n          - diffDates\r\n          - eventRangesToEventFootprints\r\n          - isEventInstanceGroupAllowed\r\n        */\n\n\n        function EventDragging(component, eventPointing) {\n          var _this = _super.call(this, component) || this;\n\n          _this.isDragging = false;\n          _this.eventPointing = eventPointing;\n          return _this;\n        }\n\n        EventDragging.prototype.end = function () {\n          if (this.dragListener) {\n            this.dragListener.endInteraction();\n          }\n        };\n\n        EventDragging.prototype.getSelectionDelay = function () {\n          var delay = this.opt('eventLongPressDelay');\n\n          if (delay == null) {\n            delay = this.opt('longPressDelay'); // fallback\n          }\n\n          return delay;\n        };\n\n        EventDragging.prototype.bindToEl = function (el) {\n          var component = this.component;\n          component.bindSegHandlerToEl(el, 'mousedown', this.handleMousedown.bind(this));\n          component.bindSegHandlerToEl(el, 'touchstart', this.handleTouchStart.bind(this));\n        };\n\n        EventDragging.prototype.handleMousedown = function (seg, ev) {\n          if (!this.component.shouldIgnoreMouse() && this.component.canStartDrag(seg, ev)) {\n            this.buildDragListener(seg).startInteraction(ev, {\n              distance: 5\n            });\n          }\n        };\n\n        EventDragging.prototype.handleTouchStart = function (seg, ev) {\n          var component = this.component;\n          var settings = {\n            delay: this.view.isEventDefSelected(seg.footprint.eventDef) ? // already selected?\n            0 : this.getSelectionDelay()\n          };\n\n          if (component.canStartDrag(seg, ev)) {\n            this.buildDragListener(seg).startInteraction(ev, settings);\n          } else if (component.canStartSelection(seg, ev)) {\n            this.buildSelectListener(seg).startInteraction(ev, settings);\n          }\n        }; // seg isn't draggable, but let's use a generic DragListener\n        // simply for the delay, so it can be selected.\n        // Has side effect of setting/unsetting `dragListener`\n\n\n        EventDragging.prototype.buildSelectListener = function (seg) {\n          var _this = this;\n\n          var view = this.view;\n          var eventDef = seg.footprint.eventDef;\n          var eventInstance = seg.footprint.eventInstance; // null for inverse-background events\n\n          if (this.dragListener) {\n            return this.dragListener;\n          }\n\n          var dragListener = this.dragListener = new DragListener_1.default({\n            dragStart: function (ev) {\n              if (dragListener.isTouch && !view.isEventDefSelected(eventDef) && eventInstance) {\n                // if not previously selected, will fire after a delay. then, select the event\n                view.selectEventInstance(eventInstance);\n              }\n            },\n            interactionEnd: function (ev) {\n              _this.dragListener = null;\n            }\n          });\n          return dragListener;\n        }; // Builds a listener that will track user-dragging on an event segment.\n        // Generic enough to work with any type of Grid.\n        // Has side effect of setting/unsetting `dragListener`\n\n\n        EventDragging.prototype.buildDragListener = function (seg) {\n          var _this = this;\n\n          var component = this.component;\n          var view = this.view;\n          var calendar = view.calendar;\n          var eventManager = calendar.eventManager;\n          var el = seg.el;\n          var eventDef = seg.footprint.eventDef;\n          var eventInstance = seg.footprint.eventInstance; // null for inverse-background events\n\n          var isDragging;\n          var mouseFollower; // A clone of the original element that will move with the mouse\n\n          var eventDefMutation;\n\n          if (this.dragListener) {\n            return this.dragListener;\n          } // Tracks mouse movement over the *view's* coordinate map. Allows dragging and dropping between subcomponents\n          // of the view.\n\n\n          var dragListener = this.dragListener = new HitDragListener_1.default(view, {\n            scroll: this.opt('dragScroll'),\n            subjectEl: el,\n            subjectCenter: true,\n            interactionStart: function (ev) {\n              seg.component = component; // for renderDrag\n\n              isDragging = false;\n              mouseFollower = new MouseFollower_1.default(seg.el, {\n                additionalClass: 'fc-dragging',\n                parentEl: view.el,\n                opacity: dragListener.isTouch ? null : _this.opt('dragOpacity'),\n                revertDuration: _this.opt('dragRevertDuration'),\n                zIndex: 2 // one above the .fc-view\n\n              });\n              mouseFollower.hide(); // don't show until we know this is a real drag\n\n              mouseFollower.start(ev);\n            },\n            dragStart: function (ev) {\n              if (dragListener.isTouch && !view.isEventDefSelected(eventDef) && eventInstance) {\n                // if not previously selected, will fire after a delay. then, select the event\n                view.selectEventInstance(eventInstance);\n              }\n\n              isDragging = true; // ensure a mouseout on the manipulated event has been reported\n\n              _this.eventPointing.handleMouseout(seg, ev);\n\n              _this.segDragStart(seg, ev);\n\n              view.hideEventsWithId(seg.footprint.eventDef.id);\n            },\n            hitOver: function (hit, isOrig, origHit) {\n              var isAllowed = true;\n              var origFootprint;\n              var footprint;\n              var mutatedEventInstanceGroup; // starting hit could be forced (DayGrid.limit)\n\n              if (seg.hit) {\n                origHit = seg.hit;\n              } // hit might not belong to this grid, so query origin grid\n\n\n              origFootprint = origHit.component.getSafeHitFootprint(origHit);\n              footprint = hit.component.getSafeHitFootprint(hit);\n\n              if (origFootprint && footprint) {\n                eventDefMutation = _this.computeEventDropMutation(origFootprint, footprint, eventDef);\n\n                if (eventDefMutation) {\n                  mutatedEventInstanceGroup = eventManager.buildMutatedEventInstanceGroup(eventDef.id, eventDefMutation);\n                  isAllowed = component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup);\n                } else {\n                  isAllowed = false;\n                }\n              } else {\n                isAllowed = false;\n              }\n\n              if (!isAllowed) {\n                eventDefMutation = null;\n                util_1.disableCursor();\n              } // if a valid drop location, have the subclass render a visual indication\n\n\n              if (eventDefMutation && view.renderDrag( // truthy if rendered something\n              component.eventRangesToEventFootprints(mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, calendar)), seg, dragListener.isTouch)) {\n                mouseFollower.hide(); // if the subclass is already using a mock event \"helper\", hide our own\n              } else {\n                mouseFollower.show(); // otherwise, have the helper follow the mouse (no snapping)\n              }\n\n              if (isOrig) {\n                // needs to have moved hits to be a valid drop\n                eventDefMutation = null;\n              }\n            },\n            hitOut: function () {\n              view.unrenderDrag(seg); // unrender whatever was done in renderDrag\n\n              mouseFollower.show(); // show in case we are moving out of all hits\n\n              eventDefMutation = null;\n            },\n            hitDone: function () {\n              util_1.enableCursor();\n            },\n            interactionEnd: function (ev) {\n              delete seg.component; // prevent side effects\n              // do revert animation if hasn't changed. calls a callback when finished (whether animation or not)\n\n              mouseFollower.stop(!eventDefMutation, function () {\n                if (isDragging) {\n                  view.unrenderDrag(seg);\n\n                  _this.segDragStop(seg, ev);\n                }\n\n                view.showEventsWithId(seg.footprint.eventDef.id);\n\n                if (eventDefMutation) {\n                  // no need to re-show original, will rerender all anyways. esp important if eventRenderWait\n                  view.reportEventDrop(eventInstance, eventDefMutation, el, ev);\n                }\n              });\n              _this.dragListener = null;\n            }\n          });\n          return dragListener;\n        }; // Called before event segment dragging starts\n\n\n        EventDragging.prototype.segDragStart = function (seg, ev) {\n          this.isDragging = true;\n          this.component.publiclyTrigger('eventDragStart', {\n            context: seg.el[0],\n            args: [seg.footprint.getEventLegacy(), ev, {}, this.view]\n          });\n        }; // Called after event segment dragging stops\n\n\n        EventDragging.prototype.segDragStop = function (seg, ev) {\n          this.isDragging = false;\n          this.component.publiclyTrigger('eventDragStop', {\n            context: seg.el[0],\n            args: [seg.footprint.getEventLegacy(), ev, {}, this.view]\n          });\n        }; // DOES NOT consider overlap/constraint\n\n\n        EventDragging.prototype.computeEventDropMutation = function (startFootprint, endFootprint, eventDef) {\n          var eventDefMutation = new EventDefMutation_1.default();\n          eventDefMutation.setDateMutation(this.computeEventDateMutation(startFootprint, endFootprint));\n          return eventDefMutation;\n        };\n\n        EventDragging.prototype.computeEventDateMutation = function (startFootprint, endFootprint) {\n          var date0 = startFootprint.unzonedRange.getStart();\n          var date1 = endFootprint.unzonedRange.getStart();\n          var clearEnd = false;\n          var forceTimed = false;\n          var forceAllDay = false;\n          var dateDelta;\n          var dateMutation;\n\n          if (startFootprint.isAllDay !== endFootprint.isAllDay) {\n            clearEnd = true;\n\n            if (endFootprint.isAllDay) {\n              forceAllDay = true;\n              date0.stripTime();\n            } else {\n              forceTimed = true;\n            }\n          }\n\n          dateDelta = this.component.diffDates(date1, date0);\n          dateMutation = new EventDefDateMutation_1.default();\n          dateMutation.clearEnd = clearEnd;\n          dateMutation.forceTimed = forceTimed;\n          dateMutation.forceAllDay = forceAllDay;\n          dateMutation.setDateDelta(dateDelta);\n          return dateMutation;\n        };\n\n        return EventDragging;\n      }(Interaction_1.default);\n\n      exports.default = EventDragging;\n      /***/\n    },\n    /* 236 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var HitDragListener_1 = __webpack_require__(17);\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var Interaction_1 = __webpack_require__(14);\n\n      var DateSelecting =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DateSelecting, _super);\n        /*\r\n        component must implement:\r\n          - bindDateHandlerToEl\r\n          - getSafeHitFootprint\r\n          - renderHighlight\r\n          - unrenderHighlight\r\n        */\n\n\n        function DateSelecting(component) {\n          var _this = _super.call(this, component) || this;\n\n          _this.dragListener = _this.buildDragListener();\n          return _this;\n        }\n\n        DateSelecting.prototype.end = function () {\n          this.dragListener.endInteraction();\n        };\n\n        DateSelecting.prototype.getDelay = function () {\n          var delay = this.opt('selectLongPressDelay');\n\n          if (delay == null) {\n            delay = this.opt('longPressDelay'); // fallback\n          }\n\n          return delay;\n        };\n\n        DateSelecting.prototype.bindToEl = function (el) {\n          var _this = this;\n\n          var component = this.component;\n          var dragListener = this.dragListener;\n          component.bindDateHandlerToEl(el, 'mousedown', function (ev) {\n            if (_this.opt('selectable') && !component.shouldIgnoreMouse()) {\n              dragListener.startInteraction(ev, {\n                distance: _this.opt('selectMinDistance')\n              });\n            }\n          });\n          component.bindDateHandlerToEl(el, 'touchstart', function (ev) {\n            if (_this.opt('selectable') && !component.shouldIgnoreTouch()) {\n              dragListener.startInteraction(ev, {\n                delay: _this.getDelay()\n              });\n            }\n          });\n          util_1.preventSelection(el);\n        }; // Creates a listener that tracks the user's drag across day elements, for day selecting.\n\n\n        DateSelecting.prototype.buildDragListener = function () {\n          var _this = this;\n\n          var component = this.component;\n          var selectionFootprint; // null if invalid selection\n\n          var dragListener = new HitDragListener_1.default(component, {\n            scroll: this.opt('dragScroll'),\n            interactionStart: function () {\n              selectionFootprint = null;\n            },\n            dragStart: function (ev) {\n              _this.view.unselect(ev); // since we could be rendering a new selection, we want to clear any old one\n\n            },\n            hitOver: function (hit, isOrig, origHit) {\n              var origHitFootprint;\n              var hitFootprint;\n\n              if (origHit) {\n                // click needs to have started on a hit\n                origHitFootprint = component.getSafeHitFootprint(origHit);\n                hitFootprint = component.getSafeHitFootprint(hit);\n\n                if (origHitFootprint && hitFootprint) {\n                  selectionFootprint = _this.computeSelection(origHitFootprint, hitFootprint);\n                } else {\n                  selectionFootprint = null;\n                }\n\n                if (selectionFootprint) {\n                  component.renderSelectionFootprint(selectionFootprint);\n                } else if (selectionFootprint === false) {\n                  util_1.disableCursor();\n                }\n              }\n            },\n            hitOut: function () {\n              selectionFootprint = null;\n              component.unrenderSelection();\n            },\n            hitDone: function () {\n              util_1.enableCursor();\n            },\n            interactionEnd: function (ev, isCancelled) {\n              if (!isCancelled && selectionFootprint) {\n                // the selection will already have been rendered. just report it\n                _this.view.reportSelection(selectionFootprint, ev);\n              }\n            }\n          });\n          return dragListener;\n        }; // Given the first and last date-spans of a selection, returns another date-span object.\n        // Subclasses can override and provide additional data in the span object. Will be passed to renderSelectionFootprint().\n        // Will return false if the selection is invalid and this should be indicated to the user.\n        // Will return null/undefined if a selection invalid but no error should be reported.\n\n\n        DateSelecting.prototype.computeSelection = function (footprint0, footprint1) {\n          var wholeFootprint = this.computeSelectionFootprint(footprint0, footprint1);\n\n          if (wholeFootprint && !this.isSelectionFootprintAllowed(wholeFootprint)) {\n            return false;\n          }\n\n          return wholeFootprint;\n        }; // Given two spans, must return the combination of the two.\n        // TODO: do this separation of concerns (combining VS validation) for event dnd/resize too.\n        // Assumes both footprints are non-open-ended.\n\n\n        DateSelecting.prototype.computeSelectionFootprint = function (footprint0, footprint1) {\n          var ms = [footprint0.unzonedRange.startMs, footprint0.unzonedRange.endMs, footprint1.unzonedRange.startMs, footprint1.unzonedRange.endMs];\n          ms.sort(util_1.compareNumbers);\n          return new ComponentFootprint_1.default(new UnzonedRange_1.default(ms[0], ms[3]), footprint0.isAllDay);\n        };\n\n        DateSelecting.prototype.isSelectionFootprintAllowed = function (componentFootprint) {\n          return this.component.dateProfile.validUnzonedRange.containsRange(componentFootprint.unzonedRange) && this.view.calendar.constraints.isSelectionFootprintAllowed(componentFootprint);\n        };\n\n        return DateSelecting;\n      }(Interaction_1.default);\n\n      exports.default = DateSelecting;\n      /***/\n    },\n    /* 237 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var HitDragListener_1 = __webpack_require__(17);\n\n      var Interaction_1 = __webpack_require__(14);\n\n      var DateClicking =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DateClicking, _super);\n        /*\r\n        component must implement:\r\n          - bindDateHandlerToEl\r\n          - getSafeHitFootprint\r\n          - getHitEl\r\n        */\n\n\n        function DateClicking(component) {\n          var _this = _super.call(this, component) || this;\n\n          _this.dragListener = _this.buildDragListener();\n          return _this;\n        }\n\n        DateClicking.prototype.end = function () {\n          this.dragListener.endInteraction();\n        };\n\n        DateClicking.prototype.bindToEl = function (el) {\n          var component = this.component;\n          var dragListener = this.dragListener;\n          component.bindDateHandlerToEl(el, 'mousedown', function (ev) {\n            if (!component.shouldIgnoreMouse()) {\n              dragListener.startInteraction(ev);\n            }\n          });\n          component.bindDateHandlerToEl(el, 'touchstart', function (ev) {\n            if (!component.shouldIgnoreTouch()) {\n              dragListener.startInteraction(ev);\n            }\n          });\n        }; // Creates a listener that tracks the user's drag across day elements, for day clicking.\n\n\n        DateClicking.prototype.buildDragListener = function () {\n          var _this = this;\n\n          var component = this.component;\n          var dayClickHit; // null if invalid dayClick\n\n          var dragListener = new HitDragListener_1.default(component, {\n            scroll: this.opt('dragScroll'),\n            interactionStart: function () {\n              dayClickHit = dragListener.origHit;\n            },\n            hitOver: function (hit, isOrig, origHit) {\n              // if user dragged to another cell at any point, it can no longer be a dayClick\n              if (!isOrig) {\n                dayClickHit = null;\n              }\n            },\n            hitOut: function () {\n              dayClickHit = null;\n            },\n            interactionEnd: function (ev, isCancelled) {\n              var componentFootprint;\n\n              if (!isCancelled && dayClickHit) {\n                componentFootprint = component.getSafeHitFootprint(dayClickHit);\n\n                if (componentFootprint) {\n                  _this.view.triggerDayClick(componentFootprint, component.getHitEl(dayClickHit), ev);\n                }\n              }\n            }\n          }); // because dragListener won't be called with any time delay, \"dragging\" will begin immediately,\n          // which will kill any touchmoving/scrolling. Prevent this.\n\n          dragListener.shouldCancelTouchScroll = false;\n          dragListener.scrollAlwaysKills = true;\n          return dragListener;\n        };\n\n        return DateClicking;\n      }(Interaction_1.default);\n\n      exports.default = DateClicking;\n      /***/\n    },\n    /* 238 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var moment = __webpack_require__(0);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var Scroller_1 = __webpack_require__(41);\n\n      var View_1 = __webpack_require__(43);\n\n      var TimeGrid_1 = __webpack_require__(239);\n\n      var DayGrid_1 = __webpack_require__(66);\n\n      var AGENDA_ALL_DAY_EVENT_LIMIT = 5;\n      var agendaTimeGridMethods;\n      var agendaDayGridMethods;\n      /* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // Is a manager for the TimeGrid subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).\n      // Responsible for managing width/height.\n\n      var AgendaView =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(AgendaView, _super);\n\n        function AgendaView(calendar, viewSpec) {\n          var _this = _super.call(this, calendar, viewSpec) || this;\n\n          _this.usesMinMaxTime = true; // indicates that minTime/maxTime affects rendering\n\n          _this.timeGrid = _this.instantiateTimeGrid();\n\n          _this.addChild(_this.timeGrid);\n\n          if (_this.opt('allDaySlot')) {\n            // should we display the \"all-day\" area?\n            _this.dayGrid = _this.instantiateDayGrid(); // the all-day subcomponent of this view\n\n            _this.addChild(_this.dayGrid);\n          }\n\n          _this.scroller = new Scroller_1.default({\n            overflowX: 'hidden',\n            overflowY: 'auto'\n          });\n          return _this;\n        } // Instantiates the TimeGrid object this view needs. Draws from this.timeGridClass\n\n\n        AgendaView.prototype.instantiateTimeGrid = function () {\n          var timeGrid = new this.timeGridClass(this);\n          util_1.copyOwnProps(agendaTimeGridMethods, timeGrid);\n          return timeGrid;\n        }; // Instantiates the DayGrid object this view might need. Draws from this.dayGridClass\n\n\n        AgendaView.prototype.instantiateDayGrid = function () {\n          var dayGrid = new this.dayGridClass(this);\n          util_1.copyOwnProps(agendaDayGridMethods, dayGrid);\n          return dayGrid;\n        };\n        /* Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        AgendaView.prototype.renderSkeleton = function () {\n          var timeGridWrapEl;\n          var timeGridEl;\n          this.el.addClass('fc-agenda-view').html(this.renderSkeletonHtml());\n          this.scroller.render();\n          timeGridWrapEl = this.scroller.el.addClass('fc-time-grid-container');\n          timeGridEl = $('<div class=\"fc-time-grid\" />').appendTo(timeGridWrapEl);\n          this.el.find('.fc-body > tr > td').append(timeGridWrapEl);\n          this.timeGrid.headContainerEl = this.el.find('.fc-head-container');\n          this.timeGrid.setElement(timeGridEl);\n\n          if (this.dayGrid) {\n            this.dayGrid.setElement(this.el.find('.fc-day-grid')); // have the day-grid extend it's coordinate area over the <hr> dividing the two grids\n\n            this.dayGrid.bottomCoordPadding = this.dayGrid.el.next('hr').outerHeight();\n          }\n        };\n\n        AgendaView.prototype.unrenderSkeleton = function () {\n          this.timeGrid.removeElement();\n\n          if (this.dayGrid) {\n            this.dayGrid.removeElement();\n          }\n\n          this.scroller.destroy();\n        }; // Builds the HTML skeleton for the view.\n        // The day-grid and time-grid components will render inside containers defined by this HTML.\n\n\n        AgendaView.prototype.renderSkeletonHtml = function () {\n          var theme = this.calendar.theme;\n          return '' + '<table class=\"' + theme.getClass('tableGrid') + '\">' + (this.opt('columnHeader') ? '<thead class=\"fc-head\">' + '<tr>' + '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' + '</tr>' + '</thead>' : '') + '<tbody class=\"fc-body\">' + '<tr>' + '<td class=\"' + theme.getClass('widgetContent') + '\">' + (this.dayGrid ? '<div class=\"fc-day-grid\"/>' + '<hr class=\"fc-divider ' + theme.getClass('widgetHeader') + '\"/>' : '') + '</td>' + '</tr>' + '</tbody>' + '</table>';\n        }; // Generates an HTML attribute string for setting the width of the axis, if it is known\n\n\n        AgendaView.prototype.axisStyleAttr = function () {\n          if (this.axisWidth != null) {\n            return 'style=\"width:' + this.axisWidth + 'px\"';\n          }\n\n          return '';\n        };\n        /* Now Indicator\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        AgendaView.prototype.getNowIndicatorUnit = function () {\n          return this.timeGrid.getNowIndicatorUnit();\n        };\n        /* Dimensions\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Adjusts the vertical dimensions of the view to the specified values\n\n\n        AgendaView.prototype.updateSize = function (totalHeight, isAuto, isResize) {\n          var eventLimit;\n          var scrollerHeight;\n          var scrollbarWidths;\n\n          _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize); // make all axis cells line up, and record the width so newly created axis cells will have it\n\n\n          this.axisWidth = util_1.matchCellWidths(this.el.find('.fc-axis')); // hack to give the view some height prior to timeGrid's columns being rendered\n          // TODO: separate setting height from scroller VS timeGrid.\n\n          if (!this.timeGrid.colEls) {\n            if (!isAuto) {\n              scrollerHeight = this.computeScrollerHeight(totalHeight);\n              this.scroller.setHeight(scrollerHeight);\n            }\n\n            return;\n          } // set of fake row elements that must compensate when scroller has scrollbars\n\n\n          var noScrollRowEls = this.el.find('.fc-row:not(.fc-scroller *)'); // reset all dimensions back to the original state\n\n          this.timeGrid.bottomRuleEl.hide(); // .show() will be called later if this <hr> is necessary\n\n          this.scroller.clear(); // sets height to 'auto' and clears overflow\n\n          util_1.uncompensateScroll(noScrollRowEls); // limit number of events in the all-day area\n\n          if (this.dayGrid) {\n            this.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\n            eventLimit = this.opt('eventLimit');\n\n            if (eventLimit && typeof eventLimit !== 'number') {\n              eventLimit = AGENDA_ALL_DAY_EVENT_LIMIT; // make sure \"auto\" goes to a real number\n            }\n\n            if (eventLimit) {\n              this.dayGrid.limitRows(eventLimit);\n            }\n          }\n\n          if (!isAuto) {\n            // should we force dimensions of the scroll container?\n            scrollerHeight = this.computeScrollerHeight(totalHeight);\n            this.scroller.setHeight(scrollerHeight);\n            scrollbarWidths = this.scroller.getScrollbarWidths();\n\n            if (scrollbarWidths.left || scrollbarWidths.right) {\n              // using scrollbars?\n              // make the all-day and header rows lines up\n              util_1.compensateScroll(noScrollRowEls, scrollbarWidths); // the scrollbar compensation might have changed text flow, which might affect height, so recalculate\n              // and reapply the desired height to the scroller.\n\n              scrollerHeight = this.computeScrollerHeight(totalHeight);\n              this.scroller.setHeight(scrollerHeight);\n            } // guarantees the same scrollbar widths\n\n\n            this.scroller.lockOverflow(scrollbarWidths); // if there's any space below the slats, show the horizontal rule.\n            // this won't cause any new overflow, because lockOverflow already called.\n\n            if (this.timeGrid.getTotalSlatHeight() < scrollerHeight) {\n              this.timeGrid.bottomRuleEl.show();\n            }\n          }\n        }; // given a desired total height of the view, returns what the height of the scroller should be\n\n\n        AgendaView.prototype.computeScrollerHeight = function (totalHeight) {\n          return totalHeight - util_1.subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\n        };\n        /* Scroll\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Computes the initial pre-configured scroll state prior to allowing the user to change it\n\n\n        AgendaView.prototype.computeInitialDateScroll = function () {\n          var scrollTime = moment.duration(this.opt('scrollTime'));\n          var top = this.timeGrid.computeTimeTop(scrollTime); // zoom can give weird floating-point values. rather scroll a little bit further\n\n          top = Math.ceil(top);\n\n          if (top) {\n            top++; // to overcome top border that slots beyond the first have. looks better\n          }\n\n          return {\n            top: top\n          };\n        };\n\n        AgendaView.prototype.queryDateScroll = function () {\n          return {\n            top: this.scroller.getScrollTop()\n          };\n        };\n\n        AgendaView.prototype.applyDateScroll = function (scroll) {\n          if (scroll.top !== undefined) {\n            this.scroller.setScrollTop(scroll.top);\n          }\n        };\n        /* Hit Areas\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // forward all hit-related method calls to the grids (dayGrid might not be defined)\n\n\n        AgendaView.prototype.getHitFootprint = function (hit) {\n          // TODO: hit.component is set as a hack to identify where the hit came from\n          return hit.component.getHitFootprint(hit);\n        };\n\n        AgendaView.prototype.getHitEl = function (hit) {\n          // TODO: hit.component is set as a hack to identify where the hit came from\n          return hit.component.getHitEl(hit);\n        };\n        /* Event Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        AgendaView.prototype.executeEventRender = function (eventsPayload) {\n          var dayEventsPayload = {};\n          var timedEventsPayload = {};\n          var id;\n          var eventInstanceGroup; // separate the events into all-day and timed\n\n          for (id in eventsPayload) {\n            eventInstanceGroup = eventsPayload[id];\n\n            if (eventInstanceGroup.getEventDef().isAllDay()) {\n              dayEventsPayload[id] = eventInstanceGroup;\n            } else {\n              timedEventsPayload[id] = eventInstanceGroup;\n            }\n          }\n\n          this.timeGrid.executeEventRender(timedEventsPayload);\n\n          if (this.dayGrid) {\n            this.dayGrid.executeEventRender(dayEventsPayload);\n          }\n        };\n        /* Dragging/Resizing Routing\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\n\n        AgendaView.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\n          var groups = groupEventFootprintsByAllDay(eventFootprints);\n          var renderedHelper = false;\n          renderedHelper = this.timeGrid.renderDrag(groups.timed, seg, isTouch);\n\n          if (this.dayGrid) {\n            renderedHelper = this.dayGrid.renderDrag(groups.allDay, seg, isTouch) || renderedHelper;\n          }\n\n          return renderedHelper;\n        };\n\n        AgendaView.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\n          var groups = groupEventFootprintsByAllDay(eventFootprints);\n          this.timeGrid.renderEventResize(groups.timed, seg, isTouch);\n\n          if (this.dayGrid) {\n            this.dayGrid.renderEventResize(groups.allDay, seg, isTouch);\n          }\n        };\n        /* Selection\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders a visual indication of a selection\n\n\n        AgendaView.prototype.renderSelectionFootprint = function (componentFootprint) {\n          if (!componentFootprint.isAllDay) {\n            this.timeGrid.renderSelectionFootprint(componentFootprint);\n          } else if (this.dayGrid) {\n            this.dayGrid.renderSelectionFootprint(componentFootprint);\n          }\n        };\n\n        return AgendaView;\n      }(View_1.default);\n\n      exports.default = AgendaView;\n      AgendaView.prototype.timeGridClass = TimeGrid_1.default;\n      AgendaView.prototype.dayGridClass = DayGrid_1.default; // Will customize the rendering behavior of the AgendaView's timeGrid\n\n      agendaTimeGridMethods = {\n        // Generates the HTML that will go before the day-of week header cells\n        renderHeadIntroHtml: function () {\n          var view = this.view;\n          var calendar = view.calendar;\n          var weekStart = calendar.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs, true);\n          var weekText;\n\n          if (this.opt('weekNumbers')) {\n            weekText = weekStart.format(this.opt('smallWeekFormat'));\n            return '' + '<th class=\"fc-axis fc-week-number ' + calendar.theme.getClass('widgetHeader') + '\" ' + view.axisStyleAttr() + '>' + view.buildGotoAnchorHtml( // aside from link, important for matchCellWidths\n            {\n              date: weekStart,\n              type: 'week',\n              forceOff: this.colCnt > 1\n            }, util_1.htmlEscape(weekText) // inner HTML\n            ) + '</th>';\n          } else {\n            return '<th class=\"fc-axis ' + calendar.theme.getClass('widgetHeader') + '\" ' + view.axisStyleAttr() + '></th>';\n          }\n        },\n        // Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.\n        renderBgIntroHtml: function () {\n          var view = this.view;\n          return '<td class=\"fc-axis ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '></td>';\n        },\n        // Generates the HTML that goes before all other types of cells.\n        // Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n        renderIntroHtml: function () {\n          var view = this.view;\n          return '<td class=\"fc-axis\" ' + view.axisStyleAttr() + '></td>';\n        }\n      }; // Will customize the rendering behavior of the AgendaView's dayGrid\n\n      agendaDayGridMethods = {\n        // Generates the HTML that goes before the all-day cells\n        renderBgIntroHtml: function () {\n          var view = this.view;\n          return '' + '<td class=\"fc-axis ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '>' + '<span>' + // needed for matchCellWidths\n          view.getAllDayHtml() + '</span>' + '</td>';\n        },\n        // Generates the HTML that goes before all other types of cells.\n        // Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n        renderIntroHtml: function () {\n          var view = this.view;\n          return '<td class=\"fc-axis\" ' + view.axisStyleAttr() + '></td>';\n        }\n      };\n\n      function groupEventFootprintsByAllDay(eventFootprints) {\n        var allDay = [];\n        var timed = [];\n        var i;\n\n        for (i = 0; i < eventFootprints.length; i++) {\n          if (eventFootprints[i].componentFootprint.isAllDay) {\n            allDay.push(eventFootprints[i]);\n          } else {\n            timed.push(eventFootprints[i]);\n          }\n        }\n\n        return {\n          allDay: allDay,\n          timed: timed\n        };\n      }\n      /***/\n\n    },\n    /* 239 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var InteractiveDateComponent_1 = __webpack_require__(42);\n\n      var BusinessHourRenderer_1 = __webpack_require__(61);\n\n      var StandardInteractionsMixin_1 = __webpack_require__(65);\n\n      var DayTableMixin_1 = __webpack_require__(60);\n\n      var CoordCache_1 = __webpack_require__(58);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var ComponentFootprint_1 = __webpack_require__(12);\n\n      var TimeGridEventRenderer_1 = __webpack_require__(240);\n\n      var TimeGridHelperRenderer_1 = __webpack_require__(241);\n\n      var TimeGridFillRenderer_1 = __webpack_require__(242);\n      /* A component that renders one or more columns of vertical time slots\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n      // We mixin DayTable, even though there is only a single row of days\n      // potential nice values for the slot-duration and interval-duration\n      // from largest to smallest\n\n\n      var AGENDA_STOCK_SUB_DURATIONS = [{\n        hours: 1\n      }, {\n        minutes: 30\n      }, {\n        minutes: 15\n      }, {\n        seconds: 30\n      }, {\n        seconds: 15\n      }];\n\n      var TimeGrid =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(TimeGrid, _super);\n\n        function TimeGrid(view) {\n          var _this = _super.call(this, view) || this;\n\n          _this.processOptions();\n\n          return _this;\n        } // Slices up the given span (unzoned start/end with other misc data) into an array of segments\n\n\n        TimeGrid.prototype.componentFootprintToSegs = function (componentFootprint) {\n          var segs = this.sliceRangeByTimes(componentFootprint.unzonedRange);\n          var i;\n\n          for (i = 0; i < segs.length; i++) {\n            if (this.isRTL) {\n              segs[i].col = this.daysPerRow - 1 - segs[i].dayIndex;\n            } else {\n              segs[i].col = segs[i].dayIndex;\n            }\n          }\n\n          return segs;\n        };\n        /* Date Handling\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        TimeGrid.prototype.sliceRangeByTimes = function (unzonedRange) {\n          var segs = [];\n          var segRange;\n          var dayIndex;\n\n          for (dayIndex = 0; dayIndex < this.daysPerRow; dayIndex++) {\n            segRange = unzonedRange.intersect(this.dayRanges[dayIndex]);\n\n            if (segRange) {\n              segs.push({\n                startMs: segRange.startMs,\n                endMs: segRange.endMs,\n                isStart: segRange.isStart,\n                isEnd: segRange.isEnd,\n                dayIndex: dayIndex\n              });\n            }\n          }\n\n          return segs;\n        };\n        /* Options\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Parses various options into properties of this object\n\n\n        TimeGrid.prototype.processOptions = function () {\n          var slotDuration = this.opt('slotDuration');\n          var snapDuration = this.opt('snapDuration');\n          var input;\n          slotDuration = moment.duration(slotDuration);\n          snapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration;\n          this.slotDuration = slotDuration;\n          this.snapDuration = snapDuration;\n          this.snapsPerSlot = slotDuration / snapDuration; // TODO: ensure an integer multiple?\n          // might be an array value (for TimelineView).\n          // if so, getting the most granular entry (the last one probably).\n\n          input = this.opt('slotLabelFormat');\n\n          if ($.isArray(input)) {\n            input = input[input.length - 1];\n          }\n\n          this.labelFormat = input || this.opt('smallTimeFormat'); // the computed default\n\n          input = this.opt('slotLabelInterval');\n          this.labelInterval = input ? moment.duration(input) : this.computeLabelInterval(slotDuration);\n        }; // Computes an automatic value for slotLabelInterval\n\n\n        TimeGrid.prototype.computeLabelInterval = function (slotDuration) {\n          var i;\n          var labelInterval;\n          var slotsPerLabel; // find the smallest stock label interval that results in more than one slots-per-label\n\n          for (i = AGENDA_STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\n            labelInterval = moment.duration(AGENDA_STOCK_SUB_DURATIONS[i]);\n            slotsPerLabel = util_1.divideDurationByDuration(labelInterval, slotDuration);\n\n            if (util_1.isInt(slotsPerLabel) && slotsPerLabel > 1) {\n              return labelInterval;\n            }\n          }\n\n          return moment.duration(slotDuration); // fall back. clone\n        };\n        /* Date Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        TimeGrid.prototype.renderDates = function (dateProfile) {\n          this.dateProfile = dateProfile;\n          this.updateDayTable();\n          this.renderSlats();\n          this.renderColumns();\n        };\n\n        TimeGrid.prototype.unrenderDates = function () {\n          // this.unrenderSlats(); // don't need this because repeated .html() calls clear\n          this.unrenderColumns();\n        };\n\n        TimeGrid.prototype.renderSkeleton = function () {\n          var theme = this.view.calendar.theme;\n          this.el.html('<div class=\"fc-bg\"></div>' + '<div class=\"fc-slats\"></div>' + '<hr class=\"fc-divider ' + theme.getClass('widgetHeader') + '\" style=\"display:none\" />');\n          this.bottomRuleEl = this.el.find('hr');\n        };\n\n        TimeGrid.prototype.renderSlats = function () {\n          var theme = this.view.calendar.theme;\n          this.slatContainerEl = this.el.find('> .fc-slats').html( // avoids needing ::unrenderSlats()\n          '<table class=\"' + theme.getClass('tableGrid') + '\">' + this.renderSlatRowHtml() + '</table>');\n          this.slatEls = this.slatContainerEl.find('tr');\n          this.slatCoordCache = new CoordCache_1.default({\n            els: this.slatEls,\n            isVertical: true\n          });\n        }; // Generates the HTML for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n\n\n        TimeGrid.prototype.renderSlatRowHtml = function () {\n          var view = this.view;\n          var calendar = view.calendar;\n          var theme = calendar.theme;\n          var isRTL = this.isRTL;\n          var dateProfile = this.dateProfile;\n          var html = '';\n          var slotTime = moment.duration(+dateProfile.minTime); // wish there was .clone() for durations\n\n          var slotIterator = moment.duration(0);\n          var slotDate; // will be on the view's first day, but we only care about its time\n\n          var isLabeled;\n          var axisHtml; // Calculate the time for each slot\n\n          while (slotTime < dateProfile.maxTime) {\n            slotDate = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.startMs).time(slotTime);\n            isLabeled = util_1.isInt(util_1.divideDurationByDuration(slotIterator, this.labelInterval));\n            axisHtml = '<td class=\"fc-axis fc-time ' + theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '>' + (isLabeled ? '<span>' + // for matchCellWidths\n            util_1.htmlEscape(slotDate.format(this.labelFormat)) + '</span>' : '') + '</td>';\n            html += '<tr data-time=\"' + slotDate.format('HH:mm:ss') + '\"' + (isLabeled ? '' : ' class=\"fc-minor\"') + '>' + (!isRTL ? axisHtml : '') + '<td class=\"' + theme.getClass('widgetContent') + '\"/>' + (isRTL ? axisHtml : '') + '</tr>';\n            slotTime.add(this.slotDuration);\n            slotIterator.add(this.slotDuration);\n          }\n\n          return html;\n        };\n\n        TimeGrid.prototype.renderColumns = function () {\n          var dateProfile = this.dateProfile;\n          var theme = this.view.calendar.theme;\n          this.dayRanges = this.dayDates.map(function (dayDate) {\n            return new UnzonedRange_1.default(dayDate.clone().add(dateProfile.minTime), dayDate.clone().add(dateProfile.maxTime));\n          });\n\n          if (this.headContainerEl) {\n            this.headContainerEl.html(this.renderHeadHtml());\n          }\n\n          this.el.find('> .fc-bg').html('<table class=\"' + theme.getClass('tableGrid') + '\">' + this.renderBgTrHtml(0) + // row=0\n          '</table>');\n          this.colEls = this.el.find('.fc-day, .fc-disabled-day');\n          this.colCoordCache = new CoordCache_1.default({\n            els: this.colEls,\n            isHorizontal: true\n          });\n          this.renderContentSkeleton();\n        };\n\n        TimeGrid.prototype.unrenderColumns = function () {\n          this.unrenderContentSkeleton();\n        };\n        /* Content Skeleton\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders the DOM that the view's content will live in\n\n\n        TimeGrid.prototype.renderContentSkeleton = function () {\n          var cellHtml = '';\n          var i;\n          var skeletonEl;\n\n          for (i = 0; i < this.colCnt; i++) {\n            cellHtml += '<td>' + '<div class=\"fc-content-col\">' + '<div class=\"fc-event-container fc-helper-container\"></div>' + '<div class=\"fc-event-container\"></div>' + '<div class=\"fc-highlight-container\"></div>' + '<div class=\"fc-bgevent-container\"></div>' + '<div class=\"fc-business-container\"></div>' + '</div>' + '</td>';\n          }\n\n          skeletonEl = this.contentSkeletonEl = $('<div class=\"fc-content-skeleton\">' + '<table>' + '<tr>' + cellHtml + '</tr>' + '</table>' + '</div>');\n          this.colContainerEls = skeletonEl.find('.fc-content-col');\n          this.helperContainerEls = skeletonEl.find('.fc-helper-container');\n          this.fgContainerEls = skeletonEl.find('.fc-event-container:not(.fc-helper-container)');\n          this.bgContainerEls = skeletonEl.find('.fc-bgevent-container');\n          this.highlightContainerEls = skeletonEl.find('.fc-highlight-container');\n          this.businessContainerEls = skeletonEl.find('.fc-business-container');\n          this.bookendCells(skeletonEl.find('tr')); // TODO: do this on string level\n\n          this.el.append(skeletonEl);\n        };\n\n        TimeGrid.prototype.unrenderContentSkeleton = function () {\n          if (this.contentSkeletonEl) {\n            // defensive :(\n            this.contentSkeletonEl.remove();\n            this.contentSkeletonEl = null;\n            this.colContainerEls = null;\n            this.helperContainerEls = null;\n            this.fgContainerEls = null;\n            this.bgContainerEls = null;\n            this.highlightContainerEls = null;\n            this.businessContainerEls = null;\n          }\n        }; // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's col\n\n\n        TimeGrid.prototype.groupSegsByCol = function (segs) {\n          var segsByCol = [];\n          var i;\n\n          for (i = 0; i < this.colCnt; i++) {\n            segsByCol.push([]);\n          }\n\n          for (i = 0; i < segs.length; i++) {\n            segsByCol[segs[i].col].push(segs[i]);\n          }\n\n          return segsByCol;\n        }; // Given segments grouped by column, insert the segments' elements into a parallel array of container\n        // elements, each living within a column.\n\n\n        TimeGrid.prototype.attachSegsByCol = function (segsByCol, containerEls) {\n          var col;\n          var segs;\n          var i;\n\n          for (col = 0; col < this.colCnt; col++) {\n            // iterate each column grouping\n            segs = segsByCol[col];\n\n            for (i = 0; i < segs.length; i++) {\n              containerEls.eq(col).append(segs[i].el);\n            }\n          }\n        };\n        /* Now Indicator\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        TimeGrid.prototype.getNowIndicatorUnit = function () {\n          return 'minute'; // will refresh on the minute\n        };\n\n        TimeGrid.prototype.renderNowIndicator = function (date) {\n          // HACK: if date columns not ready for some reason (scheduler)\n          if (!this.colContainerEls) {\n            return;\n          } // seg system might be overkill, but it handles scenario where line needs to be rendered\n          //  more than once because of columns with the same date (resources columns for example)\n\n\n          var segs = this.componentFootprintToSegs(new ComponentFootprint_1.default(new UnzonedRange_1.default(date, date.valueOf() + 1), // protect against null range\n          false // all-day\n          ));\n          var top = this.computeDateTop(date, date);\n          var nodes = [];\n          var i; // render lines within the columns\n\n          for (i = 0; i < segs.length; i++) {\n            nodes.push($('<div class=\"fc-now-indicator fc-now-indicator-line\"></div>').css('top', top).appendTo(this.colContainerEls.eq(segs[i].col))[0]);\n          } // render an arrow over the axis\n\n\n          if (segs.length > 0) {\n            // is the current time in view?\n            nodes.push($('<div class=\"fc-now-indicator fc-now-indicator-arrow\"></div>').css('top', top).appendTo(this.el.find('.fc-content-skeleton'))[0]);\n          }\n\n          this.nowIndicatorEls = $(nodes);\n        };\n\n        TimeGrid.prototype.unrenderNowIndicator = function () {\n          if (this.nowIndicatorEls) {\n            this.nowIndicatorEls.remove();\n            this.nowIndicatorEls = null;\n          }\n        };\n        /* Coordinates\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        TimeGrid.prototype.updateSize = function (totalHeight, isAuto, isResize) {\n          _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\n\n          this.slatCoordCache.build();\n\n          if (isResize) {\n            this.updateSegVerticals([].concat(this.eventRenderer.getSegs(), this.businessSegs || []));\n          }\n        };\n\n        TimeGrid.prototype.getTotalSlatHeight = function () {\n          return this.slatContainerEl.outerHeight();\n        }; // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n        // `ms` can be a millisecond UTC time OR a UTC moment.\n        // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n\n\n        TimeGrid.prototype.computeDateTop = function (ms, startOfDayDate) {\n          return this.computeTimeTop(moment.duration(ms - startOfDayDate.clone().stripTime()));\n        }; // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n\n\n        TimeGrid.prototype.computeTimeTop = function (time) {\n          var len = this.slatEls.length;\n          var dateProfile = this.dateProfile;\n          var slatCoverage = (time - dateProfile.minTime) / this.slotDuration; // floating-point value of # of slots covered\n\n          var slatIndex;\n          var slatRemainder; // compute a floating-point number for how many slats should be progressed through.\n          // from 0 to number of slats (inclusive)\n          // constrained because minTime/maxTime might be customized.\n\n          slatCoverage = Math.max(0, slatCoverage);\n          slatCoverage = Math.min(len, slatCoverage); // an integer index of the furthest whole slat\n          // from 0 to number slats (*exclusive*, so len-1)\n\n          slatIndex = Math.floor(slatCoverage);\n          slatIndex = Math.min(slatIndex, len - 1); // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n          // could be 1.0 if slatCoverage is covering *all* the slots\n\n          slatRemainder = slatCoverage - slatIndex;\n          return this.slatCoordCache.getTopPosition(slatIndex) + this.slatCoordCache.getHeight(slatIndex) * slatRemainder;\n        }; // Refreshes the CSS top/bottom coordinates for each segment element.\n        // Works when called after initial render, after a window resize/zoom for example.\n\n\n        TimeGrid.prototype.updateSegVerticals = function (segs) {\n          this.computeSegVerticals(segs);\n          this.assignSegVerticals(segs);\n        }; // For each segment in an array, computes and assigns its top and bottom properties\n\n\n        TimeGrid.prototype.computeSegVerticals = function (segs) {\n          var eventMinHeight = this.opt('agendaEventMinHeight');\n          var i;\n          var seg;\n          var dayDate;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            dayDate = this.dayDates[seg.dayIndex];\n            seg.top = this.computeDateTop(seg.startMs, dayDate);\n            seg.bottom = Math.max(seg.top + eventMinHeight, this.computeDateTop(seg.endMs, dayDate));\n          }\n        }; // Given segments that already have their top/bottom properties computed, applies those values to\n        // the segments' elements.\n\n\n        TimeGrid.prototype.assignSegVerticals = function (segs) {\n          var i;\n          var seg;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            seg.el.css(this.generateSegVerticalCss(seg));\n          }\n        }; // Generates an object with CSS properties for the top/bottom coordinates of a segment element\n\n\n        TimeGrid.prototype.generateSegVerticalCss = function (seg) {\n          return {\n            top: seg.top,\n            bottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container\n\n          };\n        };\n        /* Hit System\r\n        ------------------------------------------------------------------------------------------------------------------*/\n\n\n        TimeGrid.prototype.prepareHits = function () {\n          this.colCoordCache.build();\n          this.slatCoordCache.build();\n        };\n\n        TimeGrid.prototype.releaseHits = function () {\n          this.colCoordCache.clear(); // NOTE: don't clear slatCoordCache because we rely on it for computeTimeTop\n        };\n\n        TimeGrid.prototype.queryHit = function (leftOffset, topOffset) {\n          var snapsPerSlot = this.snapsPerSlot;\n          var colCoordCache = this.colCoordCache;\n          var slatCoordCache = this.slatCoordCache;\n\n          if (colCoordCache.isLeftInBounds(leftOffset) && slatCoordCache.isTopInBounds(topOffset)) {\n            var colIndex = colCoordCache.getHorizontalIndex(leftOffset);\n            var slatIndex = slatCoordCache.getVerticalIndex(topOffset);\n\n            if (colIndex != null && slatIndex != null) {\n              var slatTop = slatCoordCache.getTopOffset(slatIndex);\n              var slatHeight = slatCoordCache.getHeight(slatIndex);\n              var partial = (topOffset - slatTop) / slatHeight; // floating point number between 0 and 1\n\n              var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n\n              var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n              var snapTop = slatTop + localSnapIndex / snapsPerSlot * slatHeight;\n              var snapBottom = slatTop + (localSnapIndex + 1) / snapsPerSlot * slatHeight;\n              return {\n                col: colIndex,\n                snap: snapIndex,\n                component: this,\n                left: colCoordCache.getLeftOffset(colIndex),\n                right: colCoordCache.getRightOffset(colIndex),\n                top: snapTop,\n                bottom: snapBottom\n              };\n            }\n          }\n        };\n\n        TimeGrid.prototype.getHitFootprint = function (hit) {\n          var start = this.getCellDate(0, hit.col); // row=0\n\n          var time = this.computeSnapTime(hit.snap); // pass in the snap-index\n\n          var end;\n          start.time(time);\n          end = start.clone().add(this.snapDuration);\n          return new ComponentFootprint_1.default(new UnzonedRange_1.default(start, end), false // all-day?\n          );\n        }; // Given a row number of the grid, representing a \"snap\", returns a time (Duration) from its start-of-day\n\n\n        TimeGrid.prototype.computeSnapTime = function (snapIndex) {\n          return moment.duration(this.dateProfile.minTime + this.snapDuration * snapIndex);\n        };\n\n        TimeGrid.prototype.getHitEl = function (hit) {\n          return this.colEls.eq(hit.col);\n        };\n        /* Event Drag Visualization\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders a visual indication of an event being dragged over the specified date(s).\n        // A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\n\n        TimeGrid.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\n          var i;\n\n          if (seg) {\n            // if there is event information for this drag, render a helper event\n            if (eventFootprints.length) {\n              this.helperRenderer.renderEventDraggingFootprints(eventFootprints, seg, isTouch); // signal that a helper has been rendered\n\n              return true;\n            }\n          } else {\n            // otherwise, just render a highlight\n            for (i = 0; i < eventFootprints.length; i++) {\n              this.renderHighlight(eventFootprints[i].componentFootprint);\n            }\n          }\n        }; // Unrenders any visual indication of an event being dragged\n\n\n        TimeGrid.prototype.unrenderDrag = function () {\n          this.unrenderHighlight();\n          this.helperRenderer.unrender();\n        };\n        /* Event Resize Visualization\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders a visual indication of an event being resized\n\n\n        TimeGrid.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\n          this.helperRenderer.renderEventResizingFootprints(eventFootprints, seg, isTouch);\n        }; // Unrenders any visual indication of an event being resized\n\n\n        TimeGrid.prototype.unrenderEventResize = function () {\n          this.helperRenderer.unrender();\n        };\n        /* Selection\r\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.\n\n\n        TimeGrid.prototype.renderSelectionFootprint = function (componentFootprint) {\n          if (this.opt('selectHelper')) {\n            // this setting signals that a mock helper event should be rendered\n            this.helperRenderer.renderComponentFootprint(componentFootprint);\n          } else {\n            this.renderHighlight(componentFootprint);\n          }\n        }; // Unrenders any visual indication of a selection\n\n\n        TimeGrid.prototype.unrenderSelection = function () {\n          this.helperRenderer.unrender();\n          this.unrenderHighlight();\n        };\n\n        return TimeGrid;\n      }(InteractiveDateComponent_1.default);\n\n      exports.default = TimeGrid;\n      TimeGrid.prototype.eventRendererClass = TimeGridEventRenderer_1.default;\n      TimeGrid.prototype.businessHourRendererClass = BusinessHourRenderer_1.default;\n      TimeGrid.prototype.helperRendererClass = TimeGridHelperRenderer_1.default;\n      TimeGrid.prototype.fillRendererClass = TimeGridFillRenderer_1.default;\n      StandardInteractionsMixin_1.default.mixInto(TimeGrid);\n      DayTableMixin_1.default.mixInto(TimeGrid);\n      /***/\n    },\n    /* 240 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventRenderer_1 = __webpack_require__(44);\n      /*\r\n      Only handles foreground segs.\r\n      Does not own rendering. Use for low-level util methods by TimeGrid.\r\n      */\n\n\n      var TimeGridEventRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(TimeGridEventRenderer, _super);\n\n        function TimeGridEventRenderer(timeGrid, fillRenderer) {\n          var _this = _super.call(this, timeGrid, fillRenderer) || this;\n\n          _this.timeGrid = timeGrid;\n          return _this;\n        }\n\n        TimeGridEventRenderer.prototype.renderFgSegs = function (segs) {\n          this.renderFgSegsIntoContainers(segs, this.timeGrid.fgContainerEls);\n        }; // Given an array of foreground segments, render a DOM element for each, computes position,\n        // and attaches to the column inner-container elements.\n\n\n        TimeGridEventRenderer.prototype.renderFgSegsIntoContainers = function (segs, containerEls) {\n          var segsByCol;\n          var col;\n          segsByCol = this.timeGrid.groupSegsByCol(segs);\n\n          for (col = 0; col < this.timeGrid.colCnt; col++) {\n            this.updateFgSegCoords(segsByCol[col]);\n          }\n\n          this.timeGrid.attachSegsByCol(segsByCol, containerEls);\n        };\n\n        TimeGridEventRenderer.prototype.unrenderFgSegs = function () {\n          if (this.fgSegs) {\n            // hack\n            this.fgSegs.forEach(function (seg) {\n              seg.el.remove();\n            });\n          }\n        }; // Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\n\n        TimeGridEventRenderer.prototype.computeEventTimeFormat = function () {\n          return this.opt('noMeridiemTimeFormat'); // like \"6:30\" (no AM/PM)\n        }; // Computes a default `displayEventEnd` value if one is not expliclty defined\n\n\n        TimeGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n          return true;\n        }; // Renders the HTML for a single event segment's default rendering\n\n\n        TimeGridEventRenderer.prototype.fgSegHtml = function (seg, disableResizing) {\n          var view = this.view;\n          var calendar = view.calendar;\n          var componentFootprint = seg.footprint.componentFootprint;\n          var isAllDay = componentFootprint.isAllDay;\n          var eventDef = seg.footprint.eventDef;\n          var isDraggable = view.isEventDefDraggable(eventDef);\n          var isResizableFromStart = !disableResizing && seg.isStart && view.isEventDefResizableFromStart(eventDef);\n          var isResizableFromEnd = !disableResizing && seg.isEnd && view.isEventDefResizableFromEnd(eventDef);\n          var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n          var skinCss = util_1.cssToStr(this.getSkinCss(eventDef));\n          var timeText;\n          var fullTimeText; // more verbose time text. for the print stylesheet\n\n          var startTimeText; // just the start time text\n\n          classes.unshift('fc-time-grid-event', 'fc-v-event'); // if the event appears to span more than one day...\n\n          if (view.isMultiDayRange(componentFootprint.unzonedRange)) {\n            // Don't display time text on segments that run entirely through a day.\n            // That would appear as midnight-midnight and would look dumb.\n            // Otherwise, display the time text for the *segment's* times (like 6pm-midnight or midnight-10am)\n            if (seg.isStart || seg.isEnd) {\n              var zonedStart = calendar.msToMoment(seg.startMs);\n              var zonedEnd = calendar.msToMoment(seg.endMs);\n              timeText = this._getTimeText(zonedStart, zonedEnd, isAllDay);\n              fullTimeText = this._getTimeText(zonedStart, zonedEnd, isAllDay, 'LT');\n              startTimeText = this._getTimeText(zonedStart, zonedEnd, isAllDay, null, false); // displayEnd=false\n            }\n          } else {\n            // Display the normal time text for the *event's* times\n            timeText = this.getTimeText(seg.footprint);\n            fullTimeText = this.getTimeText(seg.footprint, 'LT');\n            startTimeText = this.getTimeText(seg.footprint, null, false); // displayEnd=false\n          }\n\n          return '<a class=\"' + classes.join(' ') + '\"' + (eventDef.url ? ' href=\"' + util_1.htmlEscape(eventDef.url) + '\"' : '') + (skinCss ? ' style=\"' + skinCss + '\"' : '') + '>' + '<div class=\"fc-content\">' + (timeText ? '<div class=\"fc-time\"' + ' data-start=\"' + util_1.htmlEscape(startTimeText) + '\"' + ' data-full=\"' + util_1.htmlEscape(fullTimeText) + '\"' + '>' + '<span>' + util_1.htmlEscape(timeText) + '</span>' + '</div>' : '') + (eventDef.title ? '<div class=\"fc-title\">' + util_1.htmlEscape(eventDef.title) + '</div>' : '') + '</div>' + '<div class=\"fc-bg\"/>' + (\n          /* TODO: write CSS for this\r\n          (isResizableFromStart ?\r\n            '<div class=\"fc-resizer fc-start-resizer\" />' :\r\n            ''\r\n            ) +\r\n          */\n          isResizableFromEnd ? '<div class=\"fc-resizer fc-end-resizer\" />' : '') + '</a>';\n        }; // Given segments that are assumed to all live in the *same column*,\n        // compute their verical/horizontal coordinates and assign to their elements.\n\n\n        TimeGridEventRenderer.prototype.updateFgSegCoords = function (segs) {\n          this.timeGrid.computeSegVerticals(segs); // horizontals relies on this\n\n          this.computeFgSegHorizontals(segs); // compute horizontal coordinates, z-index's, and reorder the array\n\n          this.timeGrid.assignSegVerticals(segs);\n          this.assignFgSegHorizontals(segs);\n        }; // Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n        // NOTE: Also reorders the given array by date!\n\n\n        TimeGridEventRenderer.prototype.computeFgSegHorizontals = function (segs) {\n          var levels;\n          var level0;\n          var i;\n          this.sortEventSegs(segs); // order by certain criteria\n\n          levels = buildSlotSegLevels(segs);\n          computeForwardSlotSegs(levels);\n\n          if (level0 = levels[0]) {\n            for (i = 0; i < level0.length; i++) {\n              computeSlotSegPressures(level0[i]);\n            }\n\n            for (i = 0; i < level0.length; i++) {\n              this.computeFgSegForwardBack(level0[i], 0, 0);\n            }\n          }\n        }; // Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n        // from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n        // seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n        //\n        // The segment might be part of a \"series\", which means consecutive segments with the same pressure\n        // who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n        // segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n        // coordinate of the first segment in the series.\n\n\n        TimeGridEventRenderer.prototype.computeFgSegForwardBack = function (seg, seriesBackwardPressure, seriesBackwardCoord) {\n          var forwardSegs = seg.forwardSegs;\n          var i;\n\n          if (seg.forwardCoord === undefined) {\n            // not already computed\n            if (!forwardSegs.length) {\n              // if there are no forward segments, this segment should butt up against the edge\n              seg.forwardCoord = 1;\n            } else {\n              // sort highest pressure first\n              this.sortForwardSegs(forwardSegs); // this segment's forwardCoord will be calculated from the backwardCoord of the\n              // highest-pressure forward segment.\n\n              this.computeFgSegForwardBack(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);\n              seg.forwardCoord = forwardSegs[0].backwardCoord;\n            } // calculate the backwardCoord from the forwardCoord. consider the series\n\n\n            seg.backwardCoord = seg.forwardCoord - (seg.forwardCoord - seriesBackwardCoord) / ( // available width for series\n            seriesBackwardPressure + 1); // # of segments in the series\n            // use this segment's coordinates to computed the coordinates of the less-pressurized\n            // forward segments\n\n            for (i = 0; i < forwardSegs.length; i++) {\n              this.computeFgSegForwardBack(forwardSegs[i], 0, seg.forwardCoord);\n            }\n          }\n        };\n\n        TimeGridEventRenderer.prototype.sortForwardSegs = function (forwardSegs) {\n          forwardSegs.sort(util_1.proxy(this, 'compareForwardSegs'));\n        }; // A cmp function for determining which forward segment to rely on more when computing coordinates.\n\n\n        TimeGridEventRenderer.prototype.compareForwardSegs = function (seg1, seg2) {\n          // put higher-pressure first\n          return seg2.forwardPressure - seg1.forwardPressure || // put segments that are closer to initial edge first (and favor ones with no coords yet)\n          (seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) || // do normal sorting...\n          this.compareEventSegs(seg1, seg2);\n        }; // Given foreground event segments that have already had their position coordinates computed,\n        // assigns position-related CSS values to their elements.\n\n\n        TimeGridEventRenderer.prototype.assignFgSegHorizontals = function (segs) {\n          var i;\n          var seg;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            seg.el.css(this.generateFgSegHorizontalCss(seg)); // if the event is short that the title will be cut off,\n            // attach a className that condenses the title into the time area.\n\n            if (seg.footprint.eventDef.title && seg.bottom - seg.top < 30) {\n              seg.el.addClass('fc-short'); // TODO: \"condensed\" is a better name\n            }\n          }\n        }; // Generates an object with CSS properties/values that should be applied to an event segment element.\n        // Contains important positioning-related properties that should be applied to any event element, customized or not.\n\n\n        TimeGridEventRenderer.prototype.generateFgSegHorizontalCss = function (seg) {\n          var shouldOverlap = this.opt('slotEventOverlap');\n          var backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n\n          var forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n\n          var props = this.timeGrid.generateSegVerticalCss(seg); // get top/bottom first\n\n          var isRTL = this.timeGrid.isRTL;\n          var left; // amount of space from left edge, a fraction of the total width\n\n          var right; // amount of space from right edge, a fraction of the total width\n\n          if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n          }\n\n          if (isRTL) {\n            left = 1 - forwardCoord;\n            right = backwardCoord;\n          } else {\n            left = backwardCoord;\n            right = 1 - forwardCoord;\n          }\n\n          props.zIndex = seg.level + 1; // convert from 0-base to 1-based\n\n          props.left = left * 100 + '%';\n          props.right = right * 100 + '%';\n\n          if (shouldOverlap && seg.forwardPressure) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRTL ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n          }\n\n          return props;\n        };\n\n        return TimeGridEventRenderer;\n      }(EventRenderer_1.default);\n\n      exports.default = TimeGridEventRenderer; // Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n      // left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\n\n      function buildSlotSegLevels(segs) {\n        var levels = [];\n        var i;\n        var seg;\n        var j;\n\n        for (i = 0; i < segs.length; i++) {\n          seg = segs[i]; // go through all the levels and stop on the first level where there are no collisions\n\n          for (j = 0; j < levels.length; j++) {\n            if (!computeSlotSegCollisions(seg, levels[j]).length) {\n              break;\n            }\n          }\n\n          seg.level = j;\n          (levels[j] || (levels[j] = [])).push(seg);\n        }\n\n        return levels;\n      } // For every segment, figure out the other segments that are in subsequent\n      // levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\n\n\n      function computeForwardSlotSegs(levels) {\n        var i;\n        var level;\n        var j;\n        var seg;\n        var k;\n\n        for (i = 0; i < levels.length; i++) {\n          level = levels[i];\n\n          for (j = 0; j < level.length; j++) {\n            seg = level[j];\n            seg.forwardSegs = [];\n\n            for (k = i + 1; k < levels.length; k++) {\n              computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n            }\n          }\n        }\n      } // Figure out which path forward (via seg.forwardSegs) results in the longest path until\n      // the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\n\n\n      function computeSlotSegPressures(seg) {\n        var forwardSegs = seg.forwardSegs;\n        var forwardPressure = 0;\n        var i;\n        var forwardSeg;\n\n        if (seg.forwardPressure === undefined) {\n          // not already computed\n          for (i = 0; i < forwardSegs.length; i++) {\n            forwardSeg = forwardSegs[i]; // figure out the child's maximum forward path\n\n            computeSlotSegPressures(forwardSeg); // either use the existing maximum, or use the child's forward pressure\n            // plus one (for the forwardSeg itself)\n\n            forwardPressure = Math.max(forwardPressure, 1 + forwardSeg.forwardPressure);\n          }\n\n          seg.forwardPressure = forwardPressure;\n        }\n      } // Find all the segments in `otherSegs` that vertically collide with `seg`.\n      // Append into an optionally-supplied `results` array and return.\n\n\n      function computeSlotSegCollisions(seg, otherSegs, results) {\n        if (results === void 0) {\n          results = [];\n        }\n\n        for (var i = 0; i < otherSegs.length; i++) {\n          if (isSlotSegCollision(seg, otherSegs[i])) {\n            results.push(otherSegs[i]);\n          }\n        }\n\n        return results;\n      } // Do these segments occupy the same vertical space?\n\n\n      function isSlotSegCollision(seg1, seg2) {\n        return seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n      }\n      /***/\n\n    },\n    /* 241 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var HelperRenderer_1 = __webpack_require__(63);\n\n      var TimeGridHelperRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(TimeGridHelperRenderer, _super);\n\n        function TimeGridHelperRenderer() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TimeGridHelperRenderer.prototype.renderSegs = function (segs, sourceSeg) {\n          var helperNodes = [];\n          var i;\n          var seg;\n          var sourceEl; // TODO: not good to call eventRenderer this way\n\n          this.eventRenderer.renderFgSegsIntoContainers(segs, this.component.helperContainerEls); // Try to make the segment that is in the same row as sourceSeg look the same\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n\n            if (sourceSeg && sourceSeg.col === seg.col) {\n              sourceEl = sourceSeg.el;\n              seg.el.css({\n                left: sourceEl.css('left'),\n                right: sourceEl.css('right'),\n                'margin-left': sourceEl.css('margin-left'),\n                'margin-right': sourceEl.css('margin-right')\n              });\n            }\n\n            helperNodes.push(seg.el[0]);\n          }\n\n          return $(helperNodes); // must return the elements rendered\n        };\n\n        return TimeGridHelperRenderer;\n      }(HelperRenderer_1.default);\n\n      exports.default = TimeGridHelperRenderer;\n      /***/\n    },\n    /* 242 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var FillRenderer_1 = __webpack_require__(62);\n\n      var TimeGridFillRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(TimeGridFillRenderer, _super);\n\n        function TimeGridFillRenderer() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TimeGridFillRenderer.prototype.attachSegEls = function (type, segs) {\n          var timeGrid = this.component;\n          var containerEls; // TODO: more efficient lookup\n\n          if (type === 'bgEvent') {\n            containerEls = timeGrid.bgContainerEls;\n          } else if (type === 'businessHours') {\n            containerEls = timeGrid.businessContainerEls;\n          } else if (type === 'highlight') {\n            containerEls = timeGrid.highlightContainerEls;\n          }\n\n          timeGrid.updateSegVerticals(segs);\n          timeGrid.attachSegsByCol(timeGrid.groupSegsByCol(segs), containerEls);\n          return segs.map(function (seg) {\n            return seg.el[0];\n          });\n        };\n\n        return TimeGridFillRenderer;\n      }(FillRenderer_1.default);\n\n      exports.default = TimeGridFillRenderer;\n      /***/\n    },\n    /* 243 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventRenderer_1 = __webpack_require__(44);\n      /* Event-rendering methods for the DayGrid class\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n\n      var DayGridEventRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DayGridEventRenderer, _super);\n\n        function DayGridEventRenderer(dayGrid, fillRenderer) {\n          var _this = _super.call(this, dayGrid, fillRenderer) || this;\n\n          _this.dayGrid = dayGrid;\n          return _this;\n        }\n\n        DayGridEventRenderer.prototype.renderBgRanges = function (eventRanges) {\n          // don't render timed background events\n          eventRanges = $.grep(eventRanges, function (eventRange) {\n            return eventRange.eventDef.isAllDay();\n          });\n\n          _super.prototype.renderBgRanges.call(this, eventRanges);\n        }; // Renders the given foreground event segments onto the grid\n\n\n        DayGridEventRenderer.prototype.renderFgSegs = function (segs) {\n          var rowStructs = this.rowStructs = this.renderSegRows(segs); // append to each row's content skeleton\n\n          this.dayGrid.rowEls.each(function (i, rowNode) {\n            $(rowNode).find('.fc-content-skeleton > table').append(rowStructs[i].tbodyEl);\n          });\n        }; // Unrenders all currently rendered foreground event segments\n\n\n        DayGridEventRenderer.prototype.unrenderFgSegs = function () {\n          var rowStructs = this.rowStructs || [];\n          var rowStruct;\n\n          while (rowStruct = rowStructs.pop()) {\n            rowStruct.tbodyEl.remove();\n          }\n\n          this.rowStructs = null;\n        }; // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n        // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n        // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n\n\n        DayGridEventRenderer.prototype.renderSegRows = function (segs) {\n          var rowStructs = [];\n          var segRows;\n          var row;\n          segRows = this.groupSegRows(segs); // group into nested arrays\n          // iterate each row of segment groupings\n\n          for (row = 0; row < segRows.length; row++) {\n            rowStructs.push(this.renderSegRow(row, segRows[row]));\n          }\n\n          return rowStructs;\n        }; // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n        // the segments. Returns object with a bunch of internal data about how the render was calculated.\n        // NOTE: modifies rowSegs\n\n\n        DayGridEventRenderer.prototype.renderSegRow = function (row, rowSegs) {\n          var colCnt = this.dayGrid.colCnt;\n          var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n\n          var levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n\n          var tbody = $('<tbody/>');\n          var segMatrix = []; // lookup for which segments are rendered into which level+col cells\n\n          var cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n\n          var loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n\n          var i;\n          var levelSegs;\n          var col;\n          var tr;\n          var j;\n          var seg;\n          var td; // populates empty cells from the current column (`col`) to `endCol`\n\n          function emptyCellsUntil(endCol) {\n            while (col < endCol) {\n              // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n              td = (loneCellMatrix[i - 1] || [])[col];\n\n              if (td) {\n                td.attr('rowspan', parseInt(td.attr('rowspan') || 1, 10) + 1);\n              } else {\n                td = $('<td/>');\n                tr.append(td);\n              }\n\n              cellMatrix[i][col] = td;\n              loneCellMatrix[i][col] = td;\n              col++;\n            }\n          }\n\n          for (i = 0; i < levelCnt; i++) {\n            // iterate through all levels\n            levelSegs = segLevels[i];\n            col = 0;\n            tr = $('<tr/>');\n            segMatrix.push([]);\n            cellMatrix.push([]);\n            loneCellMatrix.push([]); // levelCnt might be 1 even though there are no actual levels. protect against this.\n            // this single empty row is useful for styling.\n\n            if (levelSegs) {\n              for (j = 0; j < levelSegs.length; j++) {\n                // iterate through segments in level\n                seg = levelSegs[j];\n                emptyCellsUntil(seg.leftCol); // create a container that occupies or more columns. append the event element.\n\n                td = $('<td class=\"fc-event-container\"/>').append(seg.el);\n\n                if (seg.leftCol !== seg.rightCol) {\n                  td.attr('colspan', seg.rightCol - seg.leftCol + 1);\n                } else {\n                  // a single-column segment\n                  loneCellMatrix[i][col] = td;\n                }\n\n                while (col <= seg.rightCol) {\n                  cellMatrix[i][col] = td;\n                  segMatrix[i][col] = seg;\n                  col++;\n                }\n\n                tr.append(td);\n              }\n            }\n\n            emptyCellsUntil(colCnt); // finish off the row\n\n            this.dayGrid.bookendCells(tr);\n            tbody.append(tr);\n          }\n\n          return {\n            row: row,\n            tbodyEl: tbody,\n            cellMatrix: cellMatrix,\n            segMatrix: segMatrix,\n            segLevels: segLevels,\n            segs: rowSegs\n          };\n        }; // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n        // NOTE: modifies segs\n\n\n        DayGridEventRenderer.prototype.buildSegLevels = function (segs) {\n          var levels = [];\n          var i;\n          var seg;\n          var j; // Give preference to elements with certain criteria, so they have\n          // a chance to be closer to the top.\n\n          this.sortEventSegs(segs);\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i]; // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n\n            for (j = 0; j < levels.length; j++) {\n              if (!isDaySegCollision(seg, levels[j])) {\n                break;\n              }\n            } // `j` now holds the desired subrow index\n\n\n            seg.level = j; // create new level array if needed and append segment\n\n            (levels[j] || (levels[j] = [])).push(seg);\n          } // order segments left-to-right. very important if calendar is RTL\n\n\n          for (j = 0; j < levels.length; j++) {\n            levels[j].sort(compareDaySegCols);\n          }\n\n          return levels;\n        }; // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n\n\n        DayGridEventRenderer.prototype.groupSegRows = function (segs) {\n          var segRows = [];\n          var i;\n\n          for (i = 0; i < this.dayGrid.rowCnt; i++) {\n            segRows.push([]);\n          }\n\n          for (i = 0; i < segs.length; i++) {\n            segRows[segs[i].row].push(segs[i]);\n          }\n\n          return segRows;\n        }; // Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\n\n        DayGridEventRenderer.prototype.computeEventTimeFormat = function () {\n          return this.opt('extraSmallTimeFormat'); // like \"6p\" or \"6:30p\"\n        }; // Computes a default `displayEventEnd` value if one is not expliclty defined\n\n\n        DayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n          return this.dayGrid.colCnt === 1; // we'll likely have space if there's only one day\n        }; // Builds the HTML to be used for the default element for an individual segment\n\n\n        DayGridEventRenderer.prototype.fgSegHtml = function (seg, disableResizing) {\n          var view = this.view;\n          var eventDef = seg.footprint.eventDef;\n          var isAllDay = seg.footprint.componentFootprint.isAllDay;\n          var isDraggable = view.isEventDefDraggable(eventDef);\n          var isResizableFromStart = !disableResizing && isAllDay && seg.isStart && view.isEventDefResizableFromStart(eventDef);\n          var isResizableFromEnd = !disableResizing && isAllDay && seg.isEnd && view.isEventDefResizableFromEnd(eventDef);\n          var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n          var skinCss = util_1.cssToStr(this.getSkinCss(eventDef));\n          var timeHtml = '';\n          var timeText;\n          var titleHtml;\n          classes.unshift('fc-day-grid-event', 'fc-h-event'); // Only display a timed events time if it is the starting segment\n\n          if (seg.isStart) {\n            timeText = this.getTimeText(seg.footprint);\n\n            if (timeText) {\n              timeHtml = '<span class=\"fc-time\">' + util_1.htmlEscape(timeText) + '</span>';\n            }\n          }\n\n          titleHtml = '<span class=\"fc-title\">' + (util_1.htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\n          '</span>';\n          return '<a class=\"' + classes.join(' ') + '\"' + (eventDef.url ? ' href=\"' + util_1.htmlEscape(eventDef.url) + '\"' : '') + (skinCss ? ' style=\"' + skinCss + '\"' : '') + '>' + '<div class=\"fc-content\">' + (this.dayGrid.isRTL ? titleHtml + ' ' + timeHtml : // put a natural space in between\n          timeHtml + ' ' + titleHtml //\n          ) + '</div>' + (isResizableFromStart ? '<div class=\"fc-resizer fc-start-resizer\" />' : '') + (isResizableFromEnd ? '<div class=\"fc-resizer fc-end-resizer\" />' : '') + '</a>';\n        };\n\n        return DayGridEventRenderer;\n      }(EventRenderer_1.default);\n\n      exports.default = DayGridEventRenderer; // Computes whether two segments' columns collide. They are assumed to be in the same row.\n\n      function isDaySegCollision(seg, otherSegs) {\n        var i;\n        var otherSeg;\n\n        for (i = 0; i < otherSegs.length; i++) {\n          otherSeg = otherSegs[i];\n\n          if (otherSeg.leftCol <= seg.rightCol && otherSeg.rightCol >= seg.leftCol) {\n            return true;\n          }\n        }\n\n        return false;\n      } // A cmp function for determining the leftmost event\n\n\n      function compareDaySegCols(a, b) {\n        return a.leftCol - b.leftCol;\n      }\n      /***/\n\n    },\n    /* 244 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var HelperRenderer_1 = __webpack_require__(63);\n\n      var DayGridHelperRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DayGridHelperRenderer, _super);\n\n        function DayGridHelperRenderer() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // Renders a mock \"helper\" event. `sourceSeg` is the associated internal segment object. It can be null.\n\n\n        DayGridHelperRenderer.prototype.renderSegs = function (segs, sourceSeg) {\n          var helperNodes = [];\n          var rowStructs; // TODO: not good to call eventRenderer this way\n\n          rowStructs = this.eventRenderer.renderSegRows(segs); // inject each new event skeleton into each associated row\n\n          this.component.rowEls.each(function (row, rowNode) {\n            var rowEl = $(rowNode); // the .fc-row\n\n            var skeletonEl = $('<div class=\"fc-helper-skeleton\"><table/></div>'); // will be absolutely positioned\n\n            var skeletonTopEl;\n            var skeletonTop; // If there is an original segment, match the top position. Otherwise, put it at the row's top level\n\n            if (sourceSeg && sourceSeg.row === row) {\n              skeletonTop = sourceSeg.el.position().top;\n            } else {\n              skeletonTopEl = rowEl.find('.fc-content-skeleton tbody');\n\n              if (!skeletonTopEl.length) {\n                // when no events\n                skeletonTopEl = rowEl.find('.fc-content-skeleton table');\n              }\n\n              skeletonTop = skeletonTopEl.position().top;\n            }\n\n            skeletonEl.css('top', skeletonTop).find('table').append(rowStructs[row].tbodyEl);\n            rowEl.append(skeletonEl);\n            helperNodes.push(skeletonEl[0]);\n          });\n          return $(helperNodes); // must return the elements rendered\n        };\n\n        return DayGridHelperRenderer;\n      }(HelperRenderer_1.default);\n\n      exports.default = DayGridHelperRenderer;\n      /***/\n    },\n    /* 245 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var FillRenderer_1 = __webpack_require__(62);\n\n      var DayGridFillRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(DayGridFillRenderer, _super);\n\n        function DayGridFillRenderer() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.fillSegTag = 'td'; // override the default tag name\n\n          return _this;\n        }\n\n        DayGridFillRenderer.prototype.attachSegEls = function (type, segs) {\n          var nodes = [];\n          var i;\n          var seg;\n          var skeletonEl;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            skeletonEl = this.renderFillRow(type, seg);\n            this.component.rowEls.eq(seg.row).append(skeletonEl);\n            nodes.push(skeletonEl[0]);\n          }\n\n          return nodes;\n        }; // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n\n\n        DayGridFillRenderer.prototype.renderFillRow = function (type, seg) {\n          var colCnt = this.component.colCnt;\n          var startCol = seg.leftCol;\n          var endCol = seg.rightCol + 1;\n          var className;\n          var skeletonEl;\n          var trEl;\n\n          if (type === 'businessHours') {\n            className = 'bgevent';\n          } else {\n            className = type.toLowerCase();\n          }\n\n          skeletonEl = $('<div class=\"fc-' + className + '-skeleton\">' + '<table><tr/></table>' + '</div>');\n          trEl = skeletonEl.find('tr');\n\n          if (startCol > 0) {\n            trEl.append( // will create (startCol + 1) td's\n            new Array(startCol + 1).join('<td/>'));\n          }\n\n          trEl.append(seg.el.attr('colspan', endCol - startCol));\n\n          if (endCol < colCnt) {\n            trEl.append( // will create (colCnt - endCol) td's\n            new Array(colCnt - endCol + 1).join('<td/>'));\n          }\n\n          this.component.bookendCells(trEl);\n          return skeletonEl;\n        };\n\n        return DayGridFillRenderer;\n      }(FillRenderer_1.default);\n\n      exports.default = DayGridFillRenderer;\n      /***/\n    },\n    /* 246 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var moment = __webpack_require__(0);\n\n      var util_1 = __webpack_require__(4);\n\n      var BasicView_1 = __webpack_require__(67);\n\n      var MonthViewDateProfileGenerator_1 = __webpack_require__(247);\n      /* A month view with day cells running in rows (one-per-week) and columns\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n\n      var MonthView =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(MonthView, _super);\n\n        function MonthView() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // Overrides the default BasicView behavior to have special multi-week auto-height logic\n\n\n        MonthView.prototype.setGridHeight = function (height, isAuto) {\n          // if auto, make the height of each row the height that it would be if there were 6 weeks\n          if (isAuto) {\n            height *= this.dayGrid.rowCnt / 6;\n          }\n\n          util_1.distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n        };\n\n        MonthView.prototype.isDateInOtherMonth = function (date, dateProfile) {\n          return date.month() !== moment.utc(dateProfile.currentUnzonedRange.startMs).month(); // TODO: optimize\n        };\n\n        return MonthView;\n      }(BasicView_1.default);\n\n      exports.default = MonthView;\n      MonthView.prototype.dateProfileGeneratorClass = MonthViewDateProfileGenerator_1.default;\n      /***/\n    },\n    /* 247 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var BasicViewDateProfileGenerator_1 = __webpack_require__(68);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var MonthViewDateProfileGenerator =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(MonthViewDateProfileGenerator, _super);\n\n        function MonthViewDateProfileGenerator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // Computes the date range that will be rendered.\n\n\n        MonthViewDateProfileGenerator.prototype.buildRenderRange = function (currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\n          var renderUnzonedRange = _super.prototype.buildRenderRange.call(this, currentUnzonedRange, currentRangeUnit, isRangeAllDay);\n\n          var start = this.msToUtcMoment(renderUnzonedRange.startMs, isRangeAllDay);\n          var end = this.msToUtcMoment(renderUnzonedRange.endMs, isRangeAllDay);\n          var rowCnt; // ensure 6 weeks\n\n          if (this.opt('fixedWeekCount')) {\n            rowCnt = Math.ceil( // could be partial weeks due to hiddenDays\n            end.diff(start, 'weeks', true) // dontRound=true\n            );\n            end.add(6 - rowCnt, 'weeks');\n          }\n\n          return new UnzonedRange_1.default(start, end);\n        };\n\n        return MonthViewDateProfileGenerator;\n      }(BasicViewDateProfileGenerator_1.default);\n\n      exports.default = MonthViewDateProfileGenerator;\n      /***/\n    },\n    /* 248 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var UnzonedRange_1 = __webpack_require__(5);\n\n      var View_1 = __webpack_require__(43);\n\n      var Scroller_1 = __webpack_require__(41);\n\n      var ListEventRenderer_1 = __webpack_require__(249);\n\n      var ListEventPointing_1 = __webpack_require__(250);\n      /*\r\n      Responsible for the scroller, and forwarding event-related actions into the \"grid\".\r\n      */\n\n\n      var ListView =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ListView, _super);\n\n        function ListView(calendar, viewSpec) {\n          var _this = _super.call(this, calendar, viewSpec) || this;\n\n          _this.segSelector = '.fc-list-item'; // which elements accept event actions\n\n          _this.scroller = new Scroller_1.default({\n            overflowX: 'hidden',\n            overflowY: 'auto'\n          });\n          return _this;\n        }\n\n        ListView.prototype.renderSkeleton = function () {\n          this.el.addClass('fc-list-view ' + this.calendar.theme.getClass('listView'));\n          this.scroller.render();\n          this.scroller.el.appendTo(this.el);\n          this.contentEl = this.scroller.scrollEl; // shortcut\n        };\n\n        ListView.prototype.unrenderSkeleton = function () {\n          this.scroller.destroy(); // will remove the Grid too\n        };\n\n        ListView.prototype.updateSize = function (totalHeight, isAuto, isResize) {\n          _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\n\n          this.scroller.clear(); // sets height to 'auto' and clears overflow\n\n          if (!isAuto) {\n            this.scroller.setHeight(this.computeScrollerHeight(totalHeight));\n          }\n        };\n\n        ListView.prototype.computeScrollerHeight = function (totalHeight) {\n          return totalHeight - util_1.subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\n        };\n\n        ListView.prototype.renderDates = function (dateProfile) {\n          var calendar = this.calendar;\n          var dayStart = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.startMs, true);\n          var viewEnd = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.endMs, true);\n          var dayDates = [];\n          var dayRanges = [];\n\n          while (dayStart < viewEnd) {\n            dayDates.push(dayStart.clone());\n            dayRanges.push(new UnzonedRange_1.default(dayStart, dayStart.clone().add(1, 'day')));\n            dayStart.add(1, 'day');\n          }\n\n          this.dayDates = dayDates;\n          this.dayRanges = dayRanges; // all real rendering happens in EventRenderer\n        }; // slices by day\n\n\n        ListView.prototype.componentFootprintToSegs = function (footprint) {\n          var dayRanges = this.dayRanges;\n          var dayIndex;\n          var segRange;\n          var seg;\n          var segs = [];\n\n          for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex++) {\n            segRange = footprint.unzonedRange.intersect(dayRanges[dayIndex]);\n\n            if (segRange) {\n              seg = {\n                startMs: segRange.startMs,\n                endMs: segRange.endMs,\n                isStart: segRange.isStart,\n                isEnd: segRange.isEnd,\n                dayIndex: dayIndex\n              };\n              segs.push(seg); // detect when footprint won't go fully into the next day,\n              // and mutate the latest seg to the be the end.\n\n              if (!seg.isEnd && !footprint.isAllDay && dayIndex + 1 < dayRanges.length && footprint.unzonedRange.endMs < dayRanges[dayIndex + 1].startMs + this.nextDayThreshold) {\n                seg.endMs = footprint.unzonedRange.endMs;\n                seg.isEnd = true;\n                break;\n              }\n            }\n          }\n\n          return segs;\n        };\n\n        ListView.prototype.renderEmptyMessage = function () {\n          this.contentEl.html('<div class=\"fc-list-empty-wrap2\">' + // TODO: try less wraps\n          '<div class=\"fc-list-empty-wrap1\">' + '<div class=\"fc-list-empty\">' + util_1.htmlEscape(this.opt('noEventsMessage')) + '</div>' + '</div>' + '</div>');\n        }; // render the event segments in the view\n\n\n        ListView.prototype.renderSegList = function (allSegs) {\n          var segsByDay = this.groupSegsByDay(allSegs); // sparse array\n\n          var dayIndex;\n          var daySegs;\n          var i;\n          var tableEl = $('<table class=\"fc-list-table ' + this.calendar.theme.getClass('tableList') + '\"><tbody/></table>');\n          var tbodyEl = tableEl.find('tbody');\n\n          for (dayIndex = 0; dayIndex < segsByDay.length; dayIndex++) {\n            daySegs = segsByDay[dayIndex];\n\n            if (daySegs) {\n              // sparse array, so might be undefined\n              // append a day header\n              tbodyEl.append(this.dayHeaderHtml(this.dayDates[dayIndex]));\n              this.eventRenderer.sortEventSegs(daySegs);\n\n              for (i = 0; i < daySegs.length; i++) {\n                tbodyEl.append(daySegs[i].el); // append event row\n              }\n            }\n          }\n\n          this.contentEl.empty().append(tableEl);\n        }; // Returns a sparse array of arrays, segs grouped by their dayIndex\n\n\n        ListView.prototype.groupSegsByDay = function (segs) {\n          var segsByDay = []; // sparse array\n\n          var i;\n          var seg;\n\n          for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = [])).push(seg);\n          }\n\n          return segsByDay;\n        }; // generates the HTML for the day headers that live amongst the event rows\n\n\n        ListView.prototype.dayHeaderHtml = function (dayDate) {\n          var mainFormat = this.opt('listDayFormat');\n          var altFormat = this.opt('listDayAltFormat');\n          return '<tr class=\"fc-list-heading\" data-date=\"' + dayDate.format('YYYY-MM-DD') + '\">' + '<td class=\"' + (this.calendar.theme.getClass('tableListHeading') || this.calendar.theme.getClass('widgetHeader')) + '\" colspan=\"3\">' + (mainFormat ? this.buildGotoAnchorHtml(dayDate, {\n            'class': 'fc-list-heading-main'\n          }, util_1.htmlEscape(dayDate.format(mainFormat)) // inner HTML\n          ) : '') + (altFormat ? this.buildGotoAnchorHtml(dayDate, {\n            'class': 'fc-list-heading-alt'\n          }, util_1.htmlEscape(dayDate.format(altFormat)) // inner HTML\n          ) : '') + '</td>' + '</tr>';\n        };\n\n        return ListView;\n      }(View_1.default);\n\n      exports.default = ListView;\n      ListView.prototype.eventRendererClass = ListEventRenderer_1.default;\n      ListView.prototype.eventPointingClass = ListEventPointing_1.default;\n      /***/\n    },\n    /* 249 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var util_1 = __webpack_require__(4);\n\n      var EventRenderer_1 = __webpack_require__(44);\n\n      var ListEventRenderer =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ListEventRenderer, _super);\n\n        function ListEventRenderer() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ListEventRenderer.prototype.renderFgSegs = function (segs) {\n          if (!segs.length) {\n            this.component.renderEmptyMessage();\n          } else {\n            this.component.renderSegList(segs);\n          }\n        }; // generates the HTML for a single event row\n\n\n        ListEventRenderer.prototype.fgSegHtml = function (seg) {\n          var view = this.view;\n          var calendar = view.calendar;\n          var theme = calendar.theme;\n          var eventFootprint = seg.footprint;\n          var eventDef = eventFootprint.eventDef;\n          var componentFootprint = eventFootprint.componentFootprint;\n          var url = eventDef.url;\n          var classes = ['fc-list-item'].concat(this.getClasses(eventDef));\n          var bgColor = this.getBgColor(eventDef);\n          var timeHtml;\n\n          if (componentFootprint.isAllDay) {\n            timeHtml = view.getAllDayHtml();\n          } else if (view.isMultiDayRange(componentFootprint.unzonedRange)) {\n            if (seg.isStart || seg.isEnd) {\n              // outer segment that probably lasts part of the day\n              timeHtml = util_1.htmlEscape(this._getTimeText(calendar.msToMoment(seg.startMs), calendar.msToMoment(seg.endMs), componentFootprint.isAllDay));\n            } else {\n              // inner segment that lasts the whole day\n              timeHtml = view.getAllDayHtml();\n            }\n          } else {\n            // Display the normal time text for the *event's* times\n            timeHtml = util_1.htmlEscape(this.getTimeText(eventFootprint));\n          }\n\n          if (url) {\n            classes.push('fc-has-url');\n          }\n\n          return '<tr class=\"' + classes.join(' ') + '\">' + (this.displayEventTime ? '<td class=\"fc-list-item-time ' + theme.getClass('widgetContent') + '\">' + (timeHtml || '') + '</td>' : '') + '<td class=\"fc-list-item-marker ' + theme.getClass('widgetContent') + '\">' + '<span class=\"fc-event-dot\"' + (bgColor ? ' style=\"background-color:' + bgColor + '\"' : '') + '></span>' + '</td>' + '<td class=\"fc-list-item-title ' + theme.getClass('widgetContent') + '\">' + '<a' + (url ? ' href=\"' + util_1.htmlEscape(url) + '\"' : '') + '>' + util_1.htmlEscape(eventDef.title || '') + '</a>' + '</td>' + '</tr>';\n        }; // like \"4:00am\"\n\n\n        ListEventRenderer.prototype.computeEventTimeFormat = function () {\n          return this.opt('mediumTimeFormat');\n        };\n\n        return ListEventRenderer;\n      }(EventRenderer_1.default);\n\n      exports.default = ListEventRenderer;\n      /***/\n    },\n    /* 250 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var EventPointing_1 = __webpack_require__(64);\n\n      var ListEventPointing =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(ListEventPointing, _super);\n\n        function ListEventPointing() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        } // for events with a url, the whole <tr> should be clickable,\n        // but it's impossible to wrap with an <a> tag. simulate this.\n\n\n        ListEventPointing.prototype.handleClick = function (seg, ev) {\n          var url;\n\n          _super.prototype.handleClick.call(this, seg, ev); // might prevent the default action\n          // not clicking on or within an <a> with an href\n\n\n          if (!$(ev.target).closest('a[href]').length) {\n            url = seg.footprint.eventDef.url;\n\n            if (url && !ev.isDefaultPrevented()) {\n              // jsEvent not cancelled in handler\n              window.location.href = url; // simulate link click\n            }\n          }\n        };\n\n        return ListEventPointing;\n      }(EventPointing_1.default);\n\n      exports.default = ListEventPointing;\n      /***/\n    },,,,,,\n    /* 251 */\n\n    /* 252 */\n\n    /* 253 */\n\n    /* 254 */\n\n    /* 255 */\n\n    /* 256 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var $ = __webpack_require__(3);\n\n      var exportHooks = __webpack_require__(18);\n\n      var util_1 = __webpack_require__(4);\n\n      var Calendar_1 = __webpack_require__(232); // for intentional side-effects\n\n\n      __webpack_require__(11);\n\n      __webpack_require__(49);\n\n      __webpack_require__(260);\n\n      __webpack_require__(261);\n\n      __webpack_require__(264);\n\n      __webpack_require__(265);\n\n      __webpack_require__(266);\n\n      __webpack_require__(267);\n\n      $.fullCalendar = exportHooks;\n\n      $.fn.fullCalendar = function (options) {\n        var args = Array.prototype.slice.call(arguments, 1); // for a possible method call\n\n        var res = this; // what this function will return (this jQuery object by default)\n\n        this.each(function (i, _element) {\n          var element = $(_element);\n          var calendar = element.data('fullCalendar'); // get the existing calendar object (if any)\n\n          var singleRes; // the returned value of this single method call\n          // a method call\n\n          if (typeof options === 'string') {\n            if (options === 'getCalendar') {\n              if (!i) {\n                // first element only\n                res = calendar;\n              }\n            } else if (options === 'destroy') {\n              // don't warn if no calendar object\n              if (calendar) {\n                calendar.destroy();\n                element.removeData('fullCalendar');\n              }\n            } else if (!calendar) {\n              util_1.warn('Attempting to call a FullCalendar method on an element with no calendar.');\n            } else if ($.isFunction(calendar[options])) {\n              singleRes = calendar[options].apply(calendar, args);\n\n              if (!i) {\n                res = singleRes; // record the first method call result\n              }\n\n              if (options === 'destroy') {\n                // for the destroy method, must remove Calendar object data\n                element.removeData('fullCalendar');\n              }\n            } else {\n              util_1.warn(\"'\" + options + \"' is an unknown FullCalendar method.\");\n            }\n          } else if (!calendar) {\n            // don't initialize twice\n            calendar = new Calendar_1.default(element, options);\n            element.data('fullCalendar', calendar);\n            calendar.render();\n          }\n        });\n        return res;\n      };\n\n      module.exports = exportHooks;\n      /***/\n    },\n    /* 257 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n      /* Toolbar with buttons and title\r\n      ----------------------------------------------------------------------------------------------------------------------*/\n\n\n      var Toolbar =\n      /** @class */\n      function () {\n        function Toolbar(calendar, toolbarOptions) {\n          this.el = null; // mirrors local `el`\n\n          this.viewsWithButtons = [];\n          this.calendar = calendar;\n          this.toolbarOptions = toolbarOptions;\n        } // method to update toolbar-specific options, not calendar-wide options\n\n\n        Toolbar.prototype.setToolbarOptions = function (newToolbarOptions) {\n          this.toolbarOptions = newToolbarOptions;\n        }; // can be called repeatedly and will rerender\n\n\n        Toolbar.prototype.render = function () {\n          var sections = this.toolbarOptions.layout;\n          var el = this.el;\n\n          if (sections) {\n            if (!el) {\n              el = this.el = $(\"<div class='fc-toolbar \" + this.toolbarOptions.extraClasses + \"'/>\");\n            } else {\n              el.empty();\n            }\n\n            el.append(this.renderSection('left')).append(this.renderSection('right')).append(this.renderSection('center')).append('<div class=\"fc-clear\"/>');\n          } else {\n            this.removeElement();\n          }\n        };\n\n        Toolbar.prototype.removeElement = function () {\n          if (this.el) {\n            this.el.remove();\n            this.el = null;\n          }\n        };\n\n        Toolbar.prototype.renderSection = function (position) {\n          var _this = this;\n\n          var calendar = this.calendar;\n          var theme = calendar.theme;\n          var optionsManager = calendar.optionsManager;\n          var viewSpecManager = calendar.viewSpecManager;\n          var sectionEl = $('<div class=\"fc-' + position + '\"/>');\n          var buttonStr = this.toolbarOptions.layout[position];\n          var calendarCustomButtons = optionsManager.get('customButtons') || {};\n          var calendarButtonTextOverrides = optionsManager.overrides.buttonText || {};\n          var calendarButtonText = optionsManager.get('buttonText') || {};\n\n          if (buttonStr) {\n            $.each(buttonStr.split(' '), function (i, buttonGroupStr) {\n              var groupChildren = $();\n              var isOnlyButtons = true;\n              var groupEl;\n              $.each(buttonGroupStr.split(','), function (j, buttonName) {\n                var customButtonProps;\n                var viewSpec;\n                var buttonClick;\n                var buttonIcon; // only one of these will be set\n\n                var buttonText; // \"\n\n                var buttonInnerHtml;\n                var buttonClasses;\n                var buttonEl;\n                var buttonAriaAttr;\n\n                if (buttonName === 'title') {\n                  groupChildren = groupChildren.add($('<h2>&nbsp;</h2>')); // we always want it to take up height\n\n                  isOnlyButtons = false;\n                } else {\n                  if (customButtonProps = calendarCustomButtons[buttonName]) {\n                    buttonClick = function (ev) {\n                      if (customButtonProps.click) {\n                        customButtonProps.click.call(buttonEl[0], ev);\n                      }\n                    };\n\n                    (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) || (buttonIcon = theme.getIconClass(buttonName)) || (buttonText = customButtonProps.text);\n                  } else if (viewSpec = viewSpecManager.getViewSpec(buttonName)) {\n                    _this.viewsWithButtons.push(buttonName);\n\n                    buttonClick = function () {\n                      calendar.changeView(buttonName);\n                    };\n\n                    (buttonText = viewSpec.buttonTextOverride) || (buttonIcon = theme.getIconClass(buttonName)) || (buttonText = viewSpec.buttonTextDefault);\n                  } else if (calendar[buttonName]) {\n                    // a calendar method\n                    buttonClick = function () {\n                      calendar[buttonName]();\n                    };\n\n                    (buttonText = calendarButtonTextOverrides[buttonName]) || (buttonIcon = theme.getIconClass(buttonName)) || (buttonText = calendarButtonText[buttonName]); //            ^ everything else is considered default\n                  }\n\n                  if (buttonClick) {\n                    buttonClasses = ['fc-' + buttonName + '-button', theme.getClass('button'), theme.getClass('stateDefault')];\n\n                    if (buttonText) {\n                      buttonInnerHtml = util_1.htmlEscape(buttonText);\n                      buttonAriaAttr = '';\n                    } else if (buttonIcon) {\n                      buttonInnerHtml = \"<span class='\" + buttonIcon + \"'></span>\";\n                      buttonAriaAttr = ' aria-label=\"' + buttonName + '\"';\n                    }\n\n                    buttonEl = $( // type=\"button\" so that it doesn't submit a form\n                    '<button type=\"button\" class=\"' + buttonClasses.join(' ') + '\"' + buttonAriaAttr + '>' + buttonInnerHtml + '</button>').click(function (ev) {\n                      // don't process clicks for disabled buttons\n                      if (!buttonEl.hasClass(theme.getClass('stateDisabled'))) {\n                        buttonClick(ev); // after the click action, if the button becomes the \"active\" tab, or disabled,\n                        // it should never have a hover class, so remove it now.\n\n                        if (buttonEl.hasClass(theme.getClass('stateActive')) || buttonEl.hasClass(theme.getClass('stateDisabled'))) {\n                          buttonEl.removeClass(theme.getClass('stateHover'));\n                        }\n                      }\n                    }).mousedown(function () {\n                      // the *down* effect (mouse pressed in).\n                      // only on buttons that are not the \"active\" tab, or disabled\n                      buttonEl.not('.' + theme.getClass('stateActive')).not('.' + theme.getClass('stateDisabled')).addClass(theme.getClass('stateDown'));\n                    }).mouseup(function () {\n                      // undo the *down* effect\n                      buttonEl.removeClass(theme.getClass('stateDown'));\n                    }).hover(function () {\n                      // the *hover* effect.\n                      // only on buttons that are not the \"active\" tab, or disabled\n                      buttonEl.not('.' + theme.getClass('stateActive')).not('.' + theme.getClass('stateDisabled')).addClass(theme.getClass('stateHover'));\n                    }, function () {\n                      // undo the *hover* effect\n                      buttonEl.removeClass(theme.getClass('stateHover')).removeClass(theme.getClass('stateDown')); // if mouseleave happens before mouseup\n                    });\n                    groupChildren = groupChildren.add(buttonEl);\n                  }\n                }\n              });\n\n              if (isOnlyButtons) {\n                groupChildren.first().addClass(theme.getClass('cornerLeft')).end().last().addClass(theme.getClass('cornerRight')).end();\n              }\n\n              if (groupChildren.length > 1) {\n                groupEl = $('<div/>');\n\n                if (isOnlyButtons) {\n                  groupEl.addClass(theme.getClass('buttonGroup'));\n                }\n\n                groupEl.append(groupChildren);\n                sectionEl.append(groupEl);\n              } else {\n                sectionEl.append(groupChildren); // 1 or 0 children\n              }\n            });\n          }\n\n          return sectionEl;\n        };\n\n        Toolbar.prototype.updateTitle = function (text) {\n          if (this.el) {\n            this.el.find('h2').text(text);\n          }\n        };\n\n        Toolbar.prototype.activateButton = function (buttonName) {\n          if (this.el) {\n            this.el.find('.fc-' + buttonName + '-button').addClass(this.calendar.theme.getClass('stateActive'));\n          }\n        };\n\n        Toolbar.prototype.deactivateButton = function (buttonName) {\n          if (this.el) {\n            this.el.find('.fc-' + buttonName + '-button').removeClass(this.calendar.theme.getClass('stateActive'));\n          }\n        };\n\n        Toolbar.prototype.disableButton = function (buttonName) {\n          if (this.el) {\n            this.el.find('.fc-' + buttonName + '-button').prop('disabled', true).addClass(this.calendar.theme.getClass('stateDisabled'));\n          }\n        };\n\n        Toolbar.prototype.enableButton = function (buttonName) {\n          if (this.el) {\n            this.el.find('.fc-' + buttonName + '-button').prop('disabled', false).removeClass(this.calendar.theme.getClass('stateDisabled'));\n          }\n        };\n\n        Toolbar.prototype.getViewsWithButtons = function () {\n          return this.viewsWithButtons;\n        };\n\n        return Toolbar;\n      }();\n\n      exports.default = Toolbar;\n      /***/\n    },\n    /* 258 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var $ = __webpack_require__(3);\n\n      var util_1 = __webpack_require__(4);\n\n      var options_1 = __webpack_require__(33);\n\n      var locale_1 = __webpack_require__(32);\n\n      var Model_1 = __webpack_require__(51);\n\n      var OptionsManager =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(OptionsManager, _super);\n\n        function OptionsManager(_calendar, overrides) {\n          var _this = _super.call(this) || this;\n\n          _this._calendar = _calendar;\n          _this.overrides = $.extend({}, overrides); // make a copy\n\n          _this.dynamicOverrides = {};\n\n          _this.compute();\n\n          return _this;\n        }\n\n        OptionsManager.prototype.add = function (newOptionHash) {\n          var optionCnt = 0;\n          var optionName;\n          this.recordOverrides(newOptionHash); // will trigger this model's watchers\n\n          for (optionName in newOptionHash) {\n            optionCnt++;\n          } // special-case handling of single option change.\n          // if only one option change, `optionName` will be its name.\n\n\n          if (optionCnt === 1) {\n            if (optionName === 'height' || optionName === 'contentHeight' || optionName === 'aspectRatio') {\n              this._calendar.updateViewSize(true); // isResize=true\n\n\n              return;\n            } else if (optionName === 'defaultDate') {\n              return; // can't change date this way. use gotoDate instead\n            } else if (optionName === 'businessHours') {\n              return; // this model already reacts to this\n            } else if (/^(event|select)(Overlap|Constraint|Allow)$/.test(optionName)) {\n              return; // doesn't affect rendering. only interactions.\n            } else if (optionName === 'timezone') {\n              this._calendar.view.flash('initialEvents');\n\n              return;\n            }\n          } // catch-all. rerender the header and footer and rebuild/rerender the current view\n\n\n          this._calendar.renderHeader();\n\n          this._calendar.renderFooter(); // even non-current views will be affected by this option change. do before rerender\n          // TODO: detangle\n\n\n          this._calendar.viewsByType = {};\n\n          this._calendar.reinitView();\n        }; // Computes the flattened options hash for the calendar and assigns to `this.options`.\n        // Assumes this.overrides and this.dynamicOverrides have already been initialized.\n\n\n        OptionsManager.prototype.compute = function () {\n          var locale;\n          var localeDefaults;\n          var isRTL;\n          var dirDefaults;\n          var rawOptions;\n          locale = util_1.firstDefined( // explicit locale option given?\n          this.dynamicOverrides.locale, this.overrides.locale);\n          localeDefaults = locale_1.localeOptionHash[locale];\n\n          if (!localeDefaults) {\n            // explicit locale option not given or invalid?\n            locale = options_1.globalDefaults.locale;\n            localeDefaults = locale_1.localeOptionHash[locale] || {};\n          }\n\n          isRTL = util_1.firstDefined( // based on options computed so far, is direction RTL?\n          this.dynamicOverrides.isRTL, this.overrides.isRTL, localeDefaults.isRTL, options_1.globalDefaults.isRTL);\n          dirDefaults = isRTL ? options_1.rtlDefaults : {};\n          this.dirDefaults = dirDefaults;\n          this.localeDefaults = localeDefaults;\n          rawOptions = options_1.mergeOptions([options_1.globalDefaults, dirDefaults, localeDefaults, this.overrides, this.dynamicOverrides]);\n          locale_1.populateInstanceComputableOptions(rawOptions); // fill in gaps with computed options\n\n          this.reset(rawOptions);\n        }; // stores the new options internally, but does not rerender anything.\n\n\n        OptionsManager.prototype.recordOverrides = function (newOptionHash) {\n          var optionName;\n\n          for (optionName in newOptionHash) {\n            this.dynamicOverrides[optionName] = newOptionHash[optionName];\n          }\n\n          this._calendar.viewSpecManager.clearCache(); // the dynamic override invalidates the options in this cache, so just clear it\n\n\n          this.compute(); // this.options needs to be recomputed after the dynamic override\n        };\n\n        return OptionsManager;\n      }(Model_1.default);\n\n      exports.default = OptionsManager;\n      /***/\n    },\n    /* 259 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var moment = __webpack_require__(0);\n\n      var $ = __webpack_require__(3);\n\n      var ViewRegistry_1 = __webpack_require__(24);\n\n      var util_1 = __webpack_require__(4);\n\n      var options_1 = __webpack_require__(33);\n\n      var locale_1 = __webpack_require__(32);\n\n      var ViewSpecManager =\n      /** @class */\n      function () {\n        function ViewSpecManager(optionsManager, _calendar) {\n          this.optionsManager = optionsManager;\n          this._calendar = _calendar;\n          this.clearCache();\n        }\n\n        ViewSpecManager.prototype.clearCache = function () {\n          this.viewSpecCache = {};\n        }; // Gets information about how to create a view. Will use a cache.\n\n\n        ViewSpecManager.prototype.getViewSpec = function (viewType) {\n          var cache = this.viewSpecCache;\n          return cache[viewType] || (cache[viewType] = this.buildViewSpec(viewType));\n        }; // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n        // Preference is given to views that have corresponding buttons.\n\n\n        ViewSpecManager.prototype.getUnitViewSpec = function (unit) {\n          var viewTypes;\n          var i;\n          var spec;\n\n          if ($.inArray(unit, util_1.unitsDesc) !== -1) {\n            // put views that have buttons first. there will be duplicates, but oh well\n            viewTypes = this._calendar.header.getViewsWithButtons(); // TODO: include footer as well?\n\n            $.each(ViewRegistry_1.viewHash, function (viewType) {\n              viewTypes.push(viewType);\n            });\n\n            for (i = 0; i < viewTypes.length; i++) {\n              spec = this.getViewSpec(viewTypes[i]);\n\n              if (spec) {\n                if (spec.singleUnit === unit) {\n                  return spec;\n                }\n              }\n            }\n          }\n        }; // Builds an object with information on how to create a given view\n\n\n        ViewSpecManager.prototype.buildViewSpec = function (requestedViewType) {\n          var viewOverrides = this.optionsManager.overrides.views || {};\n          var specChain = []; // for the view. lowest to highest priority\n\n          var defaultsChain = []; // for the view. lowest to highest priority\n\n          var overridesChain = []; // for the view. lowest to highest priority\n\n          var viewType = requestedViewType;\n          var spec; // for the view\n\n          var overrides; // for the view\n\n          var durationInput;\n          var duration;\n          var unit; // iterate from the specific view definition to a more general one until we hit an actual View class\n\n          while (viewType) {\n            spec = ViewRegistry_1.viewHash[viewType];\n            overrides = viewOverrides[viewType];\n            viewType = null; // clear. might repopulate for another iteration\n\n            if (typeof spec === 'function') {\n              // TODO: deprecate\n              spec = {\n                'class': spec\n              };\n            }\n\n            if (spec) {\n              specChain.unshift(spec);\n              defaultsChain.unshift(spec.defaults || {});\n              durationInput = durationInput || spec.duration;\n              viewType = viewType || spec.type;\n            }\n\n            if (overrides) {\n              overridesChain.unshift(overrides); // view-specific option hashes have options at zero-level\n\n              durationInput = durationInput || overrides.duration;\n              viewType = viewType || overrides.type;\n            }\n          }\n\n          spec = util_1.mergeProps(specChain);\n          spec.type = requestedViewType;\n\n          if (!spec['class']) {\n            return false;\n          } // fall back to top-level `duration` option\n\n\n          durationInput = durationInput || this.optionsManager.dynamicOverrides.duration || this.optionsManager.overrides.duration;\n\n          if (durationInput) {\n            duration = moment.duration(durationInput);\n\n            if (duration.valueOf()) {\n              // valid?\n              unit = util_1.computeDurationGreatestUnit(duration, durationInput);\n              spec.duration = duration;\n              spec.durationUnit = unit; // view is a single-unit duration, like \"week\" or \"day\"\n              // incorporate options for this. lowest priority\n\n              if (duration.as(unit) === 1) {\n                spec.singleUnit = unit;\n                overridesChain.unshift(viewOverrides[unit] || {});\n              }\n            }\n          }\n\n          spec.defaults = options_1.mergeOptions(defaultsChain);\n          spec.overrides = options_1.mergeOptions(overridesChain);\n          this.buildViewSpecOptions(spec);\n          this.buildViewSpecButtonText(spec, requestedViewType);\n          return spec;\n        }; // Builds and assigns a view spec's options object from its already-assigned defaults and overrides\n\n\n        ViewSpecManager.prototype.buildViewSpecOptions = function (spec) {\n          var optionsManager = this.optionsManager;\n          spec.options = options_1.mergeOptions([options_1.globalDefaults, spec.defaults, optionsManager.dirDefaults, optionsManager.localeDefaults, optionsManager.overrides, spec.overrides, optionsManager.dynamicOverrides // dynamically set via setter. highest precedence\n          ]);\n          locale_1.populateInstanceComputableOptions(spec.options);\n        }; // Computes and assigns a view spec's buttonText-related options\n\n\n        ViewSpecManager.prototype.buildViewSpecButtonText = function (spec, requestedViewType) {\n          var optionsManager = this.optionsManager; // given an options object with a possible `buttonText` hash, lookup the buttonText for the\n          // requested view, falling back to a generic unit entry like \"week\" or \"day\"\n\n          function queryButtonText(options) {\n            var buttonText = options.buttonText || {};\n            return buttonText[requestedViewType] || ( // view can decide to look up a certain key\n            spec.buttonTextKey ? buttonText[spec.buttonTextKey] : null) || ( // a key like \"month\"\n            spec.singleUnit ? buttonText[spec.singleUnit] : null);\n          } // highest to lowest priority\n\n\n          spec.buttonTextOverride = queryButtonText(optionsManager.dynamicOverrides) || queryButtonText(optionsManager.overrides) || // constructor-specified buttonText lookup hash takes precedence\n          spec.overrides.buttonText; // `buttonText` for view-specific options is a string\n          // highest to lowest priority. mirrors buildViewSpecOptions\n\n          spec.buttonTextDefault = queryButtonText(optionsManager.localeDefaults) || queryButtonText(optionsManager.dirDefaults) || spec.defaults.buttonText || // a single string. from ViewSubclass.defaults\n          queryButtonText(options_1.globalDefaults) || (spec.duration ? this._calendar.humanizeDuration(spec.duration) : null) || // like \"3 days\"\n          requestedViewType; // fall back to given view name\n        };\n\n        return ViewSpecManager;\n      }();\n\n      exports.default = ViewSpecManager;\n      /***/\n    },\n    /* 260 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventSourceParser_1 = __webpack_require__(38);\n\n      var ArrayEventSource_1 = __webpack_require__(56);\n\n      var FuncEventSource_1 = __webpack_require__(223);\n\n      var JsonFeedEventSource_1 = __webpack_require__(224);\n\n      EventSourceParser_1.default.registerClass(ArrayEventSource_1.default);\n      EventSourceParser_1.default.registerClass(FuncEventSource_1.default);\n      EventSourceParser_1.default.registerClass(JsonFeedEventSource_1.default);\n      /***/\n    },\n    /* 261 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ThemeRegistry_1 = __webpack_require__(57);\n\n      var StandardTheme_1 = __webpack_require__(221);\n\n      var JqueryUiTheme_1 = __webpack_require__(222);\n\n      var Bootstrap3Theme_1 = __webpack_require__(262);\n\n      var Bootstrap4Theme_1 = __webpack_require__(263);\n\n      ThemeRegistry_1.defineThemeSystem('standard', StandardTheme_1.default);\n      ThemeRegistry_1.defineThemeSystem('jquery-ui', JqueryUiTheme_1.default);\n      ThemeRegistry_1.defineThemeSystem('bootstrap3', Bootstrap3Theme_1.default);\n      ThemeRegistry_1.defineThemeSystem('bootstrap4', Bootstrap4Theme_1.default);\n      /***/\n    },\n    /* 262 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Theme_1 = __webpack_require__(22);\n\n      var Bootstrap3Theme =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(Bootstrap3Theme, _super);\n\n        function Bootstrap3Theme() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        return Bootstrap3Theme;\n      }(Theme_1.default);\n\n      exports.default = Bootstrap3Theme;\n      Bootstrap3Theme.prototype.classes = {\n        widget: 'fc-bootstrap3',\n        tableGrid: 'table-bordered',\n        tableList: 'table',\n        tableListHeading: 'active',\n        buttonGroup: 'btn-group',\n        button: 'btn btn-default',\n        stateActive: 'active',\n        stateDisabled: 'disabled',\n        today: 'alert alert-info',\n        popover: 'panel panel-default',\n        popoverHeader: 'panel-heading',\n        popoverContent: 'panel-body',\n        // day grid\n        // for left/right border color when border is inset from edges (all-day in agenda view)\n        // avoid `panel` class b/c don't want margins/radius. only border color.\n        headerRow: 'panel-default',\n        dayRow: 'panel-default',\n        // list view\n        listView: 'panel panel-default'\n      };\n      Bootstrap3Theme.prototype.baseIconClass = 'glyphicon';\n      Bootstrap3Theme.prototype.iconClasses = {\n        close: 'glyphicon-remove',\n        prev: 'glyphicon-chevron-left',\n        next: 'glyphicon-chevron-right',\n        prevYear: 'glyphicon-backward',\n        nextYear: 'glyphicon-forward'\n      };\n      Bootstrap3Theme.prototype.iconOverrideOption = 'bootstrapGlyphicons';\n      Bootstrap3Theme.prototype.iconOverrideCustomButtonOption = 'bootstrapGlyphicon';\n      Bootstrap3Theme.prototype.iconOverridePrefix = 'glyphicon-';\n      /***/\n    },\n    /* 263 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var tslib_1 = __webpack_require__(2);\n\n      var Theme_1 = __webpack_require__(22);\n\n      var Bootstrap4Theme =\n      /** @class */\n      function (_super) {\n        tslib_1.__extends(Bootstrap4Theme, _super);\n\n        function Bootstrap4Theme() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        return Bootstrap4Theme;\n      }(Theme_1.default);\n\n      exports.default = Bootstrap4Theme;\n      Bootstrap4Theme.prototype.classes = {\n        widget: 'fc-bootstrap4',\n        tableGrid: 'table-bordered',\n        tableList: 'table',\n        tableListHeading: 'table-active',\n        buttonGroup: 'btn-group',\n        button: 'btn btn-primary',\n        stateActive: 'active',\n        stateDisabled: 'disabled',\n        today: 'alert alert-info',\n        popover: 'card card-primary',\n        popoverHeader: 'card-header',\n        popoverContent: 'card-body',\n        // day grid\n        // for left/right border color when border is inset from edges (all-day in agenda view)\n        // avoid `table` class b/c don't want margins/padding/structure. only border color.\n        headerRow: 'table-bordered',\n        dayRow: 'table-bordered',\n        // list view\n        listView: 'card card-primary'\n      };\n      Bootstrap4Theme.prototype.baseIconClass = 'fa';\n      Bootstrap4Theme.prototype.iconClasses = {\n        close: 'fa-times',\n        prev: 'fa-chevron-left',\n        next: 'fa-chevron-right',\n        prevYear: 'fa-angle-double-left',\n        nextYear: 'fa-angle-double-right'\n      };\n      Bootstrap4Theme.prototype.iconOverrideOption = 'bootstrapFontAwesome';\n      Bootstrap4Theme.prototype.iconOverrideCustomButtonOption = 'bootstrapFontAwesome';\n      Bootstrap4Theme.prototype.iconOverridePrefix = 'fa-';\n      /***/\n    },\n    /* 264 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ViewRegistry_1 = __webpack_require__(24);\n\n      var BasicView_1 = __webpack_require__(67);\n\n      var MonthView_1 = __webpack_require__(246);\n\n      ViewRegistry_1.defineView('basic', {\n        'class': BasicView_1.default\n      });\n      ViewRegistry_1.defineView('basicDay', {\n        type: 'basic',\n        duration: {\n          days: 1\n        }\n      });\n      ViewRegistry_1.defineView('basicWeek', {\n        type: 'basic',\n        duration: {\n          weeks: 1\n        }\n      });\n      ViewRegistry_1.defineView('month', {\n        'class': MonthView_1.default,\n        duration: {\n          months: 1\n        },\n        defaults: {\n          fixedWeekCount: true\n        }\n      });\n      /***/\n    },\n    /* 265 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ViewRegistry_1 = __webpack_require__(24);\n\n      var AgendaView_1 = __webpack_require__(238);\n\n      ViewRegistry_1.defineView('agenda', {\n        'class': AgendaView_1.default,\n        defaults: {\n          allDaySlot: true,\n          slotDuration: '00:30:00',\n          slotEventOverlap: true // a bad name. confused with overlap/constraint system\n\n        }\n      });\n      ViewRegistry_1.defineView('agendaDay', {\n        type: 'agenda',\n        duration: {\n          days: 1\n        }\n      });\n      ViewRegistry_1.defineView('agendaWeek', {\n        type: 'agenda',\n        duration: {\n          weeks: 1\n        }\n      });\n      /***/\n    },\n    /* 266 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ViewRegistry_1 = __webpack_require__(24);\n\n      var ListView_1 = __webpack_require__(248);\n\n      ViewRegistry_1.defineView('list', {\n        'class': ListView_1.default,\n        buttonTextKey: 'list',\n        defaults: {\n          buttonText: 'list',\n          listDayFormat: 'LL',\n          noEventsMessage: 'No events to display'\n        }\n      });\n      ViewRegistry_1.defineView('listDay', {\n        type: 'list',\n        duration: {\n          days: 1\n        },\n        defaults: {\n          listDayFormat: 'dddd' // day-of-week is all we need. full date is probably in header\n\n        }\n      });\n      ViewRegistry_1.defineView('listWeek', {\n        type: 'list',\n        duration: {\n          weeks: 1\n        },\n        defaults: {\n          listDayFormat: 'dddd',\n          listDayAltFormat: 'LL'\n        }\n      });\n      ViewRegistry_1.defineView('listMonth', {\n        type: 'list',\n        duration: {\n          month: 1\n        },\n        defaults: {\n          listDayAltFormat: 'dddd' // day-of-week is nice-to-have\n\n        }\n      });\n      ViewRegistry_1.defineView('listYear', {\n        type: 'list',\n        duration: {\n          year: 1\n        },\n        defaults: {\n          listDayAltFormat: 'dddd' // day-of-week is nice-to-have\n\n        }\n      });\n      /***/\n    },\n    /* 267 */\n\n    /***/\n    function (module, exports) {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["C:/Users/Arij/projects/theone/Client/node_modules/fullcalendar/dist/fullcalendar.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_3__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","extendStatics","setPrototypeOf","__proto__","Array","b","__extends","__","constructor","create","value","moment","$","compensateScroll","rowEls","scrollbarWidths","left","css","right","uncompensateScroll","disableCursor","addClass","enableCursor","removeClass","distributeHeight","els","availableHeight","shouldRedistribute","minOffset1","Math","floor","length","minOffset2","flexEls","flexOffsets","flexHeights","usedHeight","undistributeHeight","each","el","minOffset","naturalOffset","outerHeight","push","height","naturalHeight","newHeight","matchCellWidths","maxInnerWidth","find","innerEl","innerWidth","outerWidth","width","subtractInnerElHeight","outerEl","both","add","diff","position","getScrollParent","scrollParent","parents","filter","parent","test","eq","ownerDocument","document","getOuterRect","origin","offset","top","bottom","getClientRect","getScrollbarWidths","getCssFloat","clientWidth","clientHeight","getContentRect","leftRightWidth","offsetWidth","bottomWidth","offsetHeight","widths","sanitizeScrollbarWidth","getIsLeftRtlScrollbars","max","round","_isLeftRtlScrollbars","computeIsLeftRtlScrollbars","border","padding","overflow","direction","appendTo","children","res","remove","prop","parseFloat","isPrimaryMouseButton","ev","which","ctrlKey","getEvX","touches","originalEvent","pageX","getEvY","pageY","getEvIsTouch","type","preventSelection","on","preventDefault","allowSelection","off","intersectRects","rect1","rect2","min","constrainPoint","point","rect","getRectCenter","diffPoints","point1","point2","parseFieldSpecs","input","specs","tokens","token","split","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj1","obj2","fieldSpecs","obj1fallback","obj2fallback","cmp","compareByFieldSpec","fieldSpec","val1","val2","flexibleCompare","a","String","localeCompare","dayIDs","unitsDesc","diffDayTime","duration","days","clone","stripTime","ms","time","diffDay","diffByUnit","unit","computeGreatestUnit","start","end","val","computeRangeAs","isInt","computeDurationGreatestUnit","durationInput","isDuration","as","divideRangeByDuration","dur","months","durationHasTime","asMonths","abs","asDays","divideDurationByDuration","dur1","dur2","months1","months2","multiplyDuration","Boolean","hours","minutes","seconds","milliseconds","isNativeDate","toString","Date","isTimeString","str","log","args","_i","arguments","console","window","apply","warn","hasOwnPropMethod","mergeProps","propObjs","complexProps","dest","complexObjs","j","props","unshift","undefined","copyOwnProps","src","name_1","hasOwnProp","obj","applyAll","functions","thisObj","isFunction","ret","removeMatching","array","testFunc","removeCnt","splice","removeExact","exactVal","isArraysEqual","a0","a1","len","firstDefined","htmlEscape","replace","stripHtmlEntities","text","cssToStr","cssProps","statements","join","attrsToStr","attrs","parts","capitaliseFirstLetter","toUpperCase","slice","compareNumbers","proxy","methodName","method","debounce","wait","immediate","timeout","context","timestamp","result","later","last","setTimeout","callNow","moment_ext_1","UnzonedRange","startInput","endInput","isStart","isEnd","isMoment","stripZone","startMs","valueOf","endMs","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareUnzonedRanges","intersect","otherRange","newRange","intersectsWith","containsRange","innerRange","containsDate","date","constrainDate","equals","range","getStart","default","utc","getEnd","range1","range2","tslib_1","ParsableModelMixin_1","Class_1","EventDefParser_1","EventSource","_super","calendar","_this","className","uid","uuid","parse","rawInput","source","applyProps","normalizeId","id","fetch","timezone","removeEventDefsById","eventDefId","removeAllEventDefs","getPrimitive","otherSource","parseEventDefs","rawEventDefs","eventDef","eventDefs","parseEventDef","calendarTransform","opt","sourceTransform","eventDataTransform","applyManualStandardProps","rawProps","defineStandardProps","copyVerbatimStandardProps","mixInto","color","backgroundColor","borderColor","textColor","editable","startEditable","durationEditable","rendering","overlap","constraint","allDayDefault","Mixin_1","guid","ListenerMixin","listenTo","other","arg","callback","eventName","getListenerNamespace","stopListeningTo","listenerId","EventDef_1","EventInstance_1","EventDateProfile_1","SingleEventDef","buildInstances","buildInstance","dateProfile","isAllDay","def","rezone","superSuccess","miscProps","allDay","util_1","ambigDateOfMonthRegex","ambigTimeOrZoneRegex","newMomentProto","fn","oldMomentProto","extend","momentProperties","oldMomentFormat","mom","formatStr","format","momentExt","makeMoment","hasTime","parseZone","parseAsUTC","isSingleString","isAmbigTime","isAmbigZone","ambigMatch","exec","_ambigTime","_ambigZone","utcOffset","_fullCalendar","week","weeks","weekCalc","_locale","_fullCalendar_weekCalc","isoWeek","dayHours","set","wasAmbigTime","hasZone","local","keepLocalTime","tzo","ComponentFootprint","unzonedRange","toLegacy","msToMoment","EmitterMixin","types","handler","_prepareIntercept","one","intercept","extra","trigger","triggerHandler","triggerWith","hasHandlers","hash","_data","Interaction","component","view","_getView","Mixin","destClass","getOwnPropertyNames","forEach","mixOver","UnzonedRange_1","EventDateProfile","buildUnzonedRange","forcedAllDay","forceEventDuration","isValid","isAfter","getDefaultEventEnd","isStandardProp","propName","DragListener_1","HitDragListener","options","handleInteractionStart","subjectEl","subjectRect","origPoint","hitsNeeded","computeScrollBounds","origHit","queryHit","subjectCenter","coordAdjust","handleDragStart","hit","handleHitOver","handleDrag","dx","dy","isHitsEqual","handleHitOut","handleDragEnd","handleHitDone","isOrig","handleInteractionEnd","isCancelled","hitsNotNeeded","handleScrollEnd","isDragging","releaseHits","prepareHits","hit0","hit1","isHitPropsWithin","subHit","superHit","version","internalApiVersion","date_formatting_1","formatDate","formatRange","queryMostGranularFormatUnit","locale_1","datepickerLocale","locale","getMomentLocaleData","populateInstanceComputableOptions","util_2","eventDefsToEventInstances","eventFootprintToComponentFootprint","eventInstanceToEventRange","eventInstanceToUnzonedRange","eventRangeToEventFootprint","EmitterMixin_1","ListenerMixin_1","Model_1","Model","Constraints_1","Constraints","DateProfileGenerator_1","DateProfileGenerator","ComponentFootprint_1","BusinessHourGenerator_1","BusinessHourGenerator","EventPeriod_1","EventPeriod","EventManager_1","EventManager","EventDef","EventDefMutation_1","EventDefMutation","EventDefParser","EventInstance","EventRange_1","EventRange","RecurringEventDef_1","RecurringEventDef","SingleEventDef_1","EventDefDateMutation_1","EventDefDateMutation","EventSourceParser_1","EventSourceParser","EventSource_1","ThemeRegistry_1","defineThemeSystem","getThemeSystemClass","EventInstanceGroup_1","EventInstanceGroup","ArrayEventSource_1","ArrayEventSource","FuncEventSource_1","FuncEventSource","JsonFeedEventSource_1","JsonFeedEventSource","EventFootprint_1","EventFootprint","Class","CoordCache_1","CoordCache","Iterator_1","Iterator","DragListener","HitDragListener_1","MouseFollower_1","MouseFollower","ParsableModelMixin","Popover_1","Popover","Promise_1","Promise","TaskQueue_1","TaskQueue","RenderQueue_1","RenderQueue","Scroller_1","Scroller","Theme_1","Theme","Component_1","Component","DateComponent_1","DateComponent","InteractiveDateComponent_1","InteractiveDateComponent","Calendar_1","Calendar","View_1","View","ViewRegistry_1","defineView","getViewConfig","DayTableMixin_1","DayTableMixin","BusinessHourRenderer_1","BusinessHourRenderer","EventRenderer_1","EventRenderer","FillRenderer_1","FillRenderer","HelperRenderer_1","HelperRenderer","ExternalDropping_1","ExternalDropping","EventResizing_1","EventResizing","EventPointing_1","EventPointing","EventDragging_1","EventDragging","DateSelecting_1","DateSelecting","DateClicking_1","DateClicking","Interaction_1","StandardInteractionsMixin_1","StandardInteractionsMixin","AgendaView_1","AgendaView","TimeGrid_1","TimeGrid","TimeGridEventRenderer_1","TimeGridEventRenderer","TimeGridFillRenderer_1","TimeGridFillRenderer","TimeGridHelperRenderer_1","TimeGridHelperRenderer","DayGrid_1","DayGrid","DayGridEventRenderer_1","DayGridEventRenderer","DayGridFillRenderer_1","DayGridFillRenderer","DayGridHelperRenderer_1","DayGridHelperRenderer","BasicView_1","BasicView","BasicViewDateProfileGenerator_1","BasicViewDateProfileGenerator","MonthView_1","MonthView","MonthViewDateProfileGenerator_1","MonthViewDateProfileGenerator","ListView_1","ListView","ListEventPointing_1","ListEventPointing","ListEventRenderer_1","ListEventRenderer","eventInstances","eventInstance","eventRange","eventFootprint","componentFootprint","getAllEventRanges","sliceNormalRenderRanges","map","sliceRenderRanges","isInverse","sliceInverseRenderRanges","slicedRange","slicedEventRanges","unzonedRanges","ownerDef","getEventDef","hasInverseRendering","explicitEventDef","PromiseStub","construct","executor","deferred","Deferred","promise","resolve","attachImmediatelyResolvingThen","reject","attachImmediatelyRejectingThen","then","onResolve","onReject","optionsManager","processIconOverride","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","isPlainObject","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","indexOf","getClass","key","classes","getIconClass","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","exportHooks","touchMouseIgnoreWait","globalEmitter","neededCount","GlobalEmitter","isTouching","mouseIgnoreDepth","bind","needed","unneeded","unbind","touchstart","handleTouchStart","touchcancel","handleTouchCancel","touchend","handleTouchEnd","mousedown","handleMouseDown","mousemove","handleMouseMove","mouseup","handleMouseUp","click","handleClick","selectstart","handleSelectStart","contextmenu","handleContextMenu","addEventListener","handleTouchMoveProxy","handleTouchMove","Event","passive","handleScrollProxy","handleScroll","removeEventListener","stopTouch","shouldIgnoreMouse","skipMouseIgnore","startTouchMouseIgnore","viewHash","views","viewName","viewConfig","options_1","localeOptionHash","locales","dpComputableOptions","buttonText","dpOptions","prev","prevText","next","nextText","today","currentText","monthYearFormat","showMonthAfterYear","yearSuffix","momComputableOptions","dayOfMonthFormat","momOptions","fcOptions","longDateFormat","isRTL","mediumTimeFormat","smallTimeFormat","extraSmallTimeFormat","hourFormat","noMeridiemTimeFormat","instanceComputableOptions","smallDayDateFormat","weekFormat","weekNumberTitle","smallWeekFormat","localeCode","dpLocaleCode","weekHeader","jqDatePicker","datepicker","regional","en","setDefaults","newFcOptions","mergeOptions","globalDefaults","localeData","englishDefaults","titleRangeSeparator","defaultTimedEventDuration","defaultAllDayEventDuration","nextDayThreshold","columnHeader","defaultView","aspectRatio","header","center","weekends","weekNumbers","weekNumberCalculation","scrollTime","minTime","maxTime","showNonCurrentDates","lazyFetching","startParam","endParam","timezoneParam","prevYear","nextYear","year","month","day","allDayText","agendaEventMinHeight","theme","dragOpacity","dragRevertDuration","dragScroll","unselectAuto","dropAccept","eventOrder","eventLimit","eventLimitText","eventLimitClick","dayPopoverFormat","handleWindowResize","windowResizeDelay","longPressDelay","rtlDefaults","buttonIcons","themeButtonIcons","complexOptions","optionObjs","getEventLegacy","members","SubClass","mixin","eventInput","generateId","copy","rawId","getRendering","hasBgRendering","getConstraint","getOverlap","isStartExplicitlyEditable","isDurationExplicitlyEditable","isExplicitlyEditable","_id","applyMiscProps","title","url","sourceClasses","registerClass","EventSourceClass","eventSource","createFromRawProps","largeUnit","dateProps","standardProps","verbatimStandardProps","dateMutation","defMutation","createFromDiff","mutateSingle","origDateProfile","buildNewDateProfile","setDateMutation","isEmpty","clearEnd","forceTimed","forceAllDay","dateProfile0","dateProfile1","dateDelta","endDiff","endDelta","mutation","subtractDates","date1","date0","subtract","setDateDelta","setEndDelta","eventDateProfile","shouldRezone","startDelta","applyTimezone","setStartDelta","overflowX","overflowY","render","renderEl","applyOverflow","scrollEl","clear","setHeight","destroy","lockOverflow","scrollWidth","scrollHeight","getScrollTop","scrollTop","setScrollTop","getClientWidth","getClientHeight","GlobalEmitter_1","_view","_options","segSelector","dateSelectingClass","dateClicking","dateClickingClass","dateSelecting","eventPointingClass","eventPointing","eventDraggingClass","eventDragging","eventResizingClass","eventResizing","externalDroppingClass","externalDropping","setElement","bindToEl","bindAllSegHandlersToEl","removeElement","endInteractions","executeEventUnrender","bindGlobalHandlers","bindToDocument","unbindGlobalHandlers","unbindFromDocument","bindDateHandlerToEl","target","is","eventInteraction","bindSegHandlerToEl","segEl","currentTarget","seg","data","shouldIgnoreEventPointing","shouldIgnoreTouch","isSelected","selectedEvent","isResizing","canStartSelection","canStartResize","isEventDefDraggable","footprint","isEventDefResizable","canStartDrag","isEventDefSelected","interaction","isEventDefStartEditable","isEditable","isEventDefGenerallyEditable","isEventDefResizableFromStart","isEventDefResizableFromEnd","isResizable","diffDates","isEventInstanceGroupAllowed","eventInstanceGroup","eventFootprints","eventRangesToEventFootprints","validUnzonedRange","constraints","isExternalInstanceGroupAllowed","isSelectionFootprintAllowed","viewSpec","batchRenderDepth","initRenderQueue","initHiddenDays","dateProfileGenerator","dateProfileGeneratorClass","bindBaseRenderHandlers","eventOrderSpecs","renderQueue","event","onRenderQueueStart","onRenderQueueStop","startBatchRender","stopBatchRender","freezeContentHeight","addScroll","queryScroll","updateViewSize","popScroll","thawContentHeight","pause","resume","requestRender","namespace","actionType","queue","whenSizeUpdated","isRunning","computeTitle","currentRangeUnit","currentUnzonedRange","activeUnzonedRange","isRangeAllDay","computeTitleFormat","setDate","currentDateProfile","newDateProfile","build","unsetDate","unset","fetchInitialEvents","usesMinMaxTime","requestEvents","bindEventChanges","resetEvents","unbindEventChanges","setEvents","eventsPayload","unsetEvents","requestDateRender","executeDateRender","requestDateUnrender","executeDateUnrender","isDateInit","startNowIndicator","unselect","stopNowIndicator","triggerViewRender","triggerViewDestroy","publiclyTrigger","requestEventsRender","executeEventRender","triggerAfterEventsRendered","requestEventsUnrender","triggerBeforeEventsDestroyed","requestBusinessHoursRender","businessHourGenerator","renderBusinessHours","requestBusinessHoursUnrender","unrenderBusinessHours","processUnselect","handleDocumentMousedown","update","delay","getNowIndicatorUnit","initialNowDate","getNow","initialNowQueriedMs","startOf","nowIndicatorTimeoutID","nowIndicatorIntervalID","setInterval","updateNowIndicator","isDatesRendered","unrenderNowIndicator","renderNowIndicator","isNowIndicatorRendered","clearTimeout","clearInterval","updateSize","totalHeight","isAuto","isResize","scroll","queuedScroll","applyQueuedScroll","applyScroll","queryDateScroll","computeInitialDateScroll","applyDateScroll","reportEventDrop","eventMutation","eventManager","undoFunc","mutateEventsWithId","triggerEventDrop","reportExternalDrop","singleEventDef","isEvent","isSticky","ui","addEventDef","triggerExternalDrop","reportEventResize","resizeDelta","triggerEventResize","select","renderSelectionFootprint","reportSelection","triggerSelect","footprintToDateProfile","unrenderSelection","selectEventInstance","selectedEventInstance","unselectEventInstance","getEventSegs","processRangeUnselect","processEventUnselect","ignore","closest","triggerBaseRendered","triggerBaseUnrendered","triggerDayClick","dayEl","isDateInOtherMonth","getUnzonedRangeOption","parseUnzonedRange","hiddenDays","isHiddenDayHash","dayCnt","inArray","Error","trimHiddenDays","inputUnzonedRange","skipHiddenDays","isHiddenDay","inc","isExclusive","out","watch","deps","initialEvents","intervalStart","intervalEnd","fillRenderer","rangeUpdated","displayEventTime","displayEventEnd","eventTimeFormat","computeEventTimeFormat","computeDisplayEventTime","computeDisplayEventEnd","_getDateProfile","instanceGroup","eventRanges","bgRanges","fgRanges","renderBgRanges","renderFgRanges","unrender","unrenderBgRanges","unrenderFgRanges","segs","eventFootprintsToSegs","renderFgSegEls","renderFgSegs","fgSegs","unrenderFgSegs","renderBgSegs","bgSegs","unrenderBgSegs","getSegs","concat","renderSegs","getClasses","getBgClasses","getCss","getBgColor","filterEl","filterEventRenderEl","disableResizing","hasEventRenderHandlers","hasPublicHandlers","html","renderedSegs","beforeFgSegHtml","fgSegHtml","node","getSegClasses","isDraggable","legacy","custom","getTimeText","displayEnd","_getTimeText","classNames","objs","getStylingObjs","eventClassName","getSkinCss","getBorderColor","getTextColor","eventBackgroundColor","eventColor","eventBorderColor","eventTextColor","getFallbackStylingObjs","sortEventSegs","compareEventSegs","seg1","seg2","f1","f2","cf1","cf2","r1","r2","englishMoment","toISOString","PART_SEPARATOR","SPECIAL_TOKEN_MARKER","MAYBE_MARKER","MAYBE_REGEXP","RegExp","specialTokens","t","T","largeTokenMap","Y","M","W","w","D","renderFakeFormatString","getParsedFormatString","fakeFormatString","date2","separator","renderParsedFormat","parsedFormat","sameUnits","unzonedDate1","unzonedDate2","renderedParts1","renderFakeFormatStringParts","renderedParts2","leftI","leftStr","rightI","rightStr","middleI","middleStr1","middleStr2","middleStr","isSame","processMaybeMarkers","parsedFormatStrCache","parseFormatString","chunks","chunkFormatString","buildFakeFormatString","buildSameUnits","match","chunker","splitStringLiteral","maybe","chunk","units","tokenInfo","fakeRender","fakeParts","fakePart","m0","m1","candidate","best","_watchers","_props","applyGlobalWatchers","constructed","_globalWatchArgs","has","newProps","setProps","reset","oldProps","changeset","names","changedProps","changedCnt","depList","startFunc","stopFunc","unwatch","_watchDeps","watcher","teardown","queuedChangeCnt","depCnt","satisfyCnt","values","bindTuples","isCallingStop","onBeforeDepChange","depName","isOptional","onDepChange","flash","propDefs","proto","standardPropMap","manualProps","startTime","endTime","unzonedDate","unzonedEnd","zonedDayStart","instanceStart","instanceEnd","instances","isBefore","dowHash","setDow","dowNumbers","dow","msToUtcMoment","buildPrev","prevDate","dateIncrement","buildNext","nextDate","forceToValid","isDateAllDay","currentInfo","renderUnzonedRange","buildValidRange","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","dayCount","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","alignment","dateIncrementInput","dateIncrementDuration","computeRes","customAlignment","runningCount","visibleUnzonedRange","fallback","events","setRawEventDefs","currentTimezone","StandardTheme_1","JqueryUiTheme_1","themeClassHash","themeName","themeClass","themeSetting","isHorizontal","isVertical","forcedOffsetParentEl","offsetParent","offsetParentEl","boundingRect","queryBoundingRect","buildElHorizontals","buildElVerticals","lefts","rights","tops","bottoms","ensureBuilt","getHorizontalIndex","leftOffset","getVerticalIndex","topOffset","getLeftOffset","leftIndex","getLeftPosition","getRightOffset","getRightPosition","getWidth","getTopOffset","topIndex","getTopPosition","getBottomOffset","getBottomPosition","getHeight","scrollParentEl","isPointInBounds","isLeftInBounds","isTopInBounds","isInteracting","isDistanceSurpassed","isDelayEnded","isTouch","isGeneric","shouldCancelTouchScroll","scrollAlwaysKills","isAutoScroll","scrollSensitivity","scrollSpeed","scrollIntervalMs","startInteraction","extraOptions","minDistance","distance","originX","originY","bindHandlers","initAutoScroll","startDelay","handleDistanceSurpassed","endInteraction","endDrag","delayTimeoutId","destroyAutoScroll","unbindHandlers","drag","handleMove","dragstop","touchmove","handleTouchScroll","startDrag","distanceSq","updateAutoScroll","initialEv","handleDelayEnd","handleDebouncedScroll","endAutoScroll","scrollBounds","sensitivity","bounds","topCloseness","bottomCloseness","leftCloseness","rightCloseness","topVel","leftVel","setScrollVel","scrollTopVel","scrollLeftVel","constrainScrollVel","scrollIntervalId","scrollLeft","scrollIntervalFunc","frac","updateDayTable","dayIndex","dayIndices","dayDates","daysPerRow","firstDay","rowCnt","breakOnWeeks","ceil","updateDayTableCols","colCnt","computeColCnt","colHeadFormat","computeColHeadFormat","getCellDate","row","col","getCellDayIndex","getCellRange","getColDayIndex","getDateDayIndex","dayOffset","sliceRangeByRow","normalRange","computeDayRange","rangeFirst","rangeLast","rowFirst","rowLast","segFirst","segLast","firstRowDayIndex","lastRowDayIndex","sliceRangeByDay","renderHeadHtml","renderHeadTrHtml","renderHeadIntroHtml","renderIntroHtml","renderHeadDateCellsHtml","htmls","renderHeadDateCellHtml","colspan","otherAttrs","isDateValid","innerHtml","getDayClasses","buildGotoAnchorHtml","forceOff","renderBgTrHtml","renderBgIntroHtml","renderBgCellsHtml","renderBgCellHtml","bookendCells","trEl","introHtml","append","prepend","buildEventInstanceGroup","hasAllDayBusinessHours","renderEventFootprints","fillSegTag","elsByFill","renderFootprint","componentFootprintToSegs","buildSegEls","attachSegEls","reportEls","buildSegHtml","nodes","eventRenderer","renderComponentFootprint","fabricateEventFootprint","renderEventDraggingFootprints","sourceSeg","renderEventResizingFootprints","extraClassNames","opacity","helperEls","dummyEvent","dummyInstance","handleMouseover","handleMouseout","mousedOverSeg","cellWeekNumbersVisible","bottomCoordPadding","isRigid","leftCol","rightCol","renderDates","renderGrid","unrenderDates","removeSegPopover","headContainerEl","renderDayRowHtml","cellEls","rowCoordCache","colCoordCache","getCellEl","getIsNumbersVisible","renderNumberTrHtml","getIsDayNumbersVisible","renderNumberIntroHtml","renderNumberCellsHtml","renderNumberCellHtml","isDayNumberVisible","weekCalcFirstDoW","firstDayOfWeek","getCellHit","getHitFootprint","getHitEl","getOwnEventSegs","popoverSegs","renderDrag","renderHighlight","helperRenderer","unrenderDrag","unrenderHighlight","renderEventResize","unrenderEventResize","segPopover","hide","limitRows","levelLimit","rowStructs","rowLevelLimit","unlimitRow","computeRowLevelLimit","limitRow","rowEl","rowHeight","trEls","tbodyEl","trHeight","iterInnerHeights","childNode","rowStruct","moreNodes","levelSegs","cellMatrix","limitedNodes","segsBelow","totalSegsBelow","colSegsBelow","td","rowspan","segMoreNodes","moreTd","moreWrap","moreLink","emptyCellsUntil","endCol","getCellSegs","renderMoreLink","segLevels","attr","after","moreEls","limitedEls","hiddenSegs","getMoreLinkText","clickOption","moreEl","allSegs","reslicedAllSegs","resliceDaySegs","reslicedHiddenSegs","showSegPopover","zoomTo","topEl","content","renderSegPopoverContent","parentEl","autoHide","viewportConstrain","triggerBeforeEventSegsDestroyed","show","triggerAfterEventSegsRendered","segContainer","dayDate","dayStart","dayEnd","dayRange","newSegs","num","startLevel","segMatrix","level","eventRendererClass","businessHourRendererClass","helperRendererClass","fillRendererClass","dayGrid","instantiateDayGrid","hasRigidRows","colWeekNumbersVisible","addChild","scroller","subclass","makeDayGridSubclass","dayGridClass","renderSkeleton","dayGridContainerEl","dayGridEl","renderSkeletonHtml","unrenderSkeleton","weekNumberStyleAttr","weekNumberWidth","headRowEl","scrollerHeight","computeScrollerHeight","setGridHeight","SuperClass","weekStart","weekday","_calendar","peerEventInstances","getPeerEventInstances","peerEventRanges","peerEventFootprints","constraintVal","overlapVal","eventAllowFunc","isFootprintAllowed","getEventInstancesWithoutId","getEventInstances","selectAllowFunc","subjectEventInstance","constraintFootprints","overlapEventFootprints","constraintValToFootprints","isFootprintWithinConstraints","collectOverlapEventFootprints","isOverlapsAllowedByFunc","isOverlapEventInstancesAllowed","footprintContainsFootprint","buildCurrentBusinessFootprints","parseEventDefToInstances","parseFootprints","eventInstancesToFootprints","getEventInstancesWithId","targetFootprint","footprintsIntersect","currentPeriod","eventRangeToEventFootprints","outerFootprint","innerFootprint","footprint0","footprint1","overlapFunc","subjectLegacyInstance","overlapEventInstance","overlapEventDef","BUSINESS_HOUR_EVENT_DEFAULTS","rawComplexDef","buildEventDefs","rawDefs","requireDow","defs","buildEventDef","rawDef","fullRawDef","pendingCnt","freezeDepth","stuntedReleaseCnt","releaseCnt","requestsByUid","eventDefsByUid","eventDefsById","eventInstanceGroupsById","isWithinRange","requestSources","sources","freeze","requestSource","thaw","request","status","addEventDefs","tryRelease","purgeSource","removeEventDef","purgeAllSources","completedCnt","getEventDefByUid","eventDefUid","getEventDefsById","addEventInstance","isEmptyObject","removeEventInstancesForDef","matchingInstances","currentEventInstance","release","whenReleased","stickySource","otherSources","force","setPeriod","addSource","removeSource","doomedSource","removeAllSources","refetchSource","refetchAllSources","getSources","multiQuerySources","matchInputs","matchingSources","querySources","matchInput","getSourceById","grep","isSourcesEquivalent","eventPeriod","unbindPeriod","bindPeriod","eventId","eventDefMutation","undoFuncs","buildMutatedEventInstanceGroup","defCopy","allInstances","source0","source1","StandardTheme","widget","widgetHeader","widgetContent","buttonGroup","button","cornerLeft","cornerRight","stateDefault","stateActive","stateDisabled","stateHover","stateDown","popoverHeader","popoverContent","headerRow","dayRow","listView","close","JqueryUiTheme","pushLoading","popLoading","ajaxSettings","onSuccess","success","onError","error","requestParams","buildRequestParams","ajax","AJAX_DEFAULTS","xhr","callbackRes","statusText","errorThrown","customRequestParams","params","dataType","cache","items","proxyCall","results","item","sourceEl","isFollowing","isHidden","isAnimating","y0","x0","topDelta","leftDelta","updatePosition","stop","shouldRevert","revertDuration","complete","top0","left0","animate","getEl","additionalClass","visibility","display","margin","zIndex","sourceOffset","documentMousedown","windowEl","viewportEl","viewportTop","viewportLeft","viewportOffset","q","isPaused","tryStart","getIsIdle","canRunNext","runRemaining","task","shift","runTask","waitsByNamespace","taskFunc","waitMs","waitNamespace","delayWait","clearWait","compoundTask","startWait","spawnWait","waitId","newTask","shouldAppend","hitsNeededDepth","childrenByUid","businessHourRenderer","child","removeChild","callChildren","_getCalendar","convertEventsPayloadToLegacyArray","getBusinessHourSegs","getOwnBusinessHourSegs","iterChildren","showEventsWithId","hideEventsWithId","renderedHelper","getSafeHitFootprint","eventFootprintToSegs","gotoOptions","finalOptions","JSON","stringify","getAllDayHtml","noThemeHighlight","currentRangeAs","startDay","endTimeMS","endDay","isMultiDayRange","legacyEvents","Toolbar_1","OptionsManager_1","ViewSpecManager_1","overrides","loadingLevel","ignoreUpdateViewSize","freezeContentHeightDepth","viewsByType","viewSpecManager","initMomentInternals","initCurrentDate","initEventManager","getView","triggerInfo","optHandler","option","newOptionHash","instantiateView","viewType","spec","getViewSpec","isValidViewType","changeView","dateOrRange","recordOverrides","visibleRange","currentDate","renderView","newDate","getUnitViewSpec","defaultDateInput","prevInfo","nextInfo","gotoDate","zonedDateInput","incrementDate","delta","getDate","contentEl","initialRender","elementVisible","calcSize","anchorEl","customAction","opts","themeSystem","widgetClass","businessHours","toggleClass","prependTo","initToolbars","renderHeader","renderFooter","resize","windowResizeProxy","windowResize","clearView","toolbarsManager","bindViewHandlers","setToolbarsTitle","updateToolbarButtons","unbindViewHandlers","oldView","newView","currentView","reinitView","getSuggestedViewHeight","suggestedViewHeight","isHeightAuto","_calcSize","contentHeightInput","heightInput","queryToolbarsHeight","forceFreezeContentHeight","computeHeaderOptions","footer","computeFooterOptions","extraClasses","layout","setToolbarOptions","now","todayInfo","reduce","accumulator","toolbar","toolbarHeight","zonedStartInput","zonedEndInput","buildSelectFootprint","_week","monthNames","_months","monthNamesShort","_monthsShort","dayNames","_weekdays","dayNamesShort","_weekdaysShort","localizeMoment","getIsAmbigTimezone","zonedDate","toArray","timeAdjust","asMilliseconds","adjustedZonedDate","ignoreEnd","humanizeDuration","humanize","rangeInput","rawSources","singleRawSource","rawSource","getEventEnd","zonedStart","rerenderEvents","refetchEvents","renderEvents","eventInputs","renderEvent","removeEvents","legacyQuery","legacyInstances","idMap","filterLegacyEventInstances","clientEvents","legacyEventInstances","updateEvents","eventPropsArray","updateEvent","eventProps","getEventSources","getEventSourceById","addEventSource","sourceInput","removeEventSources","sourceMultiQuery","removeEventSource","sourceQuery","refetchEventSources","defaults","legacyEventInstance","dragListener","dragstart","sortstart","accept","listenToExternalDrag","meta","getDraggedElMeta","interactionStart","hitOver","isAllowed","hitFootprint","mutatedEventInstanceGroup","computeExternalDrop","hitOut","hitDone","interactionEnd","stick","dataAttrPrefix","buildDragListener","resizeMutation","dragStart","segResizeStart","origHitFootprint","computeEventStartResizeMutation","computeEventEndResizeMutation","segResizeStop","startFootprint","endFootprint","origEventFootprint","origRange","getSelectionDelay","handleMousedown","settings","buildSelectListener","mouseFollower","segDragStart","origFootprint","computeEventDropMutation","segDragStop","computeEventDateMutation","getDelay","selectionFootprint","computeSelection","wholeFootprint","computeSelectionFootprint","dayClickHit","AGENDA_ALL_DAY_EVENT_LIMIT","agendaTimeGridMethods","agendaDayGridMethods","timeGrid","instantiateTimeGrid","timeGridClass","timeGridWrapEl","timeGridEl","axisStyleAttr","axisWidth","colEls","noScrollRowEls","bottomRuleEl","getTotalSlatHeight","computeTimeTop","dayEventsPayload","timedEventsPayload","groups","groupEventFootprintsByAllDay","timed","weekText","AGENDA_STOCK_SUB_DURATIONS","processOptions","sliceRangeByTimes","segRange","dayRanges","slotDuration","snapDuration","snapsPerSlot","labelFormat","labelInterval","computeLabelInterval","slotsPerLabel","renderSlats","renderColumns","unrenderColumns","slatContainerEl","renderSlatRowHtml","slatEls","slatCoordCache","slotTime","slotIterator","slotDate","isLabeled","axisHtml","renderContentSkeleton","unrenderContentSkeleton","cellHtml","skeletonEl","contentSkeletonEl","colContainerEls","helperContainerEls","fgContainerEls","bgContainerEls","highlightContainerEls","businessContainerEls","groupSegsByCol","segsByCol","attachSegsByCol","containerEls","computeDateTop","nowIndicatorEls","updateSegVerticals","businessSegs","startOfDayDate","slatCoverage","slatIndex","slatRemainder","computeSegVerticals","assignSegVerticals","eventMinHeight","generateSegVerticalCss","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapTop","snapBottom","snap","computeSnapTime","renderFgSegsIntoContainers","updateFgSegCoords","isResizableFromStart","isResizableFromEnd","skinCss","timeText","fullTimeText","startTimeText","zonedEnd","computeFgSegHorizontals","assignFgSegHorizontals","levels","level0","buildSlotSegLevels","computeForwardSlotSegs","computeSlotSegPressures","computeFgSegForwardBack","seriesBackwardPressure","seriesBackwardCoord","forwardSegs","forwardCoord","sortForwardSegs","backwardCoord","compareForwardSegs","forwardPressure","generateFgSegHorizontalCss","shouldOverlap","computeSlotSegCollisions","k","forwardSeg","otherSegs","isSlotSegCollision","helperNodes","renderSegRows","rowNode","pop","segRows","groupSegRows","renderSegRow","rowSegs","buildSegLevels","levelCnt","tbody","loneCellMatrix","tr","parseInt","isDaySegCollision","compareDaySegCols","timeHtml","titleHtml","otherSeg","skeletonTopEl","skeletonTop","renderFillRow","startCol","toLowerCase","viewEnd","renderEmptyMessage","renderSegList","segsByDay","groupSegsByDay","daySegs","tableEl","dayHeaderHtml","empty","mainFormat","altFormat","bgColor","isDefaultPrevented","location","href","fullCalendar","_element","element","singleRes","removeData","Toolbar","toolbarOptions","viewsWithButtons","newToolbarOptions","sections","renderSection","sectionEl","buttonStr","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","buttonGroupStr","groupChildren","isOnlyButtons","groupEl","buttonClick","buttonIcon","buttonInnerHtml","buttonClasses","buttonEl","buttonAriaAttr","buttonTextOverride","buttonTextDefault","hasClass","not","hover","first","updateTitle","activateButton","deactivateButton","disableButton","enableButton","getViewsWithButtons","OptionsManager","dynamicOverrides","compute","optionCnt","optionName","localeDefaults","dirDefaults","rawOptions","clearCache","ViewSpecManager","viewSpecCache","buildViewSpec","viewTypes","singleUnit","requestedViewType","viewOverrides","specChain","defaultsChain","overridesChain","buildViewSpecOptions","buildViewSpecButtonText","queryButtonText","buttonTextKey","Bootstrap3Theme_1","Bootstrap4Theme_1","Bootstrap3Theme","tableGrid","tableList","tableListHeading","popover","Bootstrap4Theme","fixedWeekCount","allDaySlot","slotEventOverlap","listDayFormat","noEventsMessage","listDayAltFormat"],"mappings":"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","sourcesContent":["/*!\n * FullCalendar v3.10.1\n * Docs & License: https://fullcalendar.io/\n * (c) 2019 Adam Shaw\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"moment\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"moment\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FullCalendar\"] = factory(require(\"moment\"), require(\"jquery\"));\n\telse\n\t\troot[\"FullCalendar\"] = factory(root[\"moment\"], root[\"jQuery\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 256);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports) {\n\n/*\r\nderived from:\r\nhttps://github.com/Microsoft/tslib/blob/v1.6.0/tslib.js\r\n\nonly include the helpers we need, to keep down filesize\r\n*/\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b)\r\n        if (b.hasOwnProperty(p))\r\n            d[p] = b[p]; };\r\nexports.__extends = function (d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment = __webpack_require__(0);\r\nvar $ = __webpack_require__(3);\r\n/* FullCalendar-specific DOM Utilities\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\r\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\r\nfunction compensateScroll(rowEls, scrollbarWidths) {\r\n    if (scrollbarWidths.left) {\r\n        rowEls.css({\r\n            'border-left-width': 1,\r\n            'margin-left': scrollbarWidths.left - 1\r\n        });\r\n    }\r\n    if (scrollbarWidths.right) {\r\n        rowEls.css({\r\n            'border-right-width': 1,\r\n            'margin-right': scrollbarWidths.right - 1\r\n        });\r\n    }\r\n}\r\nexports.compensateScroll = compensateScroll;\r\n// Undoes compensateScroll and restores all borders/margins\r\nfunction uncompensateScroll(rowEls) {\r\n    rowEls.css({\r\n        'margin-left': '',\r\n        'margin-right': '',\r\n        'border-left-width': '',\r\n        'border-right-width': ''\r\n    });\r\n}\r\nexports.uncompensateScroll = uncompensateScroll;\r\n// Make the mouse cursor express that an event is not allowed in the current area\r\nfunction disableCursor() {\r\n    $('body').addClass('fc-not-allowed');\r\n}\r\nexports.disableCursor = disableCursor;\r\n// Returns the mouse cursor to its original look\r\nfunction enableCursor() {\r\n    $('body').removeClass('fc-not-allowed');\r\n}\r\nexports.enableCursor = enableCursor;\r\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\r\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\r\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and\r\n// reduces the available height.\r\nfunction distributeHeight(els, availableHeight, shouldRedistribute) {\r\n    // *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\r\n    // and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\r\n    var minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\r\n    var minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\r\n    var flexEls = []; // elements that are allowed to expand. array of DOM nodes\r\n    var flexOffsets = []; // amount of vertical space it takes up\r\n    var flexHeights = []; // actual css height\r\n    var usedHeight = 0;\r\n    undistributeHeight(els); // give all elements their natural height\r\n    // find elements that are below the recommended height (expandable).\r\n    // important to query for heights in a single first pass (to avoid reflow oscillation).\r\n    els.each(function (i, el) {\r\n        var minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\r\n        var naturalOffset = $(el).outerHeight(true);\r\n        if (naturalOffset < minOffset) {\r\n            flexEls.push(el);\r\n            flexOffsets.push(naturalOffset);\r\n            flexHeights.push($(el).height());\r\n        }\r\n        else {\r\n            // this element stretches past recommended height (non-expandable). mark the space as occupied.\r\n            usedHeight += naturalOffset;\r\n        }\r\n    });\r\n    // readjust the recommended height to only consider the height available to non-maxed-out rows.\r\n    if (shouldRedistribute) {\r\n        availableHeight -= usedHeight;\r\n        minOffset1 = Math.floor(availableHeight / flexEls.length);\r\n        minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\r\n    }\r\n    // assign heights to all expandable elements\r\n    $(flexEls).each(function (i, el) {\r\n        var minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\r\n        var naturalOffset = flexOffsets[i];\r\n        var naturalHeight = flexHeights[i];\r\n        var newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\r\n        if (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\r\n            $(el).height(newHeight);\r\n        }\r\n    });\r\n}\r\nexports.distributeHeight = distributeHeight;\r\n// Undoes distrubuteHeight, restoring all els to their natural height\r\nfunction undistributeHeight(els) {\r\n    els.height('');\r\n}\r\nexports.undistributeHeight = undistributeHeight;\r\n// Given `els`, a jQuery set of <td> cells, find the cell with the largest natural width and set the widths of all the\r\n// cells to be that width.\r\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\r\nfunction matchCellWidths(els) {\r\n    var maxInnerWidth = 0;\r\n    els.find('> *').each(function (i, innerEl) {\r\n        var innerWidth = $(innerEl).outerWidth();\r\n        if (innerWidth > maxInnerWidth) {\r\n            maxInnerWidth = innerWidth;\r\n        }\r\n    });\r\n    maxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\r\n    els.width(maxInnerWidth);\r\n    return maxInnerWidth;\r\n}\r\nexports.matchCellWidths = matchCellWidths;\r\n// Given one element that resides inside another,\r\n// Subtracts the height of the inner element from the outer element.\r\nfunction subtractInnerElHeight(outerEl, innerEl) {\r\n    var both = outerEl.add(innerEl);\r\n    var diff;\r\n    // effin' IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\r\n    both.css({\r\n        position: 'relative',\r\n        left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\r\n    });\r\n    diff = outerEl.outerHeight() - innerEl.outerHeight(); // grab the dimensions\r\n    both.css({ position: '', left: '' }); // undo hack\r\n    return diff;\r\n}\r\nexports.subtractInnerElHeight = subtractInnerElHeight;\r\n/* Element Geom Utilities\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// borrowed from https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51\r\nfunction getScrollParent(el) {\r\n    var position = el.css('position');\r\n    var scrollParent = el.parents().filter(function () {\r\n        var parent = $(this);\r\n        return (/(auto|scroll)/).test(parent.css('overflow') + parent.css('overflow-y') + parent.css('overflow-x'));\r\n    }).eq(0);\r\n    return position === 'fixed' || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent;\r\n}\r\nexports.getScrollParent = getScrollParent;\r\n// Queries the outer bounding area of a jQuery element.\r\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\r\n// Origin is optional.\r\nfunction getOuterRect(el, origin) {\r\n    var offset = el.offset();\r\n    var left = offset.left - (origin ? origin.left : 0);\r\n    var top = offset.top - (origin ? origin.top : 0);\r\n    return {\r\n        left: left,\r\n        right: left + el.outerWidth(),\r\n        top: top,\r\n        bottom: top + el.outerHeight()\r\n    };\r\n}\r\nexports.getOuterRect = getOuterRect;\r\n// Queries the area within the margin/border/scrollbars of a jQuery element. Does not go within the padding.\r\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\r\n// Origin is optional.\r\n// WARNING: given element can't have borders\r\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\r\nfunction getClientRect(el, origin) {\r\n    var offset = el.offset();\r\n    var scrollbarWidths = getScrollbarWidths(el);\r\n    var left = offset.left + getCssFloat(el, 'border-left-width') + scrollbarWidths.left - (origin ? origin.left : 0);\r\n    var top = offset.top + getCssFloat(el, 'border-top-width') + scrollbarWidths.top - (origin ? origin.top : 0);\r\n    return {\r\n        left: left,\r\n        right: left + el[0].clientWidth,\r\n        top: top,\r\n        bottom: top + el[0].clientHeight // clientHeight includes padding but NOT scrollbars\r\n    };\r\n}\r\nexports.getClientRect = getClientRect;\r\n// Queries the area within the margin/border/padding of a jQuery element. Assumed not to have scrollbars.\r\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\r\n// Origin is optional.\r\nfunction getContentRect(el, origin) {\r\n    var offset = el.offset(); // just outside of border, margin not included\r\n    var left = offset.left + getCssFloat(el, 'border-left-width') + getCssFloat(el, 'padding-left') -\r\n        (origin ? origin.left : 0);\r\n    var top = offset.top + getCssFloat(el, 'border-top-width') + getCssFloat(el, 'padding-top') -\r\n        (origin ? origin.top : 0);\r\n    return {\r\n        left: left,\r\n        right: left + el.width(),\r\n        top: top,\r\n        bottom: top + el.height()\r\n    };\r\n}\r\nexports.getContentRect = getContentRect;\r\n// Returns the computed left/right/top/bottom scrollbar widths for the given jQuery element.\r\n// WARNING: given element can't have borders (which will cause offsetWidth/offsetHeight to be larger).\r\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\r\nfunction getScrollbarWidths(el) {\r\n    var leftRightWidth = el[0].offsetWidth - el[0].clientWidth;\r\n    var bottomWidth = el[0].offsetHeight - el[0].clientHeight;\r\n    var widths;\r\n    leftRightWidth = sanitizeScrollbarWidth(leftRightWidth);\r\n    bottomWidth = sanitizeScrollbarWidth(bottomWidth);\r\n    widths = { left: 0, right: 0, top: 0, bottom: bottomWidth };\r\n    if (getIsLeftRtlScrollbars() && el.css('direction') === 'rtl') { // is the scrollbar on the left side?\r\n        widths.left = leftRightWidth;\r\n    }\r\n    else {\r\n        widths.right = leftRightWidth;\r\n    }\r\n    return widths;\r\n}\r\nexports.getScrollbarWidths = getScrollbarWidths;\r\n// The scrollbar width computations in getScrollbarWidths are sometimes flawed when it comes to\r\n// retina displays, rounding, and IE11. Massage them into a usable value.\r\nfunction sanitizeScrollbarWidth(width) {\r\n    width = Math.max(0, width); // no negatives\r\n    width = Math.round(width);\r\n    return width;\r\n}\r\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\r\nvar _isLeftRtlScrollbars = null;\r\nfunction getIsLeftRtlScrollbars() {\r\n    if (_isLeftRtlScrollbars === null) {\r\n        _isLeftRtlScrollbars = computeIsLeftRtlScrollbars();\r\n    }\r\n    return _isLeftRtlScrollbars;\r\n}\r\nfunction computeIsLeftRtlScrollbars() {\r\n    var el = $('<div><div/></div>')\r\n        .css({\r\n        position: 'absolute',\r\n        top: -1000,\r\n        left: 0,\r\n        border: 0,\r\n        padding: 0,\r\n        overflow: 'scroll',\r\n        direction: 'rtl'\r\n    })\r\n        .appendTo('body');\r\n    var innerEl = el.children();\r\n    var res = innerEl.offset().left > el.offset().left; // is the inner div shifted to accommodate a left scrollbar?\r\n    el.remove();\r\n    return res;\r\n}\r\n// Retrieves a jQuery element's computed CSS value as a floating-point number.\r\n// If the queried value is non-numeric (ex: IE can return \"medium\" for border width), will just return zero.\r\nfunction getCssFloat(el, prop) {\r\n    return parseFloat(el.css(prop)) || 0;\r\n}\r\n/* Mouse / Touch Utilities\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\r\nfunction isPrimaryMouseButton(ev) {\r\n    return ev.which === 1 && !ev.ctrlKey;\r\n}\r\nexports.isPrimaryMouseButton = isPrimaryMouseButton;\r\nfunction getEvX(ev) {\r\n    var touches = ev.originalEvent.touches;\r\n    // on mobile FF, pageX for touch events is present, but incorrect,\r\n    // so, look at touch coordinates first.\r\n    if (touches && touches.length) {\r\n        return touches[0].pageX;\r\n    }\r\n    return ev.pageX;\r\n}\r\nexports.getEvX = getEvX;\r\nfunction getEvY(ev) {\r\n    var touches = ev.originalEvent.touches;\r\n    // on mobile FF, pageX for touch events is present, but incorrect,\r\n    // so, look at touch coordinates first.\r\n    if (touches && touches.length) {\r\n        return touches[0].pageY;\r\n    }\r\n    return ev.pageY;\r\n}\r\nexports.getEvY = getEvY;\r\nfunction getEvIsTouch(ev) {\r\n    return /^touch/.test(ev.type);\r\n}\r\nexports.getEvIsTouch = getEvIsTouch;\r\nfunction preventSelection(el) {\r\n    el.addClass('fc-unselectable')\r\n        .on('selectstart', preventDefault);\r\n}\r\nexports.preventSelection = preventSelection;\r\nfunction allowSelection(el) {\r\n    el.removeClass('fc-unselectable')\r\n        .off('selectstart', preventDefault);\r\n}\r\nexports.allowSelection = allowSelection;\r\n// Stops a mouse/touch event from doing it's native browser action\r\nfunction preventDefault(ev) {\r\n    ev.preventDefault();\r\n}\r\nexports.preventDefault = preventDefault;\r\n/* General Geometry Utils\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\r\nfunction intersectRects(rect1, rect2) {\r\n    var res = {\r\n        left: Math.max(rect1.left, rect2.left),\r\n        right: Math.min(rect1.right, rect2.right),\r\n        top: Math.max(rect1.top, rect2.top),\r\n        bottom: Math.min(rect1.bottom, rect2.bottom)\r\n    };\r\n    if (res.left < res.right && res.top < res.bottom) {\r\n        return res;\r\n    }\r\n    return false;\r\n}\r\nexports.intersectRects = intersectRects;\r\n// Returns a new point that will have been moved to reside within the given rectangle\r\nfunction constrainPoint(point, rect) {\r\n    return {\r\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\r\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom)\r\n    };\r\n}\r\nexports.constrainPoint = constrainPoint;\r\n// Returns a point that is the center of the given rectangle\r\nfunction getRectCenter(rect) {\r\n    return {\r\n        left: (rect.left + rect.right) / 2,\r\n        top: (rect.top + rect.bottom) / 2\r\n    };\r\n}\r\nexports.getRectCenter = getRectCenter;\r\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\r\nfunction diffPoints(point1, point2) {\r\n    return {\r\n        left: point1.left - point2.left,\r\n        top: point1.top - point2.top\r\n    };\r\n}\r\nexports.diffPoints = diffPoints;\r\n/* Object Ordering by Field\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nfunction parseFieldSpecs(input) {\r\n    var specs = [];\r\n    var tokens = [];\r\n    var i;\r\n    var token;\r\n    if (typeof input === 'string') {\r\n        tokens = input.split(/\\s*,\\s*/);\r\n    }\r\n    else if (typeof input === 'function') {\r\n        tokens = [input];\r\n    }\r\n    else if ($.isArray(input)) {\r\n        tokens = input;\r\n    }\r\n    for (i = 0; i < tokens.length; i++) {\r\n        token = tokens[i];\r\n        if (typeof token === 'string') {\r\n            specs.push(token.charAt(0) === '-' ?\r\n                { field: token.substring(1), order: -1 } :\r\n                { field: token, order: 1 });\r\n        }\r\n        else if (typeof token === 'function') {\r\n            specs.push({ func: token });\r\n        }\r\n    }\r\n    return specs;\r\n}\r\nexports.parseFieldSpecs = parseFieldSpecs;\r\nfunction compareByFieldSpecs(obj1, obj2, fieldSpecs, obj1fallback, obj2fallback) {\r\n    var i;\r\n    var cmp;\r\n    for (i = 0; i < fieldSpecs.length; i++) {\r\n        cmp = compareByFieldSpec(obj1, obj2, fieldSpecs[i], obj1fallback, obj2fallback);\r\n        if (cmp) {\r\n            return cmp;\r\n        }\r\n    }\r\n    return 0;\r\n}\r\nexports.compareByFieldSpecs = compareByFieldSpecs;\r\nfunction compareByFieldSpec(obj1, obj2, fieldSpec, obj1fallback, obj2fallback) {\r\n    if (fieldSpec.func) {\r\n        return fieldSpec.func(obj1, obj2);\r\n    }\r\n    var val1 = obj1[fieldSpec.field];\r\n    var val2 = obj2[fieldSpec.field];\r\n    if (val1 == null && obj1fallback) {\r\n        val1 = obj1fallback[fieldSpec.field];\r\n    }\r\n    if (val2 == null && obj2fallback) {\r\n        val2 = obj2fallback[fieldSpec.field];\r\n    }\r\n    return flexibleCompare(val1, val2) * (fieldSpec.order || 1);\r\n}\r\nexports.compareByFieldSpec = compareByFieldSpec;\r\nfunction flexibleCompare(a, b) {\r\n    if (!a && !b) {\r\n        return 0;\r\n    }\r\n    if (b == null) {\r\n        return -1;\r\n    }\r\n    if (a == null) {\r\n        return 1;\r\n    }\r\n    if ($.type(a) === 'string' || $.type(b) === 'string') {\r\n        return String(a).localeCompare(String(b));\r\n    }\r\n    return a - b;\r\n}\r\nexports.flexibleCompare = flexibleCompare;\r\n/* Date Utilities\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nexports.dayIDs = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\r\nexports.unitsDesc = ['year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond']; // descending\r\n// Diffs the two moments into a Duration where full-days are recorded first, then the remaining time.\r\n// Moments will have their timezones normalized.\r\nfunction diffDayTime(a, b) {\r\n    return moment.duration({\r\n        days: a.clone().stripTime().diff(b.clone().stripTime(), 'days'),\r\n        ms: a.time() - b.time() // time-of-day from day start. disregards timezone\r\n    });\r\n}\r\nexports.diffDayTime = diffDayTime;\r\n// Diffs the two moments via their start-of-day (regardless of timezone). Produces whole-day durations.\r\nfunction diffDay(a, b) {\r\n    return moment.duration({\r\n        days: a.clone().stripTime().diff(b.clone().stripTime(), 'days')\r\n    });\r\n}\r\nexports.diffDay = diffDay;\r\n// Diffs two moments, producing a duration, made of a whole-unit-increment of the given unit. Uses rounding.\r\nfunction diffByUnit(a, b, unit) {\r\n    return moment.duration(Math.round(a.diff(b, unit, true)), // returnFloat=true\r\n    unit);\r\n}\r\nexports.diffByUnit = diffByUnit;\r\n// Computes the unit name of the largest whole-unit period of time.\r\n// For example, 48 hours will be \"days\" whereas 49 hours will be \"hours\".\r\n// Accepts start/end, a range object, or an original duration object.\r\nfunction computeGreatestUnit(start, end) {\r\n    var i;\r\n    var unit;\r\n    var val;\r\n    for (i = 0; i < exports.unitsDesc.length; i++) {\r\n        unit = exports.unitsDesc[i];\r\n        val = computeRangeAs(unit, start, end);\r\n        if (val >= 1 && isInt(val)) {\r\n            break;\r\n        }\r\n    }\r\n    return unit; // will be \"milliseconds\" if nothing else matches\r\n}\r\nexports.computeGreatestUnit = computeGreatestUnit;\r\n// like computeGreatestUnit, but has special abilities to interpret the source input for clues\r\nfunction computeDurationGreatestUnit(duration, durationInput) {\r\n    var unit = computeGreatestUnit(duration);\r\n    // prevent days:7 from being interpreted as a week\r\n    if (unit === 'week' && typeof durationInput === 'object' && durationInput.days) {\r\n        unit = 'day';\r\n    }\r\n    return unit;\r\n}\r\nexports.computeDurationGreatestUnit = computeDurationGreatestUnit;\r\n// Computes the number of units (like \"hours\") in the given range.\r\n// Range can be a {start,end} object, separate start/end args, or a Duration.\r\n// Results are based on Moment's .as() and .diff() methods, so results can depend on internal handling\r\n// of month-diffing logic (which tends to vary from version to version).\r\nfunction computeRangeAs(unit, start, end) {\r\n    if (end != null) { // given start, end\r\n        return end.diff(start, unit, true);\r\n    }\r\n    else if (moment.isDuration(start)) { // given duration\r\n        return start.as(unit);\r\n    }\r\n    else { // given { start, end } range object\r\n        return start.end.diff(start.start, unit, true);\r\n    }\r\n}\r\n// Intelligently divides a range (specified by a start/end params) by a duration\r\nfunction divideRangeByDuration(start, end, dur) {\r\n    var months;\r\n    if (durationHasTime(dur)) {\r\n        return (end - start) / dur;\r\n    }\r\n    months = dur.asMonths();\r\n    if (Math.abs(months) >= 1 && isInt(months)) {\r\n        return end.diff(start, 'months', true) / months;\r\n    }\r\n    return end.diff(start, 'days', true) / dur.asDays();\r\n}\r\nexports.divideRangeByDuration = divideRangeByDuration;\r\n// Intelligently divides one duration by another\r\nfunction divideDurationByDuration(dur1, dur2) {\r\n    var months1;\r\n    var months2;\r\n    if (durationHasTime(dur1) || durationHasTime(dur2)) {\r\n        return dur1 / dur2;\r\n    }\r\n    months1 = dur1.asMonths();\r\n    months2 = dur2.asMonths();\r\n    if (Math.abs(months1) >= 1 && isInt(months1) &&\r\n        Math.abs(months2) >= 1 && isInt(months2)) {\r\n        return months1 / months2;\r\n    }\r\n    return dur1.asDays() / dur2.asDays();\r\n}\r\nexports.divideDurationByDuration = divideDurationByDuration;\r\n// Intelligently multiplies a duration by a number\r\nfunction multiplyDuration(dur, n) {\r\n    var months;\r\n    if (durationHasTime(dur)) {\r\n        return moment.duration(dur * n);\r\n    }\r\n    months = dur.asMonths();\r\n    if (Math.abs(months) >= 1 && isInt(months)) {\r\n        return moment.duration({ months: months * n });\r\n    }\r\n    return moment.duration({ days: dur.asDays() * n });\r\n}\r\nexports.multiplyDuration = multiplyDuration;\r\n// Returns a boolean about whether the given duration has any time parts (hours/minutes/seconds/ms)\r\nfunction durationHasTime(dur) {\r\n    return Boolean(dur.hours() || dur.minutes() || dur.seconds() || dur.milliseconds());\r\n}\r\nexports.durationHasTime = durationHasTime;\r\nfunction isNativeDate(input) {\r\n    return Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\r\n}\r\nexports.isNativeDate = isNativeDate;\r\n// Returns a boolean about whether the given input is a time string, like \"06:40:00\" or \"06:00\"\r\nfunction isTimeString(str) {\r\n    return typeof str === 'string' &&\r\n        /^\\d+\\:\\d+(?:\\:\\d+\\.?(?:\\d{3})?)?$/.test(str);\r\n}\r\nexports.isTimeString = isTimeString;\r\n/* Logging and Debug\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nfunction log() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var console = window.console;\r\n    if (console && console.log) {\r\n        return console.log.apply(console, args);\r\n    }\r\n}\r\nexports.log = log;\r\nfunction warn() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var console = window.console;\r\n    if (console && console.warn) {\r\n        return console.warn.apply(console, args);\r\n    }\r\n    else {\r\n        return log.apply(null, args);\r\n    }\r\n}\r\nexports.warn = warn;\r\n/* General Utilities\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar hasOwnPropMethod = {}.hasOwnProperty;\r\n// Merges an array of objects into a single object.\r\n// The second argument allows for an array of property names who's object values will be merged together.\r\nfunction mergeProps(propObjs, complexProps) {\r\n    var dest = {};\r\n    var i;\r\n    var name;\r\n    var complexObjs;\r\n    var j;\r\n    var val;\r\n    var props;\r\n    if (complexProps) {\r\n        for (i = 0; i < complexProps.length; i++) {\r\n            name = complexProps[i];\r\n            complexObjs = [];\r\n            // collect the trailing object values, stopping when a non-object is discovered\r\n            for (j = propObjs.length - 1; j >= 0; j--) {\r\n                val = propObjs[j][name];\r\n                if (typeof val === 'object') {\r\n                    complexObjs.unshift(val);\r\n                }\r\n                else if (val !== undefined) {\r\n                    dest[name] = val; // if there were no objects, this value will be used\r\n                    break;\r\n                }\r\n            }\r\n            // if the trailing values were objects, use the merged value\r\n            if (complexObjs.length) {\r\n                dest[name] = mergeProps(complexObjs);\r\n            }\r\n        }\r\n    }\r\n    // copy values into the destination, going from last to first\r\n    for (i = propObjs.length - 1; i >= 0; i--) {\r\n        props = propObjs[i];\r\n        for (name in props) {\r\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\r\n                dest[name] = props[name];\r\n            }\r\n        }\r\n    }\r\n    return dest;\r\n}\r\nexports.mergeProps = mergeProps;\r\nfunction copyOwnProps(src, dest) {\r\n    for (var name_1 in src) {\r\n        if (hasOwnProp(src, name_1)) {\r\n            dest[name_1] = src[name_1];\r\n        }\r\n    }\r\n}\r\nexports.copyOwnProps = copyOwnProps;\r\nfunction hasOwnProp(obj, name) {\r\n    return hasOwnPropMethod.call(obj, name);\r\n}\r\nexports.hasOwnProp = hasOwnProp;\r\nfunction applyAll(functions, thisObj, args) {\r\n    if ($.isFunction(functions)) {\r\n        functions = [functions];\r\n    }\r\n    if (functions) {\r\n        var i = void 0;\r\n        var ret = void 0;\r\n        for (i = 0; i < functions.length; i++) {\r\n            ret = functions[i].apply(thisObj, args) || ret;\r\n        }\r\n        return ret;\r\n    }\r\n}\r\nexports.applyAll = applyAll;\r\nfunction removeMatching(array, testFunc) {\r\n    var removeCnt = 0;\r\n    var i = 0;\r\n    while (i < array.length) {\r\n        if (testFunc(array[i])) { // truthy value means *remove*\r\n            array.splice(i, 1);\r\n            removeCnt++;\r\n        }\r\n        else {\r\n            i++;\r\n        }\r\n    }\r\n    return removeCnt;\r\n}\r\nexports.removeMatching = removeMatching;\r\nfunction removeExact(array, exactVal) {\r\n    var removeCnt = 0;\r\n    var i = 0;\r\n    while (i < array.length) {\r\n        if (array[i] === exactVal) {\r\n            array.splice(i, 1);\r\n            removeCnt++;\r\n        }\r\n        else {\r\n            i++;\r\n        }\r\n    }\r\n    return removeCnt;\r\n}\r\nexports.removeExact = removeExact;\r\nfunction isArraysEqual(a0, a1) {\r\n    var len = a0.length;\r\n    var i;\r\n    if (len == null || len !== a1.length) { // not array? or not same length?\r\n        return false;\r\n    }\r\n    for (i = 0; i < len; i++) {\r\n        if (a0[i] !== a1[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.isArraysEqual = isArraysEqual;\r\nfunction firstDefined() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    for (var i = 0; i < args.length; i++) {\r\n        if (args[i] !== undefined) {\r\n            return args[i];\r\n        }\r\n    }\r\n}\r\nexports.firstDefined = firstDefined;\r\nfunction htmlEscape(s) {\r\n    return (s + '').replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/'/g, '&#039;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/\\n/g, '<br />');\r\n}\r\nexports.htmlEscape = htmlEscape;\r\nfunction stripHtmlEntities(text) {\r\n    return text.replace(/&.*?;/g, '');\r\n}\r\nexports.stripHtmlEntities = stripHtmlEntities;\r\n// Given a hash of CSS properties, returns a string of CSS.\r\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\r\nfunction cssToStr(cssProps) {\r\n    var statements = [];\r\n    $.each(cssProps, function (name, val) {\r\n        if (val != null) {\r\n            statements.push(name + ':' + val);\r\n        }\r\n    });\r\n    return statements.join(';');\r\n}\r\nexports.cssToStr = cssToStr;\r\n// Given an object hash of HTML attribute names to values,\r\n// generates a string that can be injected between < > in HTML\r\nfunction attrsToStr(attrs) {\r\n    var parts = [];\r\n    $.each(attrs, function (name, val) {\r\n        if (val != null) {\r\n            parts.push(name + '=\"' + htmlEscape(val) + '\"');\r\n        }\r\n    });\r\n    return parts.join(' ');\r\n}\r\nexports.attrsToStr = attrsToStr;\r\nfunction capitaliseFirstLetter(str) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\nexports.capitaliseFirstLetter = capitaliseFirstLetter;\r\nfunction compareNumbers(a, b) {\r\n    return a - b;\r\n}\r\nexports.compareNumbers = compareNumbers;\r\nfunction isInt(n) {\r\n    return n % 1 === 0;\r\n}\r\nexports.isInt = isInt;\r\n// Returns a method bound to the given object context.\r\n// Just like one of the jQuery.proxy signatures, but without the undesired behavior of treating the same method with\r\n// different contexts as identical when binding/unbinding events.\r\nfunction proxy(obj, methodName) {\r\n    var method = obj[methodName];\r\n    return function () {\r\n        return method.apply(obj, arguments);\r\n    };\r\n}\r\nexports.proxy = proxy;\r\n// Returns a function, that, as long as it continues to be invoked, will not\r\n// be triggered. The function will be called after it stops being called for\r\n// N milliseconds. If `immediate` is passed, trigger the function on the\r\n// leading edge, instead of the trailing.\r\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\r\nfunction debounce(func, wait, immediate) {\r\n    if (immediate === void 0) { immediate = false; }\r\n    var timeout;\r\n    var args;\r\n    var context;\r\n    var timestamp;\r\n    var result;\r\n    var later = function () {\r\n        var last = +new Date() - timestamp;\r\n        if (last < wait) {\r\n            timeout = setTimeout(later, wait - last);\r\n        }\r\n        else {\r\n            timeout = null;\r\n            if (!immediate) {\r\n                result = func.apply(context, args);\r\n                context = args = null;\r\n            }\r\n        }\r\n    };\r\n    return function () {\r\n        context = this;\r\n        args = arguments;\r\n        timestamp = +new Date();\r\n        var callNow = immediate && !timeout;\r\n        if (!timeout) {\r\n            timeout = setTimeout(later, wait);\r\n        }\r\n        if (callNow) {\r\n            result = func.apply(context, args);\r\n            context = args = null;\r\n        }\r\n        return result;\r\n    };\r\n}\r\nexports.debounce = debounce;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment = __webpack_require__(0);\r\nvar moment_ext_1 = __webpack_require__(11);\r\nvar UnzonedRange = /** @class */ (function () {\r\n    function UnzonedRange(startInput, endInput) {\r\n        // TODO: move these into footprint.\r\n        // Especially, doesn't make sense for null startMs/endMs.\r\n        this.isStart = true;\r\n        this.isEnd = true;\r\n        if (moment.isMoment(startInput)) {\r\n            startInput = startInput.clone().stripZone();\r\n        }\r\n        if (moment.isMoment(endInput)) {\r\n            endInput = endInput.clone().stripZone();\r\n        }\r\n        if (startInput) {\r\n            this.startMs = startInput.valueOf();\r\n        }\r\n        if (endInput) {\r\n            this.endMs = endInput.valueOf();\r\n        }\r\n    }\r\n    /*\r\n    SIDEEFFECT: will mutate eventRanges.\r\n    Will return a new array result.\r\n    Only works for non-open-ended ranges.\r\n    */\r\n    UnzonedRange.invertRanges = function (ranges, constraintRange) {\r\n        var invertedRanges = [];\r\n        var startMs = constraintRange.startMs; // the end of the previous range. the start of the new range\r\n        var i;\r\n        var dateRange;\r\n        // ranges need to be in order. required for our date-walking algorithm\r\n        ranges.sort(compareUnzonedRanges);\r\n        for (i = 0; i < ranges.length; i++) {\r\n            dateRange = ranges[i];\r\n            // add the span of time before the event (if there is any)\r\n            if (dateRange.startMs > startMs) { // compare millisecond time (skip any ambig logic)\r\n                invertedRanges.push(new UnzonedRange(startMs, dateRange.startMs));\r\n            }\r\n            if (dateRange.endMs > startMs) {\r\n                startMs = dateRange.endMs;\r\n            }\r\n        }\r\n        // add the span of time after the last event (if there is any)\r\n        if (startMs < constraintRange.endMs) { // compare millisecond time (skip any ambig logic)\r\n            invertedRanges.push(new UnzonedRange(startMs, constraintRange.endMs));\r\n        }\r\n        return invertedRanges;\r\n    };\r\n    UnzonedRange.prototype.intersect = function (otherRange) {\r\n        var startMs = this.startMs;\r\n        var endMs = this.endMs;\r\n        var newRange = null;\r\n        if (otherRange.startMs != null) {\r\n            if (startMs == null) {\r\n                startMs = otherRange.startMs;\r\n            }\r\n            else {\r\n                startMs = Math.max(startMs, otherRange.startMs);\r\n            }\r\n        }\r\n        if (otherRange.endMs != null) {\r\n            if (endMs == null) {\r\n                endMs = otherRange.endMs;\r\n            }\r\n            else {\r\n                endMs = Math.min(endMs, otherRange.endMs);\r\n            }\r\n        }\r\n        if (startMs == null || endMs == null || startMs < endMs) {\r\n            newRange = new UnzonedRange(startMs, endMs);\r\n            newRange.isStart = this.isStart && startMs === this.startMs;\r\n            newRange.isEnd = this.isEnd && endMs === this.endMs;\r\n        }\r\n        return newRange;\r\n    };\r\n    UnzonedRange.prototype.intersectsWith = function (otherRange) {\r\n        return (this.endMs == null || otherRange.startMs == null || this.endMs > otherRange.startMs) &&\r\n            (this.startMs == null || otherRange.endMs == null || this.startMs < otherRange.endMs);\r\n    };\r\n    UnzonedRange.prototype.containsRange = function (innerRange) {\r\n        return (this.startMs == null || (innerRange.startMs != null && innerRange.startMs >= this.startMs)) &&\r\n            (this.endMs == null || (innerRange.endMs != null && innerRange.endMs <= this.endMs));\r\n    };\r\n    // `date` can be a moment, a Date, or a millisecond time.\r\n    UnzonedRange.prototype.containsDate = function (date) {\r\n        var ms = date.valueOf();\r\n        return (this.startMs == null || ms >= this.startMs) &&\r\n            (this.endMs == null || ms < this.endMs);\r\n    };\r\n    // If the given date is not within the given range, move it inside.\r\n    // (If it's past the end, make it one millisecond before the end).\r\n    // `date` can be a moment, a Date, or a millisecond time.\r\n    // Returns a MS-time.\r\n    UnzonedRange.prototype.constrainDate = function (date) {\r\n        var ms = date.valueOf();\r\n        if (this.startMs != null && ms < this.startMs) {\r\n            ms = this.startMs;\r\n        }\r\n        if (this.endMs != null && ms >= this.endMs) {\r\n            ms = this.endMs - 1;\r\n        }\r\n        return ms;\r\n    };\r\n    UnzonedRange.prototype.equals = function (otherRange) {\r\n        return this.startMs === otherRange.startMs && this.endMs === otherRange.endMs;\r\n    };\r\n    UnzonedRange.prototype.clone = function () {\r\n        var range = new UnzonedRange(this.startMs, this.endMs);\r\n        range.isStart = this.isStart;\r\n        range.isEnd = this.isEnd;\r\n        return range;\r\n    };\r\n    // Returns an ambig-zoned moment from startMs.\r\n    // BEWARE: returned moment is not localized.\r\n    // Formatting and start-of-week will be default.\r\n    UnzonedRange.prototype.getStart = function () {\r\n        if (this.startMs != null) {\r\n            return moment_ext_1.default.utc(this.startMs).stripZone();\r\n        }\r\n        return null;\r\n    };\r\n    // Returns an ambig-zoned moment from startMs.\r\n    // BEWARE: returned moment is not localized.\r\n    // Formatting and start-of-week will be default.\r\n    UnzonedRange.prototype.getEnd = function () {\r\n        if (this.endMs != null) {\r\n            return moment_ext_1.default.utc(this.endMs).stripZone();\r\n        }\r\n        return null;\r\n    };\r\n    UnzonedRange.prototype.as = function (unit) {\r\n        return moment.utc(this.endMs).diff(moment.utc(this.startMs), unit, true);\r\n    };\r\n    return UnzonedRange;\r\n}());\r\nexports.default = UnzonedRange;\r\n/*\r\nOnly works for non-open-ended ranges.\r\n*/\r\nfunction compareUnzonedRanges(range1, range2) {\r\n    return range1.startMs - range2.startMs; // earlier ranges go first\r\n}\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar ParsableModelMixin_1 = __webpack_require__(52);\r\nvar Class_1 = __webpack_require__(35);\r\nvar EventDefParser_1 = __webpack_require__(36);\r\nvar EventSource = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EventSource, _super);\r\n    // can we do away with calendar? at least for the abstract?\r\n    // useful for buildEventDef\r\n    function EventSource(calendar) {\r\n        var _this = _super.call(this) || this;\r\n        _this.calendar = calendar;\r\n        _this.className = [];\r\n        _this.uid = String(EventSource.uuid++);\r\n        return _this;\r\n    }\r\n    /*\r\n    rawInput can be any data type!\r\n    */\r\n    EventSource.parse = function (rawInput, calendar) {\r\n        var source = new this(calendar);\r\n        if (typeof rawInput === 'object') {\r\n            if (source.applyProps(rawInput)) {\r\n                return source;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    EventSource.normalizeId = function (id) {\r\n        if (id) {\r\n            return String(id);\r\n        }\r\n        return null;\r\n    };\r\n    EventSource.prototype.fetch = function (start, end, timezone) {\r\n        // subclasses must implement. must return a promise.\r\n    };\r\n    EventSource.prototype.removeEventDefsById = function (eventDefId) {\r\n        // optional for subclasses to implement\r\n    };\r\n    EventSource.prototype.removeAllEventDefs = function () {\r\n        // optional for subclasses to implement\r\n    };\r\n    /*\r\n    For compairing/matching\r\n    */\r\n    EventSource.prototype.getPrimitive = function (otherSource) {\r\n        // subclasses must implement\r\n    };\r\n    EventSource.prototype.parseEventDefs = function (rawEventDefs) {\r\n        var i;\r\n        var eventDef;\r\n        var eventDefs = [];\r\n        for (i = 0; i < rawEventDefs.length; i++) {\r\n            eventDef = this.parseEventDef(rawEventDefs[i]);\r\n            if (eventDef) {\r\n                eventDefs.push(eventDef);\r\n            }\r\n        }\r\n        return eventDefs;\r\n    };\r\n    EventSource.prototype.parseEventDef = function (rawInput) {\r\n        var calendarTransform = this.calendar.opt('eventDataTransform');\r\n        var sourceTransform = this.eventDataTransform;\r\n        if (calendarTransform) {\r\n            rawInput = calendarTransform(rawInput, this.calendar);\r\n        }\r\n        if (sourceTransform) {\r\n            rawInput = sourceTransform(rawInput, this.calendar);\r\n        }\r\n        return EventDefParser_1.default.parse(rawInput, this);\r\n    };\r\n    EventSource.prototype.applyManualStandardProps = function (rawProps) {\r\n        if (rawProps.id != null) {\r\n            this.id = EventSource.normalizeId(rawProps.id);\r\n        }\r\n        // TODO: converge with EventDef\r\n        if ($.isArray(rawProps.className)) {\r\n            this.className = rawProps.className;\r\n        }\r\n        else if (typeof rawProps.className === 'string') {\r\n            this.className = rawProps.className.split(/\\s+/);\r\n        }\r\n        return true;\r\n    };\r\n    EventSource.uuid = 0;\r\n    EventSource.defineStandardProps = ParsableModelMixin_1.default.defineStandardProps;\r\n    EventSource.copyVerbatimStandardProps = ParsableModelMixin_1.default.copyVerbatimStandardProps;\r\n    return EventSource;\r\n}(Class_1.default));\r\nexports.default = EventSource;\r\nParsableModelMixin_1.default.mixInto(EventSource);\r\n// Parsing\r\n// ---------------------------------------------------------------------------------------------------------------------\r\nEventSource.defineStandardProps({\r\n    // manually process...\r\n    id: false,\r\n    className: false,\r\n    // automatically transfer...\r\n    color: true,\r\n    backgroundColor: true,\r\n    borderColor: true,\r\n    textColor: true,\r\n    editable: true,\r\n    startEditable: true,\r\n    durationEditable: true,\r\n    rendering: true,\r\n    overlap: true,\r\n    constraint: true,\r\n    allDayDefault: true,\r\n    eventDataTransform: true\r\n});\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\r\nUtility methods for easily listening to events on another object,\r\nand more importantly, easily unlistening from them.\r\n\nUSAGE:\r\n  import { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\r\nin class:\r\n  listenTo: ListenerInterface['listenTo']\r\n  stopListeningTo: ListenerInterface['stopListeningTo']\r\nafter class:\r\n  ListenerMixin.mixInto(TheClass)\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar Mixin_1 = __webpack_require__(15);\r\nvar guid = 0;\r\nvar ListenerMixin = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ListenerMixin, _super);\r\n    function ListenerMixin() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /*\r\n    Given an `other` object that has on/off methods, bind the given `callback` to an event by the given name.\r\n    The `callback` will be called with the `this` context of the object that .listenTo is being called on.\r\n    Can be called:\r\n      .listenTo(other, eventName, callback)\r\n    OR\r\n      .listenTo(other, {\r\n        eventName1: callback1,\r\n        eventName2: callback2\r\n      })\r\n    */\r\n    ListenerMixin.prototype.listenTo = function (other, arg, callback) {\r\n        if (typeof arg === 'object') { // given dictionary of callbacks\r\n            for (var eventName in arg) {\r\n                if (arg.hasOwnProperty(eventName)) {\r\n                    this.listenTo(other, eventName, arg[eventName]);\r\n                }\r\n            }\r\n        }\r\n        else if (typeof arg === 'string') {\r\n            other.on(arg + '.' + this.getListenerNamespace(), // use event namespacing to identify this object\r\n            $.proxy(callback, this) // always use `this` context\r\n            // the usually-undesired jQuery guid behavior doesn't matter,\r\n            // because we always unbind via namespace\r\n            );\r\n        }\r\n    };\r\n    /*\r\n    Causes the current object to stop listening to events on the `other` object.\r\n    `eventName` is optional. If omitted, will stop listening to ALL events on `other`.\r\n    */\r\n    ListenerMixin.prototype.stopListeningTo = function (other, eventName) {\r\n        other.off((eventName || '') + '.' + this.getListenerNamespace());\r\n    };\r\n    /*\r\n    Returns a string, unique to this object, to be used for event namespacing\r\n    */\r\n    ListenerMixin.prototype.getListenerNamespace = function () {\r\n        if (this.listenerId == null) {\r\n            this.listenerId = guid++;\r\n        }\r\n        return '_listener' + this.listenerId;\r\n    };\r\n    return ListenerMixin;\r\n}(Mixin_1.default));\r\nexports.default = ListenerMixin;\r\n\n\n/***/ }),\n/* 8 */,\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar EventDef_1 = __webpack_require__(37);\r\nvar EventInstance_1 = __webpack_require__(53);\r\nvar EventDateProfile_1 = __webpack_require__(16);\r\nvar SingleEventDef = /** @class */ (function (_super) {\r\n    tslib_1.__extends(SingleEventDef, _super);\r\n    function SingleEventDef() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /*\r\n    Will receive start/end params, but will be ignored.\r\n    */\r\n    SingleEventDef.prototype.buildInstances = function () {\r\n        return [this.buildInstance()];\r\n    };\r\n    SingleEventDef.prototype.buildInstance = function () {\r\n        return new EventInstance_1.default(this, // definition\r\n        this.dateProfile);\r\n    };\r\n    SingleEventDef.prototype.isAllDay = function () {\r\n        return this.dateProfile.isAllDay();\r\n    };\r\n    SingleEventDef.prototype.clone = function () {\r\n        var def = _super.prototype.clone.call(this);\r\n        def.dateProfile = this.dateProfile;\r\n        return def;\r\n    };\r\n    SingleEventDef.prototype.rezone = function () {\r\n        var calendar = this.source.calendar;\r\n        var dateProfile = this.dateProfile;\r\n        this.dateProfile = new EventDateProfile_1.default(calendar.moment(dateProfile.start), dateProfile.end ? calendar.moment(dateProfile.end) : null, calendar);\r\n    };\r\n    /*\r\n    NOTE: if super-method fails, should still attempt to apply\r\n    */\r\n    SingleEventDef.prototype.applyManualStandardProps = function (rawProps) {\r\n        var superSuccess = _super.prototype.applyManualStandardProps.call(this, rawProps);\r\n        var dateProfile = EventDateProfile_1.default.parse(rawProps, this.source); // returns null on failure\r\n        if (dateProfile) {\r\n            this.dateProfile = dateProfile;\r\n            // make sure `date` shows up in the legacy event objects as-is\r\n            if (rawProps.date != null) {\r\n                this.miscProps.date = rawProps.date;\r\n            }\r\n            return superSuccess;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    return SingleEventDef;\r\n}(EventDef_1.default));\r\nexports.default = SingleEventDef;\r\n// Parsing\r\n// ---------------------------------------------------------------------------------------------------------------------\r\nSingleEventDef.defineStandardProps({\r\n    start: false,\r\n    date: false,\r\n    end: false,\r\n    allDay: false\r\n});\r\n\n\n/***/ }),\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment = __webpack_require__(0);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar ambigDateOfMonthRegex = /^\\s*\\d{4}-\\d\\d$/;\r\nvar ambigTimeOrZoneRegex = /^\\s*\\d{4}-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?)?$/;\r\nvar newMomentProto = moment.fn; // where we will attach our new methods\r\nexports.newMomentProto = newMomentProto;\r\nvar oldMomentProto = $.extend({}, newMomentProto); // copy of original moment methods\r\nexports.oldMomentProto = oldMomentProto;\r\n// tell momentjs to transfer these properties upon clone\r\nvar momentProperties = moment.momentProperties;\r\nmomentProperties.push('_fullCalendar');\r\nmomentProperties.push('_ambigTime');\r\nmomentProperties.push('_ambigZone');\r\n/*\r\nCall this if you want Moment's original format method to be used\r\n*/\r\nfunction oldMomentFormat(mom, formatStr) {\r\n    return oldMomentProto.format.call(mom, formatStr); // oldMomentProto defined in moment-ext.js\r\n}\r\nexports.oldMomentFormat = oldMomentFormat;\r\n// Creating\r\n// -------------------------------------------------------------------------------------------------\r\n// Creates a new moment, similar to the vanilla moment(...) constructor, but with\r\n// extra features (ambiguous time, enhanced formatting). When given an existing moment,\r\n// it will function as a clone (and retain the zone of the moment). Anything else will\r\n// result in a moment in the local zone.\r\nvar momentExt = function () {\r\n    return makeMoment(arguments);\r\n};\r\nexports.default = momentExt;\r\n// Sames as momentExt, but forces the resulting moment to be in the UTC timezone.\r\nmomentExt.utc = function () {\r\n    var mom = makeMoment(arguments, true);\r\n    // Force it into UTC because makeMoment doesn't guarantee it\r\n    // (if given a pre-existing moment for example)\r\n    if (mom.hasTime()) { // don't give ambiguously-timed moments a UTC zone\r\n        mom.utc();\r\n    }\r\n    return mom;\r\n};\r\n// Same as momentExt, but when given an ISO8601 string, the timezone offset is preserved.\r\n// ISO8601 strings with no timezone offset will become ambiguously zoned.\r\nmomentExt.parseZone = function () {\r\n    return makeMoment(arguments, true, true);\r\n};\r\n// Builds an enhanced moment from args. When given an existing moment, it clones. When given a\r\n// native Date, or called with no arguments (the current time), the resulting moment will be local.\r\n// Anything else needs to be \"parsed\" (a string or an array), and will be affected by:\r\n//    parseAsUTC - if there is no zone information, should we parse the input in UTC?\r\n//    parseZone - if there is zone information, should we force the zone of the moment?\r\nfunction makeMoment(args, parseAsUTC, parseZone) {\r\n    if (parseAsUTC === void 0) { parseAsUTC = false; }\r\n    if (parseZone === void 0) { parseZone = false; }\r\n    var input = args[0];\r\n    var isSingleString = args.length === 1 && typeof input === 'string';\r\n    var isAmbigTime;\r\n    var isAmbigZone;\r\n    var ambigMatch;\r\n    var mom;\r\n    if (moment.isMoment(input) || util_1.isNativeDate(input) || input === undefined) {\r\n        mom = moment.apply(null, args);\r\n    }\r\n    else { // \"parsing\" is required\r\n        isAmbigTime = false;\r\n        isAmbigZone = false;\r\n        if (isSingleString) {\r\n            if (ambigDateOfMonthRegex.test(input)) {\r\n                // accept strings like '2014-05', but convert to the first of the month\r\n                input += '-01';\r\n                args = [input]; // for when we pass it on to moment's constructor\r\n                isAmbigTime = true;\r\n                isAmbigZone = true;\r\n            }\r\n            else if ((ambigMatch = ambigTimeOrZoneRegex.exec(input))) {\r\n                isAmbigTime = !ambigMatch[5]; // no time part?\r\n                isAmbigZone = true;\r\n            }\r\n        }\r\n        else if ($.isArray(input)) {\r\n            // arrays have no timezone information, so assume ambiguous zone\r\n            isAmbigZone = true;\r\n        }\r\n        // otherwise, probably a string with a format\r\n        if (parseAsUTC || isAmbigTime) {\r\n            mom = moment.utc.apply(moment, args);\r\n        }\r\n        else {\r\n            mom = moment.apply(null, args);\r\n        }\r\n        if (isAmbigTime) {\r\n            mom._ambigTime = true;\r\n            mom._ambigZone = true; // ambiguous time always means ambiguous zone\r\n        }\r\n        else if (parseZone) { // let's record the inputted zone somehow\r\n            if (isAmbigZone) {\r\n                mom._ambigZone = true;\r\n            }\r\n            else if (isSingleString) {\r\n                mom.utcOffset(input); // if not a valid zone, will assign UTC\r\n            }\r\n        }\r\n    }\r\n    mom._fullCalendar = true; // flag for extended functionality\r\n    return mom;\r\n}\r\n// Week Number\r\n// -------------------------------------------------------------------------------------------------\r\n// Returns the week number, considering the locale's custom week number calcuation\r\n// `weeks` is an alias for `week`\r\nnewMomentProto.week = newMomentProto.weeks = function (input) {\r\n    var weekCalc = this._locale._fullCalendar_weekCalc;\r\n    if (input == null && typeof weekCalc === 'function') { // custom function only works for getter\r\n        return weekCalc(this);\r\n    }\r\n    else if (weekCalc === 'ISO') {\r\n        return oldMomentProto.isoWeek.apply(this, arguments); // ISO getter/setter\r\n    }\r\n    return oldMomentProto.week.apply(this, arguments); // local getter/setter\r\n};\r\n// Time-of-day\r\n// -------------------------------------------------------------------------------------------------\r\n// GETTER\r\n// Returns a Duration with the hours/minutes/seconds/ms values of the moment.\r\n// If the moment has an ambiguous time, a duration of 00:00 will be returned.\r\n//\r\n// SETTER\r\n// You can supply a Duration, a Moment, or a Duration-like argument.\r\n// When setting the time, and the moment has an ambiguous time, it then becomes unambiguous.\r\nnewMomentProto.time = function (time) {\r\n    // Fallback to the original method (if there is one) if this moment wasn't created via FullCalendar.\r\n    // `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.\r\n    if (!this._fullCalendar) {\r\n        return oldMomentProto.time.apply(this, arguments);\r\n    }\r\n    if (time == null) { // getter\r\n        return moment.duration({\r\n            hours: this.hours(),\r\n            minutes: this.minutes(),\r\n            seconds: this.seconds(),\r\n            milliseconds: this.milliseconds()\r\n        });\r\n    }\r\n    else { // setter\r\n        this._ambigTime = false; // mark that the moment now has a time\r\n        if (!moment.isDuration(time) && !moment.isMoment(time)) {\r\n            time = moment.duration(time);\r\n        }\r\n        // The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).\r\n        // Only for Duration times, not Moment times.\r\n        var dayHours = 0;\r\n        if (moment.isDuration(time)) {\r\n            dayHours = Math.floor(time.asDays()) * 24;\r\n        }\r\n        // We need to set the individual fields.\r\n        // Can't use startOf('day') then add duration. In case of DST at start of day.\r\n        return this.hours(dayHours + time.hours())\r\n            .minutes(time.minutes())\r\n            .seconds(time.seconds())\r\n            .milliseconds(time.milliseconds());\r\n    }\r\n};\r\n// Converts the moment to UTC, stripping out its time-of-day and timezone offset,\r\n// but preserving its YMD. A moment with a stripped time will display no time\r\n// nor timezone offset when .format() is called.\r\nnewMomentProto.stripTime = function () {\r\n    if (!this._ambigTime) {\r\n        this.utc(true); // keepLocalTime=true (for keeping *date* value)\r\n        // set time to zero\r\n        this.set({\r\n            hours: 0,\r\n            minutes: 0,\r\n            seconds: 0,\r\n            ms: 0\r\n        });\r\n        // Mark the time as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\r\n        // which clears all ambig flags.\r\n        this._ambigTime = true;\r\n        this._ambigZone = true; // if ambiguous time, also ambiguous timezone offset\r\n    }\r\n    return this; // for chaining\r\n};\r\n// Returns if the moment has a non-ambiguous time (boolean)\r\nnewMomentProto.hasTime = function () {\r\n    return !this._ambigTime;\r\n};\r\n// Timezone\r\n// -------------------------------------------------------------------------------------------------\r\n// Converts the moment to UTC, stripping out its timezone offset, but preserving its\r\n// YMD and time-of-day. A moment with a stripped timezone offset will display no\r\n// timezone offset when .format() is called.\r\nnewMomentProto.stripZone = function () {\r\n    var wasAmbigTime;\r\n    if (!this._ambigZone) {\r\n        wasAmbigTime = this._ambigTime;\r\n        this.utc(true); // keepLocalTime=true (for keeping date and time values)\r\n        // the above call to .utc()/.utcOffset() unfortunately might clear the ambig flags, so restore\r\n        this._ambigTime = wasAmbigTime || false;\r\n        // Mark the zone as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\r\n        // which clears the ambig flags.\r\n        this._ambigZone = true;\r\n    }\r\n    return this; // for chaining\r\n};\r\n// Returns of the moment has a non-ambiguous timezone offset (boolean)\r\nnewMomentProto.hasZone = function () {\r\n    return !this._ambigZone;\r\n};\r\n// implicitly marks a zone\r\nnewMomentProto.local = function (keepLocalTime) {\r\n    // for when converting from ambiguously-zoned to local,\r\n    // keep the time values when converting from UTC -> local\r\n    oldMomentProto.local.call(this, this._ambigZone || keepLocalTime);\r\n    // ensure non-ambiguous\r\n    // this probably already happened via local() -> utcOffset(), but don't rely on Moment's internals\r\n    this._ambigTime = false;\r\n    this._ambigZone = false;\r\n    return this; // for chaining\r\n};\r\n// implicitly marks a zone\r\nnewMomentProto.utc = function (keepLocalTime) {\r\n    oldMomentProto.utc.call(this, keepLocalTime);\r\n    // ensure non-ambiguous\r\n    // this probably already happened via utc() -> utcOffset(), but don't rely on Moment's internals\r\n    this._ambigTime = false;\r\n    this._ambigZone = false;\r\n    return this;\r\n};\r\n// implicitly marks a zone (will probably get called upon .utc() and .local())\r\nnewMomentProto.utcOffset = function (tzo) {\r\n    if (tzo != null) { // setter\r\n        // these assignments needs to happen before the original zone method is called.\r\n        // I forget why, something to do with a browser crash.\r\n        this._ambigTime = false;\r\n        this._ambigZone = false;\r\n    }\r\n    return oldMomentProto.utcOffset.apply(this, arguments);\r\n};\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*\r\nMeant to be immutable\r\n*/\r\nvar ComponentFootprint = /** @class */ (function () {\r\n    function ComponentFootprint(unzonedRange, isAllDay) {\r\n        this.isAllDay = false; // component can choose to ignore this\r\n        this.unzonedRange = unzonedRange;\r\n        this.isAllDay = isAllDay;\r\n    }\r\n    /*\r\n    Only works for non-open-ended ranges.\r\n    */\r\n    ComponentFootprint.prototype.toLegacy = function (calendar) {\r\n        return {\r\n            start: calendar.msToMoment(this.unzonedRange.startMs, this.isAllDay),\r\n            end: calendar.msToMoment(this.unzonedRange.endMs, this.isAllDay)\r\n        };\r\n    };\r\n    return ComponentFootprint;\r\n}());\r\nexports.default = ComponentFootprint;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\r\nUSAGE:\r\n  import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\r\nin class:\r\n  on: EmitterInterface['on']\r\n  one: EmitterInterface['one']\r\n  off: EmitterInterface['off']\r\n  trigger: EmitterInterface['trigger']\r\n  triggerWith: EmitterInterface['triggerWith']\r\n  hasHandlers: EmitterInterface['hasHandlers']\r\nafter class:\r\n  EmitterMixin.mixInto(TheClass)\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar Mixin_1 = __webpack_require__(15);\r\nvar EmitterMixin = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EmitterMixin, _super);\r\n    function EmitterMixin() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // jQuery-ification via $(this) allows a non-DOM object to have\r\n    // the same event handling capabilities (including namespaces).\r\n    EmitterMixin.prototype.on = function (types, handler) {\r\n        $(this).on(types, this._prepareIntercept(handler));\r\n        return this; // for chaining\r\n    };\r\n    EmitterMixin.prototype.one = function (types, handler) {\r\n        $(this).one(types, this._prepareIntercept(handler));\r\n        return this; // for chaining\r\n    };\r\n    EmitterMixin.prototype._prepareIntercept = function (handler) {\r\n        // handlers are always called with an \"event\" object as their first param.\r\n        // sneak the `this` context and arguments into the extra parameter object\r\n        // and forward them on to the original handler.\r\n        var intercept = function (ev, extra) {\r\n            return handler.apply(extra.context || this, extra.args || []);\r\n        };\r\n        // mimick jQuery's internal \"proxy\" system (risky, I know)\r\n        // causing all functions with the same .guid to appear to be the same.\r\n        // https://github.com/jquery/jquery/blob/2.2.4/src/core.js#L448\r\n        // this is needed for calling .off with the original non-intercept handler.\r\n        if (!handler.guid) {\r\n            handler.guid = $.guid++;\r\n        }\r\n        intercept.guid = handler.guid;\r\n        return intercept;\r\n    };\r\n    EmitterMixin.prototype.off = function (types, handler) {\r\n        $(this).off(types, handler);\r\n        return this; // for chaining\r\n    };\r\n    EmitterMixin.prototype.trigger = function (types) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        // pass in \"extra\" info to the intercept\r\n        $(this).triggerHandler(types, { args: args });\r\n        return this; // for chaining\r\n    };\r\n    EmitterMixin.prototype.triggerWith = function (types, context, args) {\r\n        // `triggerHandler` is less reliant on the DOM compared to `trigger`.\r\n        // pass in \"extra\" info to the intercept.\r\n        $(this).triggerHandler(types, { context: context, args: args });\r\n        return this; // for chaining\r\n    };\r\n    EmitterMixin.prototype.hasHandlers = function (type) {\r\n        var hash = $._data(this, 'events'); // http://blog.jquery.com/2012/08/09/jquery-1-8-released/\r\n        return hash && hash[type] && hash[type].length > 0;\r\n    };\r\n    return EmitterMixin;\r\n}(Mixin_1.default));\r\nexports.default = EmitterMixin;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Interaction = /** @class */ (function () {\r\n    function Interaction(component) {\r\n        this.view = component._getView();\r\n        this.component = component;\r\n    }\r\n    Interaction.prototype.opt = function (name) {\r\n        return this.view.opt(name);\r\n    };\r\n    Interaction.prototype.end = function () {\r\n        // subclasses can implement\r\n    };\r\n    return Interaction;\r\n}());\r\nexports.default = Interaction;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Mixin = /** @class */ (function () {\r\n    function Mixin() {\r\n    }\r\n    Mixin.mixInto = function (destClass) {\r\n        var _this = this;\r\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\r\n            if (!destClass.prototype[name]) { // if destination class doesn't already define it\r\n                destClass.prototype[name] = _this.prototype[name];\r\n            }\r\n        });\r\n    };\r\n    /*\r\n    will override existing methods\r\n    TODO: remove! not used anymore\r\n    */\r\n    Mixin.mixOver = function (destClass) {\r\n        var _this = this;\r\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\r\n            destClass.prototype[name] = _this.prototype[name];\r\n        });\r\n    };\r\n    return Mixin;\r\n}());\r\nexports.default = Mixin;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\n/*\r\nMeant to be immutable\r\n*/\r\nvar EventDateProfile = /** @class */ (function () {\r\n    function EventDateProfile(start, end, calendar) {\r\n        this.start = start;\r\n        this.end = end || null;\r\n        this.unzonedRange = this.buildUnzonedRange(calendar);\r\n    }\r\n    /*\r\n    Needs an EventSource object\r\n    */\r\n    EventDateProfile.parse = function (rawProps, source) {\r\n        var startInput = rawProps.start || rawProps.date;\r\n        var endInput = rawProps.end;\r\n        if (!startInput) {\r\n            return false;\r\n        }\r\n        var calendar = source.calendar;\r\n        var start = calendar.moment(startInput);\r\n        var end = endInput ? calendar.moment(endInput) : null;\r\n        var forcedAllDay = rawProps.allDay;\r\n        var forceEventDuration = calendar.opt('forceEventDuration');\r\n        if (!start.isValid()) {\r\n            return false;\r\n        }\r\n        if (forcedAllDay == null) {\r\n            forcedAllDay = source.allDayDefault;\r\n            if (forcedAllDay == null) {\r\n                forcedAllDay = calendar.opt('allDayDefault');\r\n            }\r\n        }\r\n        if (forcedAllDay === true) {\r\n            start.stripTime();\r\n            if (end) {\r\n                end.stripTime();\r\n            }\r\n        }\r\n        else if (forcedAllDay === false) {\r\n            if (!start.hasTime()) {\r\n                start.time(0);\r\n            }\r\n            if (end && !end.hasTime()) {\r\n                end.time(0);\r\n            }\r\n        }\r\n        if (end && (!end.isValid() || !end.isAfter(start))) {\r\n            end = null;\r\n        }\r\n        if (!end && forceEventDuration) {\r\n            end = calendar.getDefaultEventEnd(!start.hasTime(), start);\r\n        }\r\n        return new EventDateProfile(start, end, calendar);\r\n    };\r\n    EventDateProfile.isStandardProp = function (propName) {\r\n        return propName === 'start' || propName === 'date' || propName === 'end' || propName === 'allDay';\r\n    };\r\n    EventDateProfile.prototype.isAllDay = function () {\r\n        return !(this.start.hasTime() || (this.end && this.end.hasTime()));\r\n    };\r\n    /*\r\n    Needs a Calendar object\r\n    */\r\n    EventDateProfile.prototype.buildUnzonedRange = function (calendar) {\r\n        var startMs = this.start.clone().stripZone().valueOf();\r\n        var endMs = this.getEnd(calendar).stripZone().valueOf();\r\n        return new UnzonedRange_1.default(startMs, endMs);\r\n    };\r\n    /*\r\n    Needs a Calendar object\r\n    */\r\n    EventDateProfile.prototype.getEnd = function (calendar) {\r\n        return this.end ?\r\n            this.end.clone() :\r\n            // derive the end from the start and allDay. compute allDay if necessary\r\n            calendar.getDefaultEventEnd(this.isAllDay(), this.start);\r\n    };\r\n    return EventDateProfile;\r\n}());\r\nexports.default = EventDateProfile;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar DragListener_1 = __webpack_require__(59);\r\n/* Tracks mouse movements over a component and raises events about which hit the mouse is over.\r\n------------------------------------------------------------------------------------------------------------------------\r\noptions:\r\n- subjectEl\r\n- subjectCenter\r\n*/\r\nvar HitDragListener = /** @class */ (function (_super) {\r\n    tslib_1.__extends(HitDragListener, _super);\r\n    function HitDragListener(component, options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.component = component;\r\n        return _this;\r\n    }\r\n    // Called when drag listening starts (but a real drag has not necessarily began).\r\n    // ev might be undefined if dragging was started manually.\r\n    HitDragListener.prototype.handleInteractionStart = function (ev) {\r\n        var subjectEl = this.subjectEl;\r\n        var subjectRect;\r\n        var origPoint;\r\n        var point;\r\n        this.component.hitsNeeded();\r\n        this.computeScrollBounds(); // for autoscroll\r\n        if (ev) {\r\n            origPoint = { left: util_1.getEvX(ev), top: util_1.getEvY(ev) };\r\n            point = origPoint;\r\n            // constrain the point to bounds of the element being dragged\r\n            if (subjectEl) {\r\n                subjectRect = util_1.getOuterRect(subjectEl); // used for centering as well\r\n                point = util_1.constrainPoint(point, subjectRect);\r\n            }\r\n            this.origHit = this.queryHit(point.left, point.top);\r\n            // treat the center of the subject as the collision point?\r\n            if (subjectEl && this.options.subjectCenter) {\r\n                // only consider the area the subject overlaps the hit. best for large subjects.\r\n                // TODO: skip this if hit didn't supply left/right/top/bottom\r\n                if (this.origHit) {\r\n                    subjectRect = util_1.intersectRects(this.origHit, subjectRect) ||\r\n                        subjectRect; // in case there is no intersection\r\n                }\r\n                point = util_1.getRectCenter(subjectRect);\r\n            }\r\n            this.coordAdjust = util_1.diffPoints(point, origPoint); // point - origPoint\r\n        }\r\n        else {\r\n            this.origHit = null;\r\n            this.coordAdjust = null;\r\n        }\r\n        // call the super-method. do it after origHit has been computed\r\n        _super.prototype.handleInteractionStart.call(this, ev);\r\n    };\r\n    // Called when the actual drag has started\r\n    HitDragListener.prototype.handleDragStart = function (ev) {\r\n        var hit;\r\n        _super.prototype.handleDragStart.call(this, ev);\r\n        // might be different from this.origHit if the min-distance is large\r\n        hit = this.queryHit(util_1.getEvX(ev), util_1.getEvY(ev));\r\n        // report the initial hit the mouse is over\r\n        // especially important if no min-distance and drag starts immediately\r\n        if (hit) {\r\n            this.handleHitOver(hit);\r\n        }\r\n    };\r\n    // Called when the drag moves\r\n    HitDragListener.prototype.handleDrag = function (dx, dy, ev) {\r\n        var hit;\r\n        _super.prototype.handleDrag.call(this, dx, dy, ev);\r\n        hit = this.queryHit(util_1.getEvX(ev), util_1.getEvY(ev));\r\n        if (!isHitsEqual(hit, this.hit)) { // a different hit than before?\r\n            if (this.hit) {\r\n                this.handleHitOut();\r\n            }\r\n            if (hit) {\r\n                this.handleHitOver(hit);\r\n            }\r\n        }\r\n    };\r\n    // Called when dragging has been stopped\r\n    HitDragListener.prototype.handleDragEnd = function (ev) {\r\n        this.handleHitDone();\r\n        _super.prototype.handleDragEnd.call(this, ev);\r\n    };\r\n    // Called when a the mouse has just moved over a new hit\r\n    HitDragListener.prototype.handleHitOver = function (hit) {\r\n        var isOrig = isHitsEqual(hit, this.origHit);\r\n        this.hit = hit;\r\n        this.trigger('hitOver', this.hit, isOrig, this.origHit);\r\n    };\r\n    // Called when the mouse has just moved out of a hit\r\n    HitDragListener.prototype.handleHitOut = function () {\r\n        if (this.hit) {\r\n            this.trigger('hitOut', this.hit);\r\n            this.handleHitDone();\r\n            this.hit = null;\r\n        }\r\n    };\r\n    // Called after a hitOut. Also called before a dragStop\r\n    HitDragListener.prototype.handleHitDone = function () {\r\n        if (this.hit) {\r\n            this.trigger('hitDone', this.hit);\r\n        }\r\n    };\r\n    // Called when the interaction ends, whether there was a real drag or not\r\n    HitDragListener.prototype.handleInteractionEnd = function (ev, isCancelled) {\r\n        _super.prototype.handleInteractionEnd.call(this, ev, isCancelled);\r\n        this.origHit = null;\r\n        this.hit = null;\r\n        this.component.hitsNotNeeded();\r\n    };\r\n    // Called when scrolling has stopped, whether through auto scroll, or the user scrolling\r\n    HitDragListener.prototype.handleScrollEnd = function () {\r\n        _super.prototype.handleScrollEnd.call(this);\r\n        // hits' absolute positions will be in new places after a user's scroll.\r\n        // HACK for recomputing.\r\n        if (this.isDragging) {\r\n            this.component.releaseHits();\r\n            this.component.prepareHits();\r\n        }\r\n    };\r\n    // Gets the hit underneath the coordinates for the given mouse event\r\n    HitDragListener.prototype.queryHit = function (left, top) {\r\n        if (this.coordAdjust) {\r\n            left += this.coordAdjust.left;\r\n            top += this.coordAdjust.top;\r\n        }\r\n        return this.component.queryHit(left, top);\r\n    };\r\n    return HitDragListener;\r\n}(DragListener_1.default));\r\nexports.default = HitDragListener;\r\n// Returns `true` if the hits are identically equal. `false` otherwise. Must be from the same component.\r\n// Two null values will be considered equal, as two \"out of the component\" states are the same.\r\nfunction isHitsEqual(hit0, hit1) {\r\n    if (!hit0 && !hit1) {\r\n        return true;\r\n    }\r\n    if (hit0 && hit1) {\r\n        return hit0.component === hit1.component &&\r\n            isHitPropsWithin(hit0, hit1) &&\r\n            isHitPropsWithin(hit1, hit0); // ensures all props are identical\r\n    }\r\n    return false;\r\n}\r\n// Returns true if all of subHit's non-standard properties are within superHit\r\nfunction isHitPropsWithin(subHit, superHit) {\r\n    for (var propName in subHit) {\r\n        if (!/^(component|left|right|top|bottom)$/.test(propName)) {\r\n            if (subHit[propName] !== superHit[propName]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.version = '3.10.1';\r\n// When introducing internal API incompatibilities (where fullcalendar plugins would break),\r\n// the minor version of the calendar should be upped (ex: 2.7.2 -> 2.8.0)\r\n// and the below integer should be incremented.\r\nexports.internalApiVersion = 12;\r\nvar util_1 = __webpack_require__(4);\r\nexports.applyAll = util_1.applyAll;\r\nexports.debounce = util_1.debounce;\r\nexports.isInt = util_1.isInt;\r\nexports.htmlEscape = util_1.htmlEscape;\r\nexports.cssToStr = util_1.cssToStr;\r\nexports.proxy = util_1.proxy;\r\nexports.capitaliseFirstLetter = util_1.capitaliseFirstLetter;\r\nexports.getOuterRect = util_1.getOuterRect;\r\nexports.getClientRect = util_1.getClientRect;\r\nexports.getContentRect = util_1.getContentRect;\r\nexports.getScrollbarWidths = util_1.getScrollbarWidths;\r\nexports.preventDefault = util_1.preventDefault;\r\nexports.parseFieldSpecs = util_1.parseFieldSpecs;\r\nexports.compareByFieldSpecs = util_1.compareByFieldSpecs;\r\nexports.compareByFieldSpec = util_1.compareByFieldSpec;\r\nexports.flexibleCompare = util_1.flexibleCompare;\r\nexports.computeGreatestUnit = util_1.computeGreatestUnit;\r\nexports.divideRangeByDuration = util_1.divideRangeByDuration;\r\nexports.divideDurationByDuration = util_1.divideDurationByDuration;\r\nexports.multiplyDuration = util_1.multiplyDuration;\r\nexports.durationHasTime = util_1.durationHasTime;\r\nexports.log = util_1.log;\r\nexports.warn = util_1.warn;\r\nexports.removeExact = util_1.removeExact;\r\nexports.intersectRects = util_1.intersectRects;\r\nexports.allowSelection = util_1.allowSelection;\r\nexports.attrsToStr = util_1.attrsToStr;\r\nexports.compareNumbers = util_1.compareNumbers;\r\nexports.compensateScroll = util_1.compensateScroll;\r\nexports.computeDurationGreatestUnit = util_1.computeDurationGreatestUnit;\r\nexports.constrainPoint = util_1.constrainPoint;\r\nexports.copyOwnProps = util_1.copyOwnProps;\r\nexports.diffByUnit = util_1.diffByUnit;\r\nexports.diffDay = util_1.diffDay;\r\nexports.diffDayTime = util_1.diffDayTime;\r\nexports.diffPoints = util_1.diffPoints;\r\nexports.disableCursor = util_1.disableCursor;\r\nexports.distributeHeight = util_1.distributeHeight;\r\nexports.enableCursor = util_1.enableCursor;\r\nexports.firstDefined = util_1.firstDefined;\r\nexports.getEvIsTouch = util_1.getEvIsTouch;\r\nexports.getEvX = util_1.getEvX;\r\nexports.getEvY = util_1.getEvY;\r\nexports.getRectCenter = util_1.getRectCenter;\r\nexports.getScrollParent = util_1.getScrollParent;\r\nexports.hasOwnProp = util_1.hasOwnProp;\r\nexports.isArraysEqual = util_1.isArraysEqual;\r\nexports.isNativeDate = util_1.isNativeDate;\r\nexports.isPrimaryMouseButton = util_1.isPrimaryMouseButton;\r\nexports.isTimeString = util_1.isTimeString;\r\nexports.matchCellWidths = util_1.matchCellWidths;\r\nexports.mergeProps = util_1.mergeProps;\r\nexports.preventSelection = util_1.preventSelection;\r\nexports.removeMatching = util_1.removeMatching;\r\nexports.stripHtmlEntities = util_1.stripHtmlEntities;\r\nexports.subtractInnerElHeight = util_1.subtractInnerElHeight;\r\nexports.uncompensateScroll = util_1.uncompensateScroll;\r\nexports.undistributeHeight = util_1.undistributeHeight;\r\nexports.dayIDs = util_1.dayIDs;\r\nexports.unitsDesc = util_1.unitsDesc;\r\nvar date_formatting_1 = __webpack_require__(49);\r\nexports.formatDate = date_formatting_1.formatDate;\r\nexports.formatRange = date_formatting_1.formatRange;\r\nexports.queryMostGranularFormatUnit = date_formatting_1.queryMostGranularFormatUnit;\r\nvar locale_1 = __webpack_require__(32);\r\nexports.datepickerLocale = locale_1.datepickerLocale;\r\nexports.locale = locale_1.locale;\r\nexports.getMomentLocaleData = locale_1.getMomentLocaleData;\r\nexports.populateInstanceComputableOptions = locale_1.populateInstanceComputableOptions;\r\nvar util_2 = __webpack_require__(19);\r\nexports.eventDefsToEventInstances = util_2.eventDefsToEventInstances;\r\nexports.eventFootprintToComponentFootprint = util_2.eventFootprintToComponentFootprint;\r\nexports.eventInstanceToEventRange = util_2.eventInstanceToEventRange;\r\nexports.eventInstanceToUnzonedRange = util_2.eventInstanceToUnzonedRange;\r\nexports.eventRangeToEventFootprint = util_2.eventRangeToEventFootprint;\r\nvar moment_ext_1 = __webpack_require__(11);\r\nexports.moment = moment_ext_1.default;\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nexports.EmitterMixin = EmitterMixin_1.default;\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nexports.ListenerMixin = ListenerMixin_1.default;\r\nvar Model_1 = __webpack_require__(51);\r\nexports.Model = Model_1.default;\r\nvar Constraints_1 = __webpack_require__(217);\r\nexports.Constraints = Constraints_1.default;\r\nvar DateProfileGenerator_1 = __webpack_require__(55);\r\nexports.DateProfileGenerator = DateProfileGenerator_1.default;\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nexports.UnzonedRange = UnzonedRange_1.default;\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nexports.ComponentFootprint = ComponentFootprint_1.default;\r\nvar BusinessHourGenerator_1 = __webpack_require__(218);\r\nexports.BusinessHourGenerator = BusinessHourGenerator_1.default;\r\nvar EventPeriod_1 = __webpack_require__(219);\r\nexports.EventPeriod = EventPeriod_1.default;\r\nvar EventManager_1 = __webpack_require__(220);\r\nexports.EventManager = EventManager_1.default;\r\nvar EventDef_1 = __webpack_require__(37);\r\nexports.EventDef = EventDef_1.default;\r\nvar EventDefMutation_1 = __webpack_require__(39);\r\nexports.EventDefMutation = EventDefMutation_1.default;\r\nvar EventDefParser_1 = __webpack_require__(36);\r\nexports.EventDefParser = EventDefParser_1.default;\r\nvar EventInstance_1 = __webpack_require__(53);\r\nexports.EventInstance = EventInstance_1.default;\r\nvar EventRange_1 = __webpack_require__(50);\r\nexports.EventRange = EventRange_1.default;\r\nvar RecurringEventDef_1 = __webpack_require__(54);\r\nexports.RecurringEventDef = RecurringEventDef_1.default;\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nexports.SingleEventDef = SingleEventDef_1.default;\r\nvar EventDefDateMutation_1 = __webpack_require__(40);\r\nexports.EventDefDateMutation = EventDefDateMutation_1.default;\r\nvar EventDateProfile_1 = __webpack_require__(16);\r\nexports.EventDateProfile = EventDateProfile_1.default;\r\nvar EventSourceParser_1 = __webpack_require__(38);\r\nexports.EventSourceParser = EventSourceParser_1.default;\r\nvar EventSource_1 = __webpack_require__(6);\r\nexports.EventSource = EventSource_1.default;\r\nvar ThemeRegistry_1 = __webpack_require__(57);\r\nexports.defineThemeSystem = ThemeRegistry_1.defineThemeSystem;\r\nexports.getThemeSystemClass = ThemeRegistry_1.getThemeSystemClass;\r\nvar EventInstanceGroup_1 = __webpack_require__(20);\r\nexports.EventInstanceGroup = EventInstanceGroup_1.default;\r\nvar ArrayEventSource_1 = __webpack_require__(56);\r\nexports.ArrayEventSource = ArrayEventSource_1.default;\r\nvar FuncEventSource_1 = __webpack_require__(223);\r\nexports.FuncEventSource = FuncEventSource_1.default;\r\nvar JsonFeedEventSource_1 = __webpack_require__(224);\r\nexports.JsonFeedEventSource = JsonFeedEventSource_1.default;\r\nvar EventFootprint_1 = __webpack_require__(34);\r\nexports.EventFootprint = EventFootprint_1.default;\r\nvar Class_1 = __webpack_require__(35);\r\nexports.Class = Class_1.default;\r\nvar Mixin_1 = __webpack_require__(15);\r\nexports.Mixin = Mixin_1.default;\r\nvar CoordCache_1 = __webpack_require__(58);\r\nexports.CoordCache = CoordCache_1.default;\r\nvar Iterator_1 = __webpack_require__(225);\r\nexports.Iterator = Iterator_1.default;\r\nvar DragListener_1 = __webpack_require__(59);\r\nexports.DragListener = DragListener_1.default;\r\nvar HitDragListener_1 = __webpack_require__(17);\r\nexports.HitDragListener = HitDragListener_1.default;\r\nvar MouseFollower_1 = __webpack_require__(226);\r\nexports.MouseFollower = MouseFollower_1.default;\r\nvar ParsableModelMixin_1 = __webpack_require__(52);\r\nexports.ParsableModelMixin = ParsableModelMixin_1.default;\r\nvar Popover_1 = __webpack_require__(227);\r\nexports.Popover = Popover_1.default;\r\nvar Promise_1 = __webpack_require__(21);\r\nexports.Promise = Promise_1.default;\r\nvar TaskQueue_1 = __webpack_require__(228);\r\nexports.TaskQueue = TaskQueue_1.default;\r\nvar RenderQueue_1 = __webpack_require__(229);\r\nexports.RenderQueue = RenderQueue_1.default;\r\nvar Scroller_1 = __webpack_require__(41);\r\nexports.Scroller = Scroller_1.default;\r\nvar Theme_1 = __webpack_require__(22);\r\nexports.Theme = Theme_1.default;\r\nvar Component_1 = __webpack_require__(230);\r\nexports.Component = Component_1.default;\r\nvar DateComponent_1 = __webpack_require__(231);\r\nexports.DateComponent = DateComponent_1.default;\r\nvar InteractiveDateComponent_1 = __webpack_require__(42);\r\nexports.InteractiveDateComponent = InteractiveDateComponent_1.default;\r\nvar Calendar_1 = __webpack_require__(232);\r\nexports.Calendar = Calendar_1.default;\r\nvar View_1 = __webpack_require__(43);\r\nexports.View = View_1.default;\r\nvar ViewRegistry_1 = __webpack_require__(24);\r\nexports.defineView = ViewRegistry_1.defineView;\r\nexports.getViewConfig = ViewRegistry_1.getViewConfig;\r\nvar DayTableMixin_1 = __webpack_require__(60);\r\nexports.DayTableMixin = DayTableMixin_1.default;\r\nvar BusinessHourRenderer_1 = __webpack_require__(61);\r\nexports.BusinessHourRenderer = BusinessHourRenderer_1.default;\r\nvar EventRenderer_1 = __webpack_require__(44);\r\nexports.EventRenderer = EventRenderer_1.default;\r\nvar FillRenderer_1 = __webpack_require__(62);\r\nexports.FillRenderer = FillRenderer_1.default;\r\nvar HelperRenderer_1 = __webpack_require__(63);\r\nexports.HelperRenderer = HelperRenderer_1.default;\r\nvar ExternalDropping_1 = __webpack_require__(233);\r\nexports.ExternalDropping = ExternalDropping_1.default;\r\nvar EventResizing_1 = __webpack_require__(234);\r\nexports.EventResizing = EventResizing_1.default;\r\nvar EventPointing_1 = __webpack_require__(64);\r\nexports.EventPointing = EventPointing_1.default;\r\nvar EventDragging_1 = __webpack_require__(235);\r\nexports.EventDragging = EventDragging_1.default;\r\nvar DateSelecting_1 = __webpack_require__(236);\r\nexports.DateSelecting = DateSelecting_1.default;\r\nvar DateClicking_1 = __webpack_require__(237);\r\nexports.DateClicking = DateClicking_1.default;\r\nvar Interaction_1 = __webpack_require__(14);\r\nexports.Interaction = Interaction_1.default;\r\nvar StandardInteractionsMixin_1 = __webpack_require__(65);\r\nexports.StandardInteractionsMixin = StandardInteractionsMixin_1.default;\r\nvar AgendaView_1 = __webpack_require__(238);\r\nexports.AgendaView = AgendaView_1.default;\r\nvar TimeGrid_1 = __webpack_require__(239);\r\nexports.TimeGrid = TimeGrid_1.default;\r\nvar TimeGridEventRenderer_1 = __webpack_require__(240);\r\nexports.TimeGridEventRenderer = TimeGridEventRenderer_1.default;\r\nvar TimeGridFillRenderer_1 = __webpack_require__(242);\r\nexports.TimeGridFillRenderer = TimeGridFillRenderer_1.default;\r\nvar TimeGridHelperRenderer_1 = __webpack_require__(241);\r\nexports.TimeGridHelperRenderer = TimeGridHelperRenderer_1.default;\r\nvar DayGrid_1 = __webpack_require__(66);\r\nexports.DayGrid = DayGrid_1.default;\r\nvar DayGridEventRenderer_1 = __webpack_require__(243);\r\nexports.DayGridEventRenderer = DayGridEventRenderer_1.default;\r\nvar DayGridFillRenderer_1 = __webpack_require__(245);\r\nexports.DayGridFillRenderer = DayGridFillRenderer_1.default;\r\nvar DayGridHelperRenderer_1 = __webpack_require__(244);\r\nexports.DayGridHelperRenderer = DayGridHelperRenderer_1.default;\r\nvar BasicView_1 = __webpack_require__(67);\r\nexports.BasicView = BasicView_1.default;\r\nvar BasicViewDateProfileGenerator_1 = __webpack_require__(68);\r\nexports.BasicViewDateProfileGenerator = BasicViewDateProfileGenerator_1.default;\r\nvar MonthView_1 = __webpack_require__(246);\r\nexports.MonthView = MonthView_1.default;\r\nvar MonthViewDateProfileGenerator_1 = __webpack_require__(247);\r\nexports.MonthViewDateProfileGenerator = MonthViewDateProfileGenerator_1.default;\r\nvar ListView_1 = __webpack_require__(248);\r\nexports.ListView = ListView_1.default;\r\nvar ListEventPointing_1 = __webpack_require__(250);\r\nexports.ListEventPointing = ListEventPointing_1.default;\r\nvar ListEventRenderer_1 = __webpack_require__(249);\r\nexports.ListEventRenderer = ListEventRenderer_1.default;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventRange_1 = __webpack_require__(50);\r\nvar EventFootprint_1 = __webpack_require__(34);\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nfunction eventDefsToEventInstances(eventDefs, unzonedRange) {\r\n    var eventInstances = [];\r\n    var i;\r\n    for (i = 0; i < eventDefs.length; i++) {\r\n        eventInstances.push.apply(eventInstances, // append\r\n        eventDefs[i].buildInstances(unzonedRange));\r\n    }\r\n    return eventInstances;\r\n}\r\nexports.eventDefsToEventInstances = eventDefsToEventInstances;\r\nfunction eventInstanceToEventRange(eventInstance) {\r\n    return new EventRange_1.default(eventInstance.dateProfile.unzonedRange, eventInstance.def, eventInstance);\r\n}\r\nexports.eventInstanceToEventRange = eventInstanceToEventRange;\r\nfunction eventRangeToEventFootprint(eventRange) {\r\n    return new EventFootprint_1.default(new ComponentFootprint_1.default(eventRange.unzonedRange, eventRange.eventDef.isAllDay()), eventRange.eventDef, eventRange.eventInstance // might not exist\r\n    );\r\n}\r\nexports.eventRangeToEventFootprint = eventRangeToEventFootprint;\r\nfunction eventInstanceToUnzonedRange(eventInstance) {\r\n    return eventInstance.dateProfile.unzonedRange;\r\n}\r\nexports.eventInstanceToUnzonedRange = eventInstanceToUnzonedRange;\r\nfunction eventFootprintToComponentFootprint(eventFootprint) {\r\n    return eventFootprint.componentFootprint;\r\n}\r\nexports.eventFootprintToComponentFootprint = eventFootprintToComponentFootprint;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar util_1 = __webpack_require__(19);\r\nvar EventRange_1 = __webpack_require__(50);\r\n/*\r\nIt's expected that there will be at least one EventInstance,\r\nOR that an explicitEventDef is assigned.\r\n*/\r\nvar EventInstanceGroup = /** @class */ (function () {\r\n    function EventInstanceGroup(eventInstances) {\r\n        this.eventInstances = eventInstances || [];\r\n    }\r\n    EventInstanceGroup.prototype.getAllEventRanges = function (constraintRange) {\r\n        if (constraintRange) {\r\n            return this.sliceNormalRenderRanges(constraintRange);\r\n        }\r\n        else {\r\n            return this.eventInstances.map(util_1.eventInstanceToEventRange);\r\n        }\r\n    };\r\n    EventInstanceGroup.prototype.sliceRenderRanges = function (constraintRange) {\r\n        if (this.isInverse()) {\r\n            return this.sliceInverseRenderRanges(constraintRange);\r\n        }\r\n        else {\r\n            return this.sliceNormalRenderRanges(constraintRange);\r\n        }\r\n    };\r\n    EventInstanceGroup.prototype.sliceNormalRenderRanges = function (constraintRange) {\r\n        var eventInstances = this.eventInstances;\r\n        var i;\r\n        var eventInstance;\r\n        var slicedRange;\r\n        var slicedEventRanges = [];\r\n        for (i = 0; i < eventInstances.length; i++) {\r\n            eventInstance = eventInstances[i];\r\n            slicedRange = eventInstance.dateProfile.unzonedRange.intersect(constraintRange);\r\n            if (slicedRange) {\r\n                slicedEventRanges.push(new EventRange_1.default(slicedRange, eventInstance.def, eventInstance));\r\n            }\r\n        }\r\n        return slicedEventRanges;\r\n    };\r\n    EventInstanceGroup.prototype.sliceInverseRenderRanges = function (constraintRange) {\r\n        var unzonedRanges = this.eventInstances.map(util_1.eventInstanceToUnzonedRange);\r\n        var ownerDef = this.getEventDef();\r\n        unzonedRanges = UnzonedRange_1.default.invertRanges(unzonedRanges, constraintRange);\r\n        return unzonedRanges.map(function (unzonedRange) {\r\n            return new EventRange_1.default(unzonedRange, ownerDef); // don't give an EventInstance\r\n        });\r\n    };\r\n    EventInstanceGroup.prototype.isInverse = function () {\r\n        return this.getEventDef().hasInverseRendering();\r\n    };\r\n    EventInstanceGroup.prototype.getEventDef = function () {\r\n        return this.explicitEventDef || this.eventInstances[0].def;\r\n    };\r\n    return EventInstanceGroup;\r\n}());\r\nexports.default = EventInstanceGroup;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar PromiseStub = {\r\n    construct: function (executor) {\r\n        var deferred = $.Deferred();\r\n        var promise = deferred.promise();\r\n        if (typeof executor === 'function') {\r\n            executor(function (val) {\r\n                deferred.resolve(val);\r\n                attachImmediatelyResolvingThen(promise, val);\r\n            }, function () {\r\n                deferred.reject();\r\n                attachImmediatelyRejectingThen(promise);\r\n            });\r\n        }\r\n        return promise;\r\n    },\r\n    resolve: function (val) {\r\n        var deferred = $.Deferred().resolve(val);\r\n        var promise = deferred.promise();\r\n        attachImmediatelyResolvingThen(promise, val);\r\n        return promise;\r\n    },\r\n    reject: function () {\r\n        var deferred = $.Deferred().reject();\r\n        var promise = deferred.promise();\r\n        attachImmediatelyRejectingThen(promise);\r\n        return promise;\r\n    }\r\n};\r\nexports.default = PromiseStub;\r\nfunction attachImmediatelyResolvingThen(promise, val) {\r\n    promise.then = function (onResolve) {\r\n        if (typeof onResolve === 'function') {\r\n            return PromiseStub.resolve(onResolve(val));\r\n        }\r\n        return promise;\r\n    };\r\n}\r\nfunction attachImmediatelyRejectingThen(promise) {\r\n    promise.then = function (onResolve, onReject) {\r\n        if (typeof onReject === 'function') {\r\n            onReject();\r\n        }\r\n        return promise;\r\n    };\r\n}\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar Theme = /** @class */ (function () {\r\n    function Theme(optionsManager) {\r\n        this.optionsManager = optionsManager;\r\n        this.processIconOverride();\r\n    }\r\n    Theme.prototype.processIconOverride = function () {\r\n        if (this.iconOverrideOption) {\r\n            this.setIconOverride(this.optionsManager.get(this.iconOverrideOption));\r\n        }\r\n    };\r\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\r\n        var iconClassesCopy;\r\n        var buttonName;\r\n        if ($.isPlainObject(iconOverrideHash)) {\r\n            iconClassesCopy = $.extend({}, this.iconClasses);\r\n            for (buttonName in iconOverrideHash) {\r\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\r\n            }\r\n            this.iconClasses = iconClassesCopy;\r\n        }\r\n        else if (iconOverrideHash === false) {\r\n            this.iconClasses = {};\r\n        }\r\n    };\r\n    Theme.prototype.applyIconOverridePrefix = function (className) {\r\n        var prefix = this.iconOverridePrefix;\r\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\r\n            className = prefix + className;\r\n        }\r\n        return className;\r\n    };\r\n    Theme.prototype.getClass = function (key) {\r\n        return this.classes[key] || '';\r\n    };\r\n    Theme.prototype.getIconClass = function (buttonName) {\r\n        var className = this.iconClasses[buttonName];\r\n        if (className) {\r\n            return this.baseIconClass + ' ' + className;\r\n        }\r\n        return '';\r\n    };\r\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\r\n        var className;\r\n        if (this.iconOverrideCustomButtonOption) {\r\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\r\n            if (className) {\r\n                return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className);\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    return Theme;\r\n}());\r\nexports.default = Theme;\r\nTheme.prototype.classes = {};\r\nTheme.prototype.iconClasses = {};\r\nTheme.prototype.baseIconClass = '';\r\nTheme.prototype.iconOverridePrefix = '';\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar exportHooks = __webpack_require__(18);\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nexportHooks.touchMouseIgnoreWait = 500;\r\nvar globalEmitter = null;\r\nvar neededCount = 0;\r\n/*\r\nListens to document and window-level user-interaction events, like touch events and mouse events,\r\nand fires these events as-is to whoever is observing a GlobalEmitter.\r\nBest when used as a singleton via GlobalEmitter.get()\r\n\nNormalizes mouse/touch events. For examples:\r\n- ignores the the simulated mouse events that happen after a quick tap: mousemove+mousedown+mouseup+click\r\n- compensates for various buggy scenarios where a touchend does not fire\r\n*/\r\nvar GlobalEmitter = /** @class */ (function () {\r\n    function GlobalEmitter() {\r\n        this.isTouching = false;\r\n        this.mouseIgnoreDepth = 0;\r\n    }\r\n    // gets the singleton\r\n    GlobalEmitter.get = function () {\r\n        if (!globalEmitter) {\r\n            globalEmitter = new GlobalEmitter();\r\n            globalEmitter.bind();\r\n        }\r\n        return globalEmitter;\r\n    };\r\n    // called when an object knows it will need a GlobalEmitter in the near future.\r\n    GlobalEmitter.needed = function () {\r\n        GlobalEmitter.get(); // ensures globalEmitter\r\n        neededCount++;\r\n    };\r\n    // called when the object that originally called needed() doesn't need a GlobalEmitter anymore.\r\n    GlobalEmitter.unneeded = function () {\r\n        neededCount--;\r\n        if (!neededCount) { // nobody else needs it\r\n            globalEmitter.unbind();\r\n            globalEmitter = null;\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.bind = function () {\r\n        var _this = this;\r\n        this.listenTo($(document), {\r\n            touchstart: this.handleTouchStart,\r\n            touchcancel: this.handleTouchCancel,\r\n            touchend: this.handleTouchEnd,\r\n            mousedown: this.handleMouseDown,\r\n            mousemove: this.handleMouseMove,\r\n            mouseup: this.handleMouseUp,\r\n            click: this.handleClick,\r\n            selectstart: this.handleSelectStart,\r\n            contextmenu: this.handleContextMenu\r\n        });\r\n        // because we need to call preventDefault\r\n        // because https://www.chromestatus.com/features/5093566007214080\r\n        // TODO: investigate performance because this is a global handler\r\n        window.addEventListener('touchmove', this.handleTouchMoveProxy = function (ev) {\r\n            _this.handleTouchMove($.Event(ev));\r\n        }, { passive: false } // allows preventDefault()\r\n        );\r\n        // attach a handler to get called when ANY scroll action happens on the page.\r\n        // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\r\n        // http://stackoverflow.com/a/32954565/96342\r\n        window.addEventListener('scroll', this.handleScrollProxy = function (ev) {\r\n            _this.handleScroll($.Event(ev));\r\n        }, true // useCapture\r\n        );\r\n    };\r\n    GlobalEmitter.prototype.unbind = function () {\r\n        this.stopListeningTo($(document));\r\n        window.removeEventListener('touchmove', this.handleTouchMoveProxy, { passive: false } // use same options as addEventListener\r\n        );\r\n        window.removeEventListener('scroll', this.handleScrollProxy, true // useCapture\r\n        );\r\n    };\r\n    // Touch Handlers\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    GlobalEmitter.prototype.handleTouchStart = function (ev) {\r\n        // if a previous touch interaction never ended with a touchend, then implicitly end it,\r\n        // but since a new touch interaction is about to begin, don't start the mouse ignore period.\r\n        this.stopTouch(ev, true); // skipMouseIgnore=true\r\n        this.isTouching = true;\r\n        this.trigger('touchstart', ev);\r\n    };\r\n    GlobalEmitter.prototype.handleTouchMove = function (ev) {\r\n        if (this.isTouching) {\r\n            this.trigger('touchmove', ev);\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.handleTouchCancel = function (ev) {\r\n        if (this.isTouching) {\r\n            this.trigger('touchcancel', ev);\r\n            // Have touchcancel fire an artificial touchend. That way, handlers won't need to listen to both.\r\n            // If touchend fires later, it won't have any effect b/c isTouching will be false.\r\n            this.stopTouch(ev);\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.handleTouchEnd = function (ev) {\r\n        this.stopTouch(ev);\r\n    };\r\n    // Mouse Handlers\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    GlobalEmitter.prototype.handleMouseDown = function (ev) {\r\n        if (!this.shouldIgnoreMouse()) {\r\n            this.trigger('mousedown', ev);\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.handleMouseMove = function (ev) {\r\n        if (!this.shouldIgnoreMouse()) {\r\n            this.trigger('mousemove', ev);\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.handleMouseUp = function (ev) {\r\n        if (!this.shouldIgnoreMouse()) {\r\n            this.trigger('mouseup', ev);\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.handleClick = function (ev) {\r\n        if (!this.shouldIgnoreMouse()) {\r\n            this.trigger('click', ev);\r\n        }\r\n    };\r\n    // Misc Handlers\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    GlobalEmitter.prototype.handleSelectStart = function (ev) {\r\n        this.trigger('selectstart', ev);\r\n    };\r\n    GlobalEmitter.prototype.handleContextMenu = function (ev) {\r\n        this.trigger('contextmenu', ev);\r\n    };\r\n    GlobalEmitter.prototype.handleScroll = function (ev) {\r\n        this.trigger('scroll', ev);\r\n    };\r\n    // Utils\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    GlobalEmitter.prototype.stopTouch = function (ev, skipMouseIgnore) {\r\n        if (skipMouseIgnore === void 0) { skipMouseIgnore = false; }\r\n        if (this.isTouching) {\r\n            this.isTouching = false;\r\n            this.trigger('touchend', ev);\r\n            if (!skipMouseIgnore) {\r\n                this.startTouchMouseIgnore();\r\n            }\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.startTouchMouseIgnore = function () {\r\n        var _this = this;\r\n        var wait = exportHooks.touchMouseIgnoreWait;\r\n        if (wait) {\r\n            this.mouseIgnoreDepth++;\r\n            setTimeout(function () {\r\n                _this.mouseIgnoreDepth--;\r\n            }, wait);\r\n        }\r\n    };\r\n    GlobalEmitter.prototype.shouldIgnoreMouse = function () {\r\n        return this.isTouching || Boolean(this.mouseIgnoreDepth);\r\n    };\r\n    return GlobalEmitter;\r\n}());\r\nexports.default = GlobalEmitter;\r\nListenerMixin_1.default.mixInto(GlobalEmitter);\r\nEmitterMixin_1.default.mixInto(GlobalEmitter);\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar exportHooks = __webpack_require__(18);\r\nexports.viewHash = {};\r\nexportHooks.views = exports.viewHash;\r\nfunction defineView(viewName, viewConfig) {\r\n    exports.viewHash[viewName] = viewConfig;\r\n}\r\nexports.defineView = defineView;\r\nfunction getViewConfig(viewName) {\r\n    return exports.viewHash[viewName];\r\n}\r\nexports.getViewConfig = getViewConfig;\r\n\n\n/***/ }),\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar exportHooks = __webpack_require__(18);\r\nvar options_1 = __webpack_require__(33);\r\nvar util_1 = __webpack_require__(4);\r\nexports.localeOptionHash = {};\r\nexportHooks.locales = exports.localeOptionHash;\r\n// NOTE: can't guarantee any of these computations will run because not every locale has datepicker\r\n// configs, so make sure there are English fallbacks for these in the defaults file.\r\nvar dpComputableOptions = {\r\n    buttonText: function (dpOptions) {\r\n        return {\r\n            // the translations sometimes wrongly contain HTML entities\r\n            prev: util_1.stripHtmlEntities(dpOptions.prevText),\r\n            next: util_1.stripHtmlEntities(dpOptions.nextText),\r\n            today: util_1.stripHtmlEntities(dpOptions.currentText)\r\n        };\r\n    },\r\n    // Produces format strings like \"MMMM YYYY\" -> \"September 2014\"\r\n    monthYearFormat: function (dpOptions) {\r\n        return dpOptions.showMonthAfterYear ?\r\n            'YYYY[' + dpOptions.yearSuffix + '] MMMM' :\r\n            'MMMM YYYY[' + dpOptions.yearSuffix + ']';\r\n    }\r\n};\r\nvar momComputableOptions = {\r\n    // Produces format strings like \"ddd M/D\" -> \"Fri 9/15\"\r\n    dayOfMonthFormat: function (momOptions, fcOptions) {\r\n        var format = momOptions.longDateFormat('l'); // for the format like \"M/D/YYYY\"\r\n        // strip the year off the edge, as well as other misc non-whitespace chars\r\n        format = format.replace(/^Y+[^\\w\\s]*|[^\\w\\s]*Y+$/g, '');\r\n        if (fcOptions.isRTL) {\r\n            format += ' ddd'; // for RTL, add day-of-week to end\r\n        }\r\n        else {\r\n            format = 'ddd ' + format; // for LTR, add day-of-week to beginning\r\n        }\r\n        return format;\r\n    },\r\n    // Produces format strings like \"h:mma\" -> \"6:00pm\"\r\n    mediumTimeFormat: function (momOptions) {\r\n        return momOptions.longDateFormat('LT')\r\n            .replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\r\n    },\r\n    // Produces format strings like \"h(:mm)a\" -> \"6pm\" / \"6:30pm\"\r\n    smallTimeFormat: function (momOptions) {\r\n        return momOptions.longDateFormat('LT')\r\n            .replace(':mm', '(:mm)')\r\n            .replace(/(\\Wmm)$/, '($1)') // like above, but for foreign locales\r\n            .replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\r\n    },\r\n    // Produces format strings like \"h(:mm)t\" -> \"6p\" / \"6:30p\"\r\n    extraSmallTimeFormat: function (momOptions) {\r\n        return momOptions.longDateFormat('LT')\r\n            .replace(':mm', '(:mm)')\r\n            .replace(/(\\Wmm)$/, '($1)') // like above, but for foreign locales\r\n            .replace(/\\s*a$/i, 't'); // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand\r\n    },\r\n    // Produces format strings like \"ha\" / \"H\" -> \"6pm\" / \"18\"\r\n    hourFormat: function (momOptions) {\r\n        return momOptions.longDateFormat('LT')\r\n            .replace(':mm', '')\r\n            .replace(/(\\Wmm)$/, '') // like above, but for foreign locales\r\n            .replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\r\n    },\r\n    // Produces format strings like \"h:mm\" -> \"6:30\" (with no AM/PM)\r\n    noMeridiemTimeFormat: function (momOptions) {\r\n        return momOptions.longDateFormat('LT')\r\n            .replace(/\\s*a$/i, ''); // remove trailing AM/PM\r\n    }\r\n};\r\n// options that should be computed off live calendar options (considers override options)\r\n// TODO: best place for this? related to locale?\r\n// TODO: flipping text based on isRTL is a bad idea because the CSS `direction` might want to handle it\r\nvar instanceComputableOptions = {\r\n    // Produces format strings for results like \"Mo 16\"\r\n    smallDayDateFormat: function (options) {\r\n        return options.isRTL ?\r\n            'D dd' :\r\n            'dd D';\r\n    },\r\n    // Produces format strings for results like \"Wk 5\"\r\n    weekFormat: function (options) {\r\n        return options.isRTL ?\r\n            'w[ ' + options.weekNumberTitle + ']' :\r\n            '[' + options.weekNumberTitle + ' ]w';\r\n    },\r\n    // Produces format strings for results like \"Wk5\"\r\n    smallWeekFormat: function (options) {\r\n        return options.isRTL ?\r\n            'w[' + options.weekNumberTitle + ']' :\r\n            '[' + options.weekNumberTitle + ']w';\r\n    }\r\n};\r\n// TODO: make these computable properties in optionsManager\r\nfunction populateInstanceComputableOptions(options) {\r\n    $.each(instanceComputableOptions, function (name, func) {\r\n        if (options[name] == null) {\r\n            options[name] = func(options);\r\n        }\r\n    });\r\n}\r\nexports.populateInstanceComputableOptions = populateInstanceComputableOptions;\r\n// Initialize jQuery UI datepicker translations while using some of the translations\r\n// Will set this as the default locales for datepicker.\r\nfunction datepickerLocale(localeCode, dpLocaleCode, dpOptions) {\r\n    // get the FullCalendar internal option hash for this locale. create if necessary\r\n    var fcOptions = exports.localeOptionHash[localeCode] || (exports.localeOptionHash[localeCode] = {});\r\n    // transfer some simple options from datepicker to fc\r\n    fcOptions.isRTL = dpOptions.isRTL;\r\n    fcOptions.weekNumberTitle = dpOptions.weekHeader;\r\n    // compute some more complex options from datepicker\r\n    $.each(dpComputableOptions, function (name, func) {\r\n        fcOptions[name] = func(dpOptions);\r\n    });\r\n    var jqDatePicker = $.datepicker;\r\n    // is jQuery UI Datepicker is on the page?\r\n    if (jqDatePicker) {\r\n        // Register the locale data.\r\n        // FullCalendar and MomentJS use locale codes like \"pt-br\" but Datepicker\r\n        // does it like \"pt-BR\" or if it doesn't have the locale, maybe just \"pt\".\r\n        // Make an alias so the locale can be referenced either way.\r\n        jqDatePicker.regional[dpLocaleCode] =\r\n            jqDatePicker.regional[localeCode] = // alias\r\n                dpOptions;\r\n        // Alias 'en' to the default locale data. Do this every time.\r\n        jqDatePicker.regional.en = jqDatePicker.regional[''];\r\n        // Set as Datepicker's global defaults.\r\n        jqDatePicker.setDefaults(dpOptions);\r\n    }\r\n}\r\nexports.datepickerLocale = datepickerLocale;\r\n// Sets FullCalendar-specific translations. Will set the locales as the global default.\r\nfunction locale(localeCode, newFcOptions) {\r\n    var fcOptions;\r\n    var momOptions;\r\n    // get the FullCalendar internal option hash for this locale. create if necessary\r\n    fcOptions = exports.localeOptionHash[localeCode] || (exports.localeOptionHash[localeCode] = {});\r\n    // provided new options for this locales? merge them in\r\n    if (newFcOptions) {\r\n        fcOptions = exports.localeOptionHash[localeCode] = options_1.mergeOptions([fcOptions, newFcOptions]);\r\n    }\r\n    // compute locale options that weren't defined.\r\n    // always do this. newFcOptions can be undefined when initializing from i18n file,\r\n    // so no way to tell if this is an initialization or a default-setting.\r\n    momOptions = getMomentLocaleData(localeCode); // will fall back to en\r\n    $.each(momComputableOptions, function (name, func) {\r\n        if (fcOptions[name] == null) {\r\n            fcOptions[name] = (func)(momOptions, fcOptions);\r\n        }\r\n    });\r\n    // set it as the default locale for FullCalendar\r\n    options_1.globalDefaults.locale = localeCode;\r\n}\r\nexports.locale = locale;\r\n// Returns moment's internal locale data. If doesn't exist, returns English.\r\nfunction getMomentLocaleData(localeCode) {\r\n    return moment.localeData(localeCode) || moment.localeData('en');\r\n}\r\nexports.getMomentLocaleData = getMomentLocaleData;\r\n// Initialize English by forcing computation of moment-derived options.\r\n// Also, sets it as the default.\r\nlocale('en', options_1.englishDefaults);\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar util_1 = __webpack_require__(4);\r\nexports.globalDefaults = {\r\n    titleRangeSeparator: ' \\u2013 ',\r\n    monthYearFormat: 'MMMM YYYY',\r\n    defaultTimedEventDuration: '02:00:00',\r\n    defaultAllDayEventDuration: { days: 1 },\r\n    forceEventDuration: false,\r\n    nextDayThreshold: '09:00:00',\r\n    // display\r\n    columnHeader: true,\r\n    defaultView: 'month',\r\n    aspectRatio: 1.35,\r\n    header: {\r\n        left: 'title',\r\n        center: '',\r\n        right: 'today prev,next'\r\n    },\r\n    weekends: true,\r\n    weekNumbers: false,\r\n    weekNumberTitle: 'W',\r\n    weekNumberCalculation: 'local',\r\n    // editable: false,\r\n    // nowIndicator: false,\r\n    scrollTime: '06:00:00',\r\n    minTime: '00:00:00',\r\n    maxTime: '24:00:00',\r\n    showNonCurrentDates: true,\r\n    // event ajax\r\n    lazyFetching: true,\r\n    startParam: 'start',\r\n    endParam: 'end',\r\n    timezoneParam: 'timezone',\r\n    timezone: false,\r\n    // allDayDefault: undefined,\r\n    // locale\r\n    locale: null,\r\n    isRTL: false,\r\n    buttonText: {\r\n        prev: 'prev',\r\n        next: 'next',\r\n        prevYear: 'prev year',\r\n        nextYear: 'next year',\r\n        year: 'year',\r\n        today: 'today',\r\n        month: 'month',\r\n        week: 'week',\r\n        day: 'day'\r\n    },\r\n    // buttonIcons: null,\r\n    allDayText: 'all-day',\r\n    // allows setting a min-height to the event segment to prevent short events overlapping each other\r\n    agendaEventMinHeight: 0,\r\n    // jquery-ui theming\r\n    theme: false,\r\n    // themeButtonIcons: null,\r\n    // eventResizableFromStart: false,\r\n    dragOpacity: .75,\r\n    dragRevertDuration: 500,\r\n    dragScroll: true,\r\n    // selectable: false,\r\n    unselectAuto: true,\r\n    // selectMinDistance: 0,\r\n    dropAccept: '*',\r\n    eventOrder: 'title',\r\n    // eventRenderWait: null,\r\n    eventLimit: false,\r\n    eventLimitText: 'more',\r\n    eventLimitClick: 'popover',\r\n    dayPopoverFormat: 'LL',\r\n    handleWindowResize: true,\r\n    windowResizeDelay: 100,\r\n    longPressDelay: 1000\r\n};\r\nexports.englishDefaults = {\r\n    dayPopoverFormat: 'dddd, MMMM D'\r\n};\r\nexports.rtlDefaults = {\r\n    header: {\r\n        left: 'next,prev today',\r\n        center: '',\r\n        right: 'title'\r\n    },\r\n    buttonIcons: {\r\n        prev: 'right-single-arrow',\r\n        next: 'left-single-arrow',\r\n        prevYear: 'right-double-arrow',\r\n        nextYear: 'left-double-arrow'\r\n    },\r\n    themeButtonIcons: {\r\n        prev: 'circle-triangle-e',\r\n        next: 'circle-triangle-w',\r\n        nextYear: 'seek-prev',\r\n        prevYear: 'seek-next'\r\n    }\r\n};\r\nvar complexOptions = [\r\n    'header',\r\n    'footer',\r\n    'buttonText',\r\n    'buttonIcons',\r\n    'themeButtonIcons'\r\n];\r\n// Merges an array of option objects into a single object\r\nfunction mergeOptions(optionObjs) {\r\n    return util_1.mergeProps(optionObjs, complexOptions);\r\n}\r\nexports.mergeOptions = mergeOptions;\r\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventFootprint = /** @class */ (function () {\r\n    function EventFootprint(componentFootprint, eventDef, eventInstance) {\r\n        this.componentFootprint = componentFootprint;\r\n        this.eventDef = eventDef;\r\n        if (eventInstance) {\r\n            this.eventInstance = eventInstance;\r\n        }\r\n    }\r\n    EventFootprint.prototype.getEventLegacy = function () {\r\n        return (this.eventInstance || this.eventDef).toLegacy();\r\n    };\r\n    return EventFootprint;\r\n}());\r\nexports.default = EventFootprint;\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\n// Class that all other classes will inherit from\r\nvar Class = /** @class */ (function () {\r\n    function Class() {\r\n    }\r\n    // Called on a class to create a subclass.\r\n    // LIMITATION: cannot provide a constructor!\r\n    Class.extend = function (members) {\r\n        var SubClass = /** @class */ (function (_super) {\r\n            tslib_1.__extends(SubClass, _super);\r\n            function SubClass() {\r\n                return _super !== null && _super.apply(this, arguments) || this;\r\n            }\r\n            return SubClass;\r\n        }(this));\r\n        util_1.copyOwnProps(members, SubClass.prototype);\r\n        return SubClass;\r\n    };\r\n    // Adds new member variables/methods to the class's prototype.\r\n    // Can be called with another class, or a plain object hash containing new members.\r\n    Class.mixin = function (members) {\r\n        util_1.copyOwnProps(members, this.prototype);\r\n    };\r\n    return Class;\r\n}());\r\nexports.default = Class;\r\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar RecurringEventDef_1 = __webpack_require__(54);\r\nexports.default = {\r\n    parse: function (eventInput, source) {\r\n        if (util_1.isTimeString(eventInput.start) || moment.isDuration(eventInput.start) ||\r\n            util_1.isTimeString(eventInput.end) || moment.isDuration(eventInput.end)) {\r\n            return RecurringEventDef_1.default.parse(eventInput, source);\r\n        }\r\n        else {\r\n            return SingleEventDef_1.default.parse(eventInput, source);\r\n        }\r\n    }\r\n};\r\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar ParsableModelMixin_1 = __webpack_require__(52);\r\nvar EventDef = /** @class */ (function () {\r\n    function EventDef(source) {\r\n        this.source = source;\r\n        this.className = [];\r\n        this.miscProps = {};\r\n    }\r\n    EventDef.parse = function (rawInput, source) {\r\n        var def = new this(source);\r\n        if (def.applyProps(rawInput)) {\r\n            return def;\r\n        }\r\n        return false;\r\n    };\r\n    EventDef.normalizeId = function (id) {\r\n        return String(id);\r\n    };\r\n    EventDef.generateId = function () {\r\n        return '_fc' + (EventDef.uuid++);\r\n    };\r\n    EventDef.prototype.clone = function () {\r\n        var copy = new this.constructor(this.source);\r\n        copy.id = this.id;\r\n        copy.rawId = this.rawId;\r\n        copy.uid = this.uid; // not really unique anymore :(\r\n        EventDef.copyVerbatimStandardProps(this, copy);\r\n        copy.className = this.className.slice(); // copy\r\n        copy.miscProps = $.extend({}, this.miscProps);\r\n        return copy;\r\n    };\r\n    EventDef.prototype.hasInverseRendering = function () {\r\n        return this.getRendering() === 'inverse-background';\r\n    };\r\n    EventDef.prototype.hasBgRendering = function () {\r\n        var rendering = this.getRendering();\r\n        return rendering === 'inverse-background' || rendering === 'background';\r\n    };\r\n    EventDef.prototype.getRendering = function () {\r\n        if (this.rendering != null) {\r\n            return this.rendering;\r\n        }\r\n        return this.source.rendering;\r\n    };\r\n    EventDef.prototype.getConstraint = function () {\r\n        if (this.constraint != null) {\r\n            return this.constraint;\r\n        }\r\n        if (this.source.constraint != null) {\r\n            return this.source.constraint;\r\n        }\r\n        return this.source.calendar.opt('eventConstraint'); // what about View option?\r\n    };\r\n    EventDef.prototype.getOverlap = function () {\r\n        if (this.overlap != null) {\r\n            return this.overlap;\r\n        }\r\n        if (this.source.overlap != null) {\r\n            return this.source.overlap;\r\n        }\r\n        return this.source.calendar.opt('eventOverlap'); // what about View option?\r\n    };\r\n    EventDef.prototype.isStartExplicitlyEditable = function () {\r\n        if (this.startEditable != null) {\r\n            return this.startEditable;\r\n        }\r\n        return this.source.startEditable;\r\n    };\r\n    EventDef.prototype.isDurationExplicitlyEditable = function () {\r\n        if (this.durationEditable != null) {\r\n            return this.durationEditable;\r\n        }\r\n        return this.source.durationEditable;\r\n    };\r\n    EventDef.prototype.isExplicitlyEditable = function () {\r\n        if (this.editable != null) {\r\n            return this.editable;\r\n        }\r\n        return this.source.editable;\r\n    };\r\n    EventDef.prototype.toLegacy = function () {\r\n        var obj = $.extend({}, this.miscProps);\r\n        obj._id = this.uid;\r\n        obj.source = this.source;\r\n        obj.className = this.className.slice(); // copy\r\n        obj.allDay = this.isAllDay();\r\n        if (this.rawId != null) {\r\n            obj.id = this.rawId;\r\n        }\r\n        EventDef.copyVerbatimStandardProps(this, obj);\r\n        return obj;\r\n    };\r\n    EventDef.prototype.applyManualStandardProps = function (rawProps) {\r\n        if (rawProps.id != null) {\r\n            this.id = EventDef.normalizeId((this.rawId = rawProps.id));\r\n        }\r\n        else {\r\n            this.id = EventDef.generateId();\r\n        }\r\n        if (rawProps._id != null) { // accept this prop, even tho somewhat internal\r\n            this.uid = String(rawProps._id);\r\n        }\r\n        else {\r\n            this.uid = EventDef.generateId();\r\n        }\r\n        // TODO: converge with EventSource\r\n        if ($.isArray(rawProps.className)) {\r\n            this.className = rawProps.className;\r\n        }\r\n        if (typeof rawProps.className === 'string') {\r\n            this.className = rawProps.className.split(/\\s+/);\r\n        }\r\n        return true;\r\n    };\r\n    EventDef.prototype.applyMiscProps = function (rawProps) {\r\n        $.extend(this.miscProps, rawProps);\r\n    };\r\n    EventDef.uuid = 0;\r\n    EventDef.defineStandardProps = ParsableModelMixin_1.default.defineStandardProps;\r\n    EventDef.copyVerbatimStandardProps = ParsableModelMixin_1.default.copyVerbatimStandardProps;\r\n    return EventDef;\r\n}());\r\nexports.default = EventDef;\r\nParsableModelMixin_1.default.mixInto(EventDef);\r\nEventDef.defineStandardProps({\r\n    // not automatically assigned (`false`)\r\n    _id: false,\r\n    id: false,\r\n    className: false,\r\n    source: false,\r\n    // automatically assigned (`true`)\r\n    title: true,\r\n    url: true,\r\n    rendering: true,\r\n    constraint: true,\r\n    overlap: true,\r\n    editable: true,\r\n    startEditable: true,\r\n    durationEditable: true,\r\n    color: true,\r\n    backgroundColor: true,\r\n    borderColor: true,\r\n    textColor: true\r\n});\r\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    sourceClasses: [],\r\n    registerClass: function (EventSourceClass) {\r\n        this.sourceClasses.unshift(EventSourceClass); // give highest priority\r\n    },\r\n    parse: function (rawInput, calendar) {\r\n        var sourceClasses = this.sourceClasses;\r\n        var i;\r\n        var eventSource;\r\n        for (i = 0; i < sourceClasses.length; i++) {\r\n            eventSource = sourceClasses[i].parse(rawInput, calendar);\r\n            if (eventSource) {\r\n                return eventSource;\r\n            }\r\n        }\r\n    }\r\n};\r\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar util_1 = __webpack_require__(4);\r\nvar EventDateProfile_1 = __webpack_require__(16);\r\nvar EventDef_1 = __webpack_require__(37);\r\nvar EventDefDateMutation_1 = __webpack_require__(40);\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar EventDefMutation = /** @class */ (function () {\r\n    function EventDefMutation() {\r\n    }\r\n    EventDefMutation.createFromRawProps = function (eventInstance, rawProps, largeUnit) {\r\n        var eventDef = eventInstance.def;\r\n        var dateProps = {};\r\n        var standardProps = {};\r\n        var miscProps = {};\r\n        var verbatimStandardProps = {};\r\n        var eventDefId = null;\r\n        var className = null;\r\n        var propName;\r\n        var dateProfile;\r\n        var dateMutation;\r\n        var defMutation;\r\n        for (propName in rawProps) {\r\n            if (EventDateProfile_1.default.isStandardProp(propName)) {\r\n                dateProps[propName] = rawProps[propName];\r\n            }\r\n            else if (eventDef.isStandardProp(propName)) {\r\n                standardProps[propName] = rawProps[propName];\r\n            }\r\n            else if (eventDef.miscProps[propName] !== rawProps[propName]) { // only if changed\r\n                miscProps[propName] = rawProps[propName];\r\n            }\r\n        }\r\n        dateProfile = EventDateProfile_1.default.parse(dateProps, eventDef.source);\r\n        if (dateProfile) { // no failure?\r\n            dateMutation = EventDefDateMutation_1.default.createFromDiff(eventInstance.dateProfile, dateProfile, largeUnit);\r\n        }\r\n        if (standardProps.id !== eventDef.id) {\r\n            eventDefId = standardProps.id; // only apply if there's a change\r\n        }\r\n        if (!util_1.isArraysEqual(standardProps.className, eventDef.className)) {\r\n            className = standardProps.className; // only apply if there's a change\r\n        }\r\n        EventDef_1.default.copyVerbatimStandardProps(standardProps, // src\r\n        verbatimStandardProps // dest\r\n        );\r\n        defMutation = new EventDefMutation();\r\n        defMutation.eventDefId = eventDefId;\r\n        defMutation.className = className;\r\n        defMutation.verbatimStandardProps = verbatimStandardProps;\r\n        defMutation.miscProps = miscProps;\r\n        if (dateMutation) {\r\n            defMutation.dateMutation = dateMutation;\r\n        }\r\n        return defMutation;\r\n    };\r\n    /*\r\n    eventDef assumed to be a SingleEventDef.\r\n    returns an undo function.\r\n    */\r\n    EventDefMutation.prototype.mutateSingle = function (eventDef) {\r\n        var origDateProfile;\r\n        if (this.dateMutation) {\r\n            origDateProfile = eventDef.dateProfile;\r\n            eventDef.dateProfile = this.dateMutation.buildNewDateProfile(origDateProfile, eventDef.source.calendar);\r\n        }\r\n        // can't undo\r\n        // TODO: more DRY with EventDef::applyManualStandardProps\r\n        if (this.eventDefId != null) {\r\n            eventDef.id = EventDef_1.default.normalizeId((eventDef.rawId = this.eventDefId));\r\n        }\r\n        // can't undo\r\n        // TODO: more DRY with EventDef::applyManualStandardProps\r\n        if (this.className) {\r\n            eventDef.className = this.className;\r\n        }\r\n        // can't undo\r\n        if (this.verbatimStandardProps) {\r\n            SingleEventDef_1.default.copyVerbatimStandardProps(this.verbatimStandardProps, // src\r\n            eventDef // dest\r\n            );\r\n        }\r\n        // can't undo\r\n        if (this.miscProps) {\r\n            eventDef.applyMiscProps(this.miscProps);\r\n        }\r\n        if (origDateProfile) {\r\n            return function () {\r\n                eventDef.dateProfile = origDateProfile;\r\n            };\r\n        }\r\n        else {\r\n            return function () { };\r\n        }\r\n    };\r\n    EventDefMutation.prototype.setDateMutation = function (dateMutation) {\r\n        if (dateMutation && !dateMutation.isEmpty()) {\r\n            this.dateMutation = dateMutation;\r\n        }\r\n        else {\r\n            this.dateMutation = null;\r\n        }\r\n    };\r\n    EventDefMutation.prototype.isEmpty = function () {\r\n        return !this.dateMutation;\r\n    };\r\n    return EventDefMutation;\r\n}());\r\nexports.default = EventDefMutation;\r\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar util_1 = __webpack_require__(4);\r\nvar EventDateProfile_1 = __webpack_require__(16);\r\nvar EventDefDateMutation = /** @class */ (function () {\r\n    function EventDefDateMutation() {\r\n        this.clearEnd = false;\r\n        this.forceTimed = false;\r\n        this.forceAllDay = false;\r\n    }\r\n    EventDefDateMutation.createFromDiff = function (dateProfile0, dateProfile1, largeUnit) {\r\n        var clearEnd = dateProfile0.end && !dateProfile1.end;\r\n        var forceTimed = dateProfile0.isAllDay() && !dateProfile1.isAllDay();\r\n        var forceAllDay = !dateProfile0.isAllDay() && dateProfile1.isAllDay();\r\n        var dateDelta;\r\n        var endDiff;\r\n        var endDelta;\r\n        var mutation;\r\n        // subtracts the dates in the appropriate way, returning a duration\r\n        function subtractDates(date1, date0) {\r\n            if (largeUnit) {\r\n                return util_1.diffByUnit(date1, date0, largeUnit); // poorly named\r\n            }\r\n            else if (dateProfile1.isAllDay()) {\r\n                return util_1.diffDay(date1, date0); // poorly named\r\n            }\r\n            else {\r\n                return util_1.diffDayTime(date1, date0); // poorly named\r\n            }\r\n        }\r\n        dateDelta = subtractDates(dateProfile1.start, dateProfile0.start);\r\n        if (dateProfile1.end) {\r\n            // use unzonedRanges because dateProfile0.end might be null\r\n            endDiff = subtractDates(dateProfile1.unzonedRange.getEnd(), dateProfile0.unzonedRange.getEnd());\r\n            endDelta = endDiff.subtract(dateDelta);\r\n        }\r\n        mutation = new EventDefDateMutation();\r\n        mutation.clearEnd = clearEnd;\r\n        mutation.forceTimed = forceTimed;\r\n        mutation.forceAllDay = forceAllDay;\r\n        mutation.setDateDelta(dateDelta);\r\n        mutation.setEndDelta(endDelta);\r\n        return mutation;\r\n    };\r\n    /*\r\n    returns an undo function.\r\n    */\r\n    EventDefDateMutation.prototype.buildNewDateProfile = function (eventDateProfile, calendar) {\r\n        var start = eventDateProfile.start.clone();\r\n        var end = null;\r\n        var shouldRezone = false;\r\n        if (eventDateProfile.end && !this.clearEnd) {\r\n            end = eventDateProfile.end.clone();\r\n        }\r\n        else if (this.endDelta && !end) {\r\n            end = calendar.getDefaultEventEnd(eventDateProfile.isAllDay(), start);\r\n        }\r\n        if (this.forceTimed) {\r\n            shouldRezone = true;\r\n            if (!start.hasTime()) {\r\n                start.time(0);\r\n            }\r\n            if (end && !end.hasTime()) {\r\n                end.time(0);\r\n            }\r\n        }\r\n        else if (this.forceAllDay) {\r\n            if (start.hasTime()) {\r\n                start.stripTime();\r\n            }\r\n            if (end && end.hasTime()) {\r\n                end.stripTime();\r\n            }\r\n        }\r\n        if (this.dateDelta) {\r\n            shouldRezone = true;\r\n            start.add(this.dateDelta);\r\n            if (end) {\r\n                end.add(this.dateDelta);\r\n            }\r\n        }\r\n        // do this before adding startDelta to start, so we can work off of start\r\n        if (this.endDelta) {\r\n            shouldRezone = true;\r\n            end.add(this.endDelta);\r\n        }\r\n        if (this.startDelta) {\r\n            shouldRezone = true;\r\n            start.add(this.startDelta);\r\n        }\r\n        if (shouldRezone) {\r\n            start = calendar.applyTimezone(start);\r\n            if (end) {\r\n                end = calendar.applyTimezone(end);\r\n            }\r\n        }\r\n        // TODO: okay to access calendar option?\r\n        if (!end && calendar.opt('forceEventDuration')) {\r\n            end = calendar.getDefaultEventEnd(eventDateProfile.isAllDay(), start);\r\n        }\r\n        return new EventDateProfile_1.default(start, end, calendar);\r\n    };\r\n    EventDefDateMutation.prototype.setDateDelta = function (dateDelta) {\r\n        if (dateDelta && dateDelta.valueOf()) {\r\n            this.dateDelta = dateDelta;\r\n        }\r\n        else {\r\n            this.dateDelta = null;\r\n        }\r\n    };\r\n    EventDefDateMutation.prototype.setStartDelta = function (startDelta) {\r\n        if (startDelta && startDelta.valueOf()) {\r\n            this.startDelta = startDelta;\r\n        }\r\n        else {\r\n            this.startDelta = null;\r\n        }\r\n    };\r\n    EventDefDateMutation.prototype.setEndDelta = function (endDelta) {\r\n        if (endDelta && endDelta.valueOf()) {\r\n            this.endDelta = endDelta;\r\n        }\r\n        else {\r\n            this.endDelta = null;\r\n        }\r\n    };\r\n    EventDefDateMutation.prototype.isEmpty = function () {\r\n        return !this.clearEnd && !this.forceTimed && !this.forceAllDay &&\r\n            !this.dateDelta && !this.startDelta && !this.endDelta;\r\n    };\r\n    return EventDefDateMutation;\r\n}());\r\nexports.default = EventDefDateMutation;\r\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar Class_1 = __webpack_require__(35);\r\n/*\r\nEmbodies a div that has potential scrollbars\r\n*/\r\nvar Scroller = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Scroller, _super);\r\n    function Scroller(options) {\r\n        var _this = _super.call(this) || this;\r\n        options = options || {};\r\n        _this.overflowX = options.overflowX || options.overflow || 'auto';\r\n        _this.overflowY = options.overflowY || options.overflow || 'auto';\r\n        return _this;\r\n    }\r\n    Scroller.prototype.render = function () {\r\n        this.el = this.renderEl();\r\n        this.applyOverflow();\r\n    };\r\n    Scroller.prototype.renderEl = function () {\r\n        return (this.scrollEl = $('<div class=\"fc-scroller\"></div>'));\r\n    };\r\n    // sets to natural height, unlocks overflow\r\n    Scroller.prototype.clear = function () {\r\n        this.setHeight('auto');\r\n        this.applyOverflow();\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        this.el.remove();\r\n    };\r\n    // Overflow\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Scroller.prototype.applyOverflow = function () {\r\n        this.scrollEl.css({\r\n            'overflow-x': this.overflowX,\r\n            'overflow-y': this.overflowY\r\n        });\r\n    };\r\n    // Causes any 'auto' overflow values to resolves to 'scroll' or 'hidden'.\r\n    // Useful for preserving scrollbar widths regardless of future resizes.\r\n    // Can pass in scrollbarWidths for optimization.\r\n    Scroller.prototype.lockOverflow = function (scrollbarWidths) {\r\n        var overflowX = this.overflowX;\r\n        var overflowY = this.overflowY;\r\n        scrollbarWidths = scrollbarWidths || this.getScrollbarWidths();\r\n        if (overflowX === 'auto') {\r\n            overflowX = (scrollbarWidths.top || scrollbarWidths.bottom || // horizontal scrollbars?\r\n                // OR scrolling pane with massless scrollbars?\r\n                this.scrollEl[0].scrollWidth - 1 > this.scrollEl[0].clientWidth\r\n            // subtract 1 because of IE off-by-one issue\r\n            ) ? 'scroll' : 'hidden';\r\n        }\r\n        if (overflowY === 'auto') {\r\n            overflowY = (scrollbarWidths.left || scrollbarWidths.right || // vertical scrollbars?\r\n                // OR scrolling pane with massless scrollbars?\r\n                this.scrollEl[0].scrollHeight - 1 > this.scrollEl[0].clientHeight\r\n            // subtract 1 because of IE off-by-one issue\r\n            ) ? 'scroll' : 'hidden';\r\n        }\r\n        this.scrollEl.css({ 'overflow-x': overflowX, 'overflow-y': overflowY });\r\n    };\r\n    // Getters / Setters\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Scroller.prototype.setHeight = function (height) {\r\n        this.scrollEl.height(height);\r\n    };\r\n    Scroller.prototype.getScrollTop = function () {\r\n        return this.scrollEl.scrollTop();\r\n    };\r\n    Scroller.prototype.setScrollTop = function (top) {\r\n        this.scrollEl.scrollTop(top);\r\n    };\r\n    Scroller.prototype.getClientWidth = function () {\r\n        return this.scrollEl[0].clientWidth;\r\n    };\r\n    Scroller.prototype.getClientHeight = function () {\r\n        return this.scrollEl[0].clientHeight;\r\n    };\r\n    Scroller.prototype.getScrollbarWidths = function () {\r\n        return util_1.getScrollbarWidths(this.scrollEl);\r\n    };\r\n    return Scroller;\r\n}(Class_1.default));\r\nexports.default = Scroller;\r\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar DateComponent_1 = __webpack_require__(231);\r\nvar GlobalEmitter_1 = __webpack_require__(23);\r\nvar InteractiveDateComponent = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InteractiveDateComponent, _super);\r\n    function InteractiveDateComponent(_view, _options) {\r\n        var _this = _super.call(this, _view, _options) || this;\r\n        // self-config, overridable by subclasses\r\n        _this.segSelector = '.fc-event-container > *'; // what constitutes an event element?\r\n        if (_this.dateSelectingClass) {\r\n            _this.dateClicking = new _this.dateClickingClass(_this);\r\n        }\r\n        if (_this.dateSelectingClass) {\r\n            _this.dateSelecting = new _this.dateSelectingClass(_this);\r\n        }\r\n        if (_this.eventPointingClass) {\r\n            _this.eventPointing = new _this.eventPointingClass(_this);\r\n        }\r\n        if (_this.eventDraggingClass && _this.eventPointing) {\r\n            _this.eventDragging = new _this.eventDraggingClass(_this, _this.eventPointing);\r\n        }\r\n        if (_this.eventResizingClass && _this.eventPointing) {\r\n            _this.eventResizing = new _this.eventResizingClass(_this, _this.eventPointing);\r\n        }\r\n        if (_this.externalDroppingClass) {\r\n            _this.externalDropping = new _this.externalDroppingClass(_this);\r\n        }\r\n        return _this;\r\n    }\r\n    // Sets the container element that the view should render inside of, does global DOM-related initializations,\r\n    // and renders all the non-date-related content inside.\r\n    InteractiveDateComponent.prototype.setElement = function (el) {\r\n        _super.prototype.setElement.call(this, el);\r\n        if (this.dateClicking) {\r\n            this.dateClicking.bindToEl(el);\r\n        }\r\n        if (this.dateSelecting) {\r\n            this.dateSelecting.bindToEl(el);\r\n        }\r\n        this.bindAllSegHandlersToEl(el);\r\n    };\r\n    InteractiveDateComponent.prototype.removeElement = function () {\r\n        this.endInteractions();\r\n        _super.prototype.removeElement.call(this);\r\n    };\r\n    InteractiveDateComponent.prototype.executeEventUnrender = function () {\r\n        this.endInteractions();\r\n        _super.prototype.executeEventUnrender.call(this);\r\n    };\r\n    InteractiveDateComponent.prototype.bindGlobalHandlers = function () {\r\n        _super.prototype.bindGlobalHandlers.call(this);\r\n        if (this.externalDropping) {\r\n            this.externalDropping.bindToDocument();\r\n        }\r\n    };\r\n    InteractiveDateComponent.prototype.unbindGlobalHandlers = function () {\r\n        _super.prototype.unbindGlobalHandlers.call(this);\r\n        if (this.externalDropping) {\r\n            this.externalDropping.unbindFromDocument();\r\n        }\r\n    };\r\n    InteractiveDateComponent.prototype.bindDateHandlerToEl = function (el, name, handler) {\r\n        var _this = this;\r\n        // attach a handler to the grid's root element.\r\n        // jQuery will take care of unregistering them when removeElement gets called.\r\n        this.el.on(name, function (ev) {\r\n            if (!$(ev.target).is(_this.segSelector + ':not(.fc-helper),' + // directly on an event element\r\n                _this.segSelector + ':not(.fc-helper) *,' + // within an event element\r\n                '.fc-more,' + // a \"more..\" link\r\n                'a[data-goto]' // a clickable nav link\r\n            )) {\r\n                return handler.call(_this, ev);\r\n            }\r\n        });\r\n    };\r\n    InteractiveDateComponent.prototype.bindAllSegHandlersToEl = function (el) {\r\n        [\r\n            this.eventPointing,\r\n            this.eventDragging,\r\n            this.eventResizing\r\n        ].forEach(function (eventInteraction) {\r\n            if (eventInteraction) {\r\n                eventInteraction.bindToEl(el);\r\n            }\r\n        });\r\n    };\r\n    InteractiveDateComponent.prototype.bindSegHandlerToEl = function (el, name, handler) {\r\n        var _this = this;\r\n        el.on(name, this.segSelector, function (ev) {\r\n            var segEl = $(ev.currentTarget);\r\n            if (!segEl.is('.fc-helper')) {\r\n                var seg = segEl.data('fc-seg'); // grab segment data. put there by View::renderEventsPayload\r\n                if (seg && !_this.shouldIgnoreEventPointing()) {\r\n                    return handler.call(_this, seg, ev); // context will be the Grid\r\n                }\r\n            }\r\n        });\r\n    };\r\n    InteractiveDateComponent.prototype.shouldIgnoreMouse = function () {\r\n        // HACK\r\n        // This will still work even though bindDateHandlerToEl doesn't use GlobalEmitter.\r\n        return GlobalEmitter_1.default.get().shouldIgnoreMouse();\r\n    };\r\n    InteractiveDateComponent.prototype.shouldIgnoreTouch = function () {\r\n        var view = this._getView();\r\n        // On iOS (and Android?) when a new selection is initiated overtop another selection,\r\n        // the touchend never fires because the elements gets removed mid-touch-interaction (my theory).\r\n        // HACK: simply don't allow this to happen.\r\n        // ALSO: prevent selection when an *event* is already raised.\r\n        return view.isSelected || view.selectedEvent;\r\n    };\r\n    InteractiveDateComponent.prototype.shouldIgnoreEventPointing = function () {\r\n        // only call the handlers if there is not a drag/resize in progress\r\n        return (this.eventDragging && this.eventDragging.isDragging) ||\r\n            (this.eventResizing && this.eventResizing.isResizing);\r\n    };\r\n    InteractiveDateComponent.prototype.canStartSelection = function (seg, ev) {\r\n        return util_1.getEvIsTouch(ev) &&\r\n            !this.canStartResize(seg, ev) &&\r\n            (this.isEventDefDraggable(seg.footprint.eventDef) ||\r\n                this.isEventDefResizable(seg.footprint.eventDef));\r\n    };\r\n    InteractiveDateComponent.prototype.canStartDrag = function (seg, ev) {\r\n        return !this.canStartResize(seg, ev) &&\r\n            this.isEventDefDraggable(seg.footprint.eventDef);\r\n    };\r\n    InteractiveDateComponent.prototype.canStartResize = function (seg, ev) {\r\n        var view = this._getView();\r\n        var eventDef = seg.footprint.eventDef;\r\n        return (!util_1.getEvIsTouch(ev) || view.isEventDefSelected(eventDef)) &&\r\n            this.isEventDefResizable(eventDef) &&\r\n            $(ev.target).is('.fc-resizer');\r\n    };\r\n    // Kills all in-progress dragging.\r\n    // Useful for when public API methods that result in re-rendering are invoked during a drag.\r\n    // Also useful for when touch devices misbehave and don't fire their touchend.\r\n    InteractiveDateComponent.prototype.endInteractions = function () {\r\n        [\r\n            this.dateClicking,\r\n            this.dateSelecting,\r\n            this.eventPointing,\r\n            this.eventDragging,\r\n            this.eventResizing\r\n        ].forEach(function (interaction) {\r\n            if (interaction) {\r\n                interaction.end();\r\n            }\r\n        });\r\n    };\r\n    // Event Drag-n-Drop\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Computes if the given event is allowed to be dragged by the user\r\n    InteractiveDateComponent.prototype.isEventDefDraggable = function (eventDef) {\r\n        return this.isEventDefStartEditable(eventDef);\r\n    };\r\n    InteractiveDateComponent.prototype.isEventDefStartEditable = function (eventDef) {\r\n        var isEditable = eventDef.isStartExplicitlyEditable();\r\n        if (isEditable == null) {\r\n            isEditable = this.opt('eventStartEditable');\r\n            if (isEditable == null) {\r\n                isEditable = this.isEventDefGenerallyEditable(eventDef);\r\n            }\r\n        }\r\n        return isEditable;\r\n    };\r\n    InteractiveDateComponent.prototype.isEventDefGenerallyEditable = function (eventDef) {\r\n        var isEditable = eventDef.isExplicitlyEditable();\r\n        if (isEditable == null) {\r\n            isEditable = this.opt('editable');\r\n        }\r\n        return isEditable;\r\n    };\r\n    // Event Resizing\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Computes if the given event is allowed to be resized from its starting edge\r\n    InteractiveDateComponent.prototype.isEventDefResizableFromStart = function (eventDef) {\r\n        return this.opt('eventResizableFromStart') && this.isEventDefResizable(eventDef);\r\n    };\r\n    // Computes if the given event is allowed to be resized from its ending edge\r\n    InteractiveDateComponent.prototype.isEventDefResizableFromEnd = function (eventDef) {\r\n        return this.isEventDefResizable(eventDef);\r\n    };\r\n    // Computes if the given event is allowed to be resized by the user at all\r\n    InteractiveDateComponent.prototype.isEventDefResizable = function (eventDef) {\r\n        var isResizable = eventDef.isDurationExplicitlyEditable();\r\n        if (isResizable == null) {\r\n            isResizable = this.opt('eventDurationEditable');\r\n            if (isResizable == null) {\r\n                isResizable = this.isEventDefGenerallyEditable(eventDef);\r\n            }\r\n        }\r\n        return isResizable;\r\n    };\r\n    // Event Mutation / Constraints\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Diffs the two dates, returning a duration, based on granularity of the grid\r\n    // TODO: port isTimeScale into this system?\r\n    InteractiveDateComponent.prototype.diffDates = function (a, b) {\r\n        if (this.largeUnit) {\r\n            return util_1.diffByUnit(a, b, this.largeUnit);\r\n        }\r\n        else {\r\n            return util_1.diffDayTime(a, b);\r\n        }\r\n    };\r\n    // is it allowed, in relation to the view's validRange?\r\n    // NOTE: very similar to isExternalInstanceGroupAllowed\r\n    InteractiveDateComponent.prototype.isEventInstanceGroupAllowed = function (eventInstanceGroup) {\r\n        var view = this._getView();\r\n        var dateProfile = this.dateProfile;\r\n        var eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges());\r\n        var i;\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            // TODO: just use getAllEventRanges directly\r\n            if (!dateProfile.validUnzonedRange.containsRange(eventFootprints[i].componentFootprint.unzonedRange)) {\r\n                return false;\r\n            }\r\n        }\r\n        return view.calendar.constraints.isEventInstanceGroupAllowed(eventInstanceGroup);\r\n    };\r\n    // NOTE: very similar to isEventInstanceGroupAllowed\r\n    // when it's a completely anonymous external drag, no event.\r\n    InteractiveDateComponent.prototype.isExternalInstanceGroupAllowed = function (eventInstanceGroup) {\r\n        var view = this._getView();\r\n        var dateProfile = this.dateProfile;\r\n        var eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges());\r\n        var i;\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            if (!dateProfile.validUnzonedRange.containsRange(eventFootprints[i].componentFootprint.unzonedRange)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            // treat it as a selection\r\n            // TODO: pass in eventInstanceGroup instead\r\n            //  because we don't want calendar's constraint system to depend on a component's\r\n            //  determination of footprints.\r\n            if (!view.calendar.constraints.isSelectionFootprintAllowed(eventFootprints[i].componentFootprint)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    return InteractiveDateComponent;\r\n}(DateComponent_1.default));\r\nexports.default = InteractiveDateComponent;\r\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar RenderQueue_1 = __webpack_require__(229);\r\nvar DateProfileGenerator_1 = __webpack_require__(55);\r\nvar InteractiveDateComponent_1 = __webpack_require__(42);\r\nvar GlobalEmitter_1 = __webpack_require__(23);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\n/* An abstract class from which other views inherit from\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar View = /** @class */ (function (_super) {\r\n    tslib_1.__extends(View, _super);\r\n    function View(calendar, viewSpec) {\r\n        var _this = _super.call(this, null, viewSpec.options) || this;\r\n        _this.batchRenderDepth = 0;\r\n        _this.isSelected = false; // boolean whether a range of time is user-selected or not\r\n        _this.calendar = calendar;\r\n        _this.viewSpec = viewSpec;\r\n        // shortcuts\r\n        _this.type = viewSpec.type;\r\n        // .name is deprecated\r\n        _this.name = _this.type;\r\n        _this.initRenderQueue();\r\n        _this.initHiddenDays();\r\n        _this.dateProfileGenerator = new _this.dateProfileGeneratorClass(_this);\r\n        _this.bindBaseRenderHandlers();\r\n        _this.eventOrderSpecs = util_1.parseFieldSpecs(_this.opt('eventOrder'));\r\n        // legacy\r\n        if (_this['initialize']) {\r\n            _this['initialize']();\r\n        }\r\n        return _this;\r\n    }\r\n    View.prototype._getView = function () {\r\n        return this;\r\n    };\r\n    // Retrieves an option with the given name\r\n    View.prototype.opt = function (name) {\r\n        return this.options[name];\r\n    };\r\n    /* Render Queue\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    View.prototype.initRenderQueue = function () {\r\n        this.renderQueue = new RenderQueue_1.default({\r\n            event: this.opt('eventRenderWait')\r\n        });\r\n        this.renderQueue.on('start', this.onRenderQueueStart.bind(this));\r\n        this.renderQueue.on('stop', this.onRenderQueueStop.bind(this));\r\n        this.on('before:change', this.startBatchRender);\r\n        this.on('change', this.stopBatchRender);\r\n    };\r\n    View.prototype.onRenderQueueStart = function () {\r\n        this.calendar.freezeContentHeight();\r\n        this.addScroll(this.queryScroll());\r\n    };\r\n    View.prototype.onRenderQueueStop = function () {\r\n        if (this.calendar.updateViewSize()) { // success?\r\n            this.popScroll();\r\n        }\r\n        this.calendar.thawContentHeight();\r\n    };\r\n    View.prototype.startBatchRender = function () {\r\n        if (!(this.batchRenderDepth++)) {\r\n            this.renderQueue.pause();\r\n        }\r\n    };\r\n    View.prototype.stopBatchRender = function () {\r\n        if (!(--this.batchRenderDepth)) {\r\n            this.renderQueue.resume();\r\n        }\r\n    };\r\n    View.prototype.requestRender = function (func, namespace, actionType) {\r\n        this.renderQueue.queue(func, namespace, actionType);\r\n    };\r\n    // given func will auto-bind to `this`\r\n    View.prototype.whenSizeUpdated = function (func) {\r\n        if (this.renderQueue.isRunning) {\r\n            this.renderQueue.one('stop', func.bind(this));\r\n        }\r\n        else {\r\n            func.call(this);\r\n        }\r\n    };\r\n    /* Title and Date Formatting\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Computes what the title at the top of the calendar should be for this view\r\n    View.prototype.computeTitle = function (dateProfile) {\r\n        var unzonedRange;\r\n        // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\r\n        if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\r\n            unzonedRange = dateProfile.currentUnzonedRange;\r\n        }\r\n        else { // for day units or smaller, use the actual day range\r\n            unzonedRange = dateProfile.activeUnzonedRange;\r\n        }\r\n        return this.formatRange({\r\n            start: this.calendar.msToMoment(unzonedRange.startMs, dateProfile.isRangeAllDay),\r\n            end: this.calendar.msToMoment(unzonedRange.endMs, dateProfile.isRangeAllDay)\r\n        }, dateProfile.isRangeAllDay, this.opt('titleFormat') || this.computeTitleFormat(dateProfile), this.opt('titleRangeSeparator'));\r\n    };\r\n    // Generates the format string that should be used to generate the title for the current date range.\r\n    // Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\r\n    View.prototype.computeTitleFormat = function (dateProfile) {\r\n        var currentRangeUnit = dateProfile.currentRangeUnit;\r\n        if (currentRangeUnit === 'year') {\r\n            return 'YYYY';\r\n        }\r\n        else if (currentRangeUnit === 'month') {\r\n            return this.opt('monthYearFormat'); // like \"September 2014\"\r\n        }\r\n        else if (dateProfile.currentUnzonedRange.as('days') > 1) {\r\n            return 'll'; // multi-day range. shorter, like \"Sep 9 - 10 2014\"\r\n        }\r\n        else {\r\n            return 'LL'; // one day. longer, like \"September 9 2014\"\r\n        }\r\n    };\r\n    // Date Setting/Unsetting\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    View.prototype.setDate = function (date) {\r\n        var currentDateProfile = this.get('dateProfile');\r\n        var newDateProfile = this.dateProfileGenerator.build(date, undefined, true); // forceToValid=true\r\n        if (!currentDateProfile ||\r\n            !currentDateProfile.activeUnzonedRange.equals(newDateProfile.activeUnzonedRange)) {\r\n            this.set('dateProfile', newDateProfile);\r\n        }\r\n    };\r\n    View.prototype.unsetDate = function () {\r\n        this.unset('dateProfile');\r\n    };\r\n    // Event Data\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    View.prototype.fetchInitialEvents = function (dateProfile) {\r\n        var calendar = this.calendar;\r\n        var forceAllDay = dateProfile.isRangeAllDay && !this.usesMinMaxTime;\r\n        return calendar.requestEvents(calendar.msToMoment(dateProfile.activeUnzonedRange.startMs, forceAllDay), calendar.msToMoment(dateProfile.activeUnzonedRange.endMs, forceAllDay));\r\n    };\r\n    View.prototype.bindEventChanges = function () {\r\n        this.listenTo(this.calendar, 'eventsReset', this.resetEvents); // TODO: make this a real event\r\n    };\r\n    View.prototype.unbindEventChanges = function () {\r\n        this.stopListeningTo(this.calendar, 'eventsReset');\r\n    };\r\n    View.prototype.setEvents = function (eventsPayload) {\r\n        this.set('currentEvents', eventsPayload);\r\n        this.set('hasEvents', true);\r\n    };\r\n    View.prototype.unsetEvents = function () {\r\n        this.unset('currentEvents');\r\n        this.unset('hasEvents');\r\n    };\r\n    View.prototype.resetEvents = function (eventsPayload) {\r\n        this.startBatchRender();\r\n        this.unsetEvents();\r\n        this.setEvents(eventsPayload);\r\n        this.stopBatchRender();\r\n    };\r\n    // Date High-level Rendering\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    View.prototype.requestDateRender = function (dateProfile) {\r\n        var _this = this;\r\n        this.requestRender(function () {\r\n            _this.executeDateRender(dateProfile);\r\n        }, 'date', 'init');\r\n    };\r\n    View.prototype.requestDateUnrender = function () {\r\n        var _this = this;\r\n        this.requestRender(function () {\r\n            _this.executeDateUnrender();\r\n        }, 'date', 'destroy');\r\n    };\r\n    // if dateProfile not specified, uses current\r\n    View.prototype.executeDateRender = function (dateProfile) {\r\n        _super.prototype.executeDateRender.call(this, dateProfile);\r\n        if (this['render']) {\r\n            this['render'](); // TODO: deprecate\r\n        }\r\n        this.trigger('datesRendered');\r\n        this.addScroll({ isDateInit: true });\r\n        this.startNowIndicator(); // shouldn't render yet because updateSize will be called soon\r\n    };\r\n    View.prototype.executeDateUnrender = function () {\r\n        this.unselect();\r\n        this.stopNowIndicator();\r\n        this.trigger('before:datesUnrendered');\r\n        if (this['destroy']) {\r\n            this['destroy'](); // TODO: deprecate\r\n        }\r\n        _super.prototype.executeDateUnrender.call(this);\r\n    };\r\n    // \"Base\" rendering\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    View.prototype.bindBaseRenderHandlers = function () {\r\n        var _this = this;\r\n        this.on('datesRendered', function () {\r\n            _this.whenSizeUpdated(_this.triggerViewRender);\r\n        });\r\n        this.on('before:datesUnrendered', function () {\r\n            _this.triggerViewDestroy();\r\n        });\r\n    };\r\n    View.prototype.triggerViewRender = function () {\r\n        this.publiclyTrigger('viewRender', {\r\n            context: this,\r\n            args: [this, this.el]\r\n        });\r\n    };\r\n    View.prototype.triggerViewDestroy = function () {\r\n        this.publiclyTrigger('viewDestroy', {\r\n            context: this,\r\n            args: [this, this.el]\r\n        });\r\n    };\r\n    // Event High-level Rendering\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    View.prototype.requestEventsRender = function (eventsPayload) {\r\n        var _this = this;\r\n        this.requestRender(function () {\r\n            _this.executeEventRender(eventsPayload);\r\n            _this.whenSizeUpdated(_this.triggerAfterEventsRendered);\r\n        }, 'event', 'init');\r\n    };\r\n    View.prototype.requestEventsUnrender = function () {\r\n        var _this = this;\r\n        this.requestRender(function () {\r\n            _this.triggerBeforeEventsDestroyed();\r\n            _this.executeEventUnrender();\r\n        }, 'event', 'destroy');\r\n    };\r\n    // Business Hour High-level Rendering\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    View.prototype.requestBusinessHoursRender = function (businessHourGenerator) {\r\n        var _this = this;\r\n        this.requestRender(function () {\r\n            _this.renderBusinessHours(businessHourGenerator);\r\n        }, 'businessHours', 'init');\r\n    };\r\n    View.prototype.requestBusinessHoursUnrender = function () {\r\n        var _this = this;\r\n        this.requestRender(function () {\r\n            _this.unrenderBusinessHours();\r\n        }, 'businessHours', 'destroy');\r\n    };\r\n    // Misc view rendering utils\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // Binds DOM handlers to elements that reside outside the view container, such as the document\r\n    View.prototype.bindGlobalHandlers = function () {\r\n        _super.prototype.bindGlobalHandlers.call(this);\r\n        this.listenTo(GlobalEmitter_1.default.get(), {\r\n            touchstart: this.processUnselect,\r\n            mousedown: this.handleDocumentMousedown\r\n        });\r\n    };\r\n    // Unbinds DOM handlers from elements that reside outside the view container\r\n    View.prototype.unbindGlobalHandlers = function () {\r\n        _super.prototype.unbindGlobalHandlers.call(this);\r\n        this.stopListeningTo(GlobalEmitter_1.default.get());\r\n    };\r\n    /* Now Indicator\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Immediately render the current time indicator and begins re-rendering it at an interval,\r\n    // which is defined by this.getNowIndicatorUnit().\r\n    // TODO: somehow do this for the current whole day's background too\r\n    View.prototype.startNowIndicator = function () {\r\n        var _this = this;\r\n        var unit;\r\n        var update;\r\n        var delay; // ms wait value\r\n        if (this.opt('nowIndicator')) {\r\n            unit = this.getNowIndicatorUnit();\r\n            if (unit) {\r\n                update = util_1.proxy(this, 'updateNowIndicator'); // bind to `this`\r\n                this.initialNowDate = this.calendar.getNow();\r\n                this.initialNowQueriedMs = new Date().valueOf();\r\n                // wait until the beginning of the next interval\r\n                delay = this.initialNowDate.clone().startOf(unit).add(1, unit).valueOf() - this.initialNowDate.valueOf();\r\n                this.nowIndicatorTimeoutID = setTimeout(function () {\r\n                    _this.nowIndicatorTimeoutID = null;\r\n                    update();\r\n                    delay = +moment.duration(1, unit);\r\n                    delay = Math.max(100, delay); // prevent too frequent\r\n                    _this.nowIndicatorIntervalID = setInterval(update, delay); // update every interval\r\n                }, delay);\r\n            }\r\n            // rendering will be initiated in updateSize\r\n        }\r\n    };\r\n    // rerenders the now indicator, computing the new current time from the amount of time that has passed\r\n    // since the initial getNow call.\r\n    View.prototype.updateNowIndicator = function () {\r\n        if (this.isDatesRendered &&\r\n            this.initialNowDate // activated before?\r\n        ) {\r\n            this.unrenderNowIndicator(); // won't unrender if unnecessary\r\n            this.renderNowIndicator(this.initialNowDate.clone().add(new Date().valueOf() - this.initialNowQueriedMs) // add ms\r\n            );\r\n            this.isNowIndicatorRendered = true;\r\n        }\r\n    };\r\n    // Immediately unrenders the view's current time indicator and stops any re-rendering timers.\r\n    // Won't cause side effects if indicator isn't rendered.\r\n    View.prototype.stopNowIndicator = function () {\r\n        if (this.isNowIndicatorRendered) {\r\n            if (this.nowIndicatorTimeoutID) {\r\n                clearTimeout(this.nowIndicatorTimeoutID);\r\n                this.nowIndicatorTimeoutID = null;\r\n            }\r\n            if (this.nowIndicatorIntervalID) {\r\n                clearInterval(this.nowIndicatorIntervalID);\r\n                this.nowIndicatorIntervalID = null;\r\n            }\r\n            this.unrenderNowIndicator();\r\n            this.isNowIndicatorRendered = false;\r\n        }\r\n    };\r\n    /* Dimensions\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    View.prototype.updateSize = function (totalHeight, isAuto, isResize) {\r\n        if (this['setHeight']) { // for legacy API\r\n            this['setHeight'](totalHeight, isAuto);\r\n        }\r\n        else {\r\n            _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\r\n        }\r\n        this.updateNowIndicator();\r\n    };\r\n    /* Scroller\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    View.prototype.addScroll = function (scroll) {\r\n        var queuedScroll = this.queuedScroll || (this.queuedScroll = {});\r\n        $.extend(queuedScroll, scroll);\r\n    };\r\n    View.prototype.popScroll = function () {\r\n        this.applyQueuedScroll();\r\n        this.queuedScroll = null;\r\n    };\r\n    View.prototype.applyQueuedScroll = function () {\r\n        if (this.queuedScroll) {\r\n            this.applyScroll(this.queuedScroll);\r\n        }\r\n    };\r\n    View.prototype.queryScroll = function () {\r\n        var scroll = {};\r\n        if (this.isDatesRendered) {\r\n            $.extend(scroll, this.queryDateScroll());\r\n        }\r\n        return scroll;\r\n    };\r\n    View.prototype.applyScroll = function (scroll) {\r\n        if (scroll.isDateInit && this.isDatesRendered) {\r\n            $.extend(scroll, this.computeInitialDateScroll());\r\n        }\r\n        if (this.isDatesRendered) {\r\n            this.applyDateScroll(scroll);\r\n        }\r\n    };\r\n    View.prototype.computeInitialDateScroll = function () {\r\n        return {}; // subclasses must implement\r\n    };\r\n    View.prototype.queryDateScroll = function () {\r\n        return {}; // subclasses must implement\r\n    };\r\n    View.prototype.applyDateScroll = function (scroll) {\r\n        // subclasses must implement\r\n    };\r\n    /* Event Drag-n-Drop\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    View.prototype.reportEventDrop = function (eventInstance, eventMutation, el, ev) {\r\n        var eventManager = this.calendar.eventManager;\r\n        var undoFunc = eventManager.mutateEventsWithId(eventInstance.def.id, eventMutation);\r\n        var dateMutation = eventMutation.dateMutation;\r\n        // update the EventInstance, for handlers\r\n        if (dateMutation) {\r\n            eventInstance.dateProfile = dateMutation.buildNewDateProfile(eventInstance.dateProfile, this.calendar);\r\n        }\r\n        this.triggerEventDrop(eventInstance, \r\n        // a drop doesn't necessarily mean a date mutation (ex: resource change)\r\n        (dateMutation && dateMutation.dateDelta) || moment.duration(), undoFunc, el, ev);\r\n    };\r\n    // Triggers event-drop handlers that have subscribed via the API\r\n    View.prototype.triggerEventDrop = function (eventInstance, dateDelta, undoFunc, el, ev) {\r\n        this.publiclyTrigger('eventDrop', {\r\n            context: el[0],\r\n            args: [\r\n                eventInstance.toLegacy(),\r\n                dateDelta,\r\n                undoFunc,\r\n                ev,\r\n                {},\r\n                this\r\n            ]\r\n        });\r\n    };\r\n    /* External Element Drag-n-Drop\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Must be called when an external element, via jQuery UI, has been dropped onto the calendar.\r\n    // `meta` is the parsed data that has been embedded into the dragging event.\r\n    // `dropLocation` is an object that contains the new zoned start/end/allDay values for the event.\r\n    View.prototype.reportExternalDrop = function (singleEventDef, isEvent, isSticky, el, ev, ui) {\r\n        if (isEvent) {\r\n            this.calendar.eventManager.addEventDef(singleEventDef, isSticky);\r\n        }\r\n        this.triggerExternalDrop(singleEventDef, isEvent, el, ev, ui);\r\n    };\r\n    // Triggers external-drop handlers that have subscribed via the API\r\n    View.prototype.triggerExternalDrop = function (singleEventDef, isEvent, el, ev, ui) {\r\n        // trigger 'drop' regardless of whether element represents an event\r\n        this.publiclyTrigger('drop', {\r\n            context: el[0],\r\n            args: [\r\n                singleEventDef.dateProfile.start.clone(),\r\n                ev,\r\n                ui,\r\n                this\r\n            ]\r\n        });\r\n        if (isEvent) {\r\n            // signal an external event landed\r\n            this.publiclyTrigger('eventReceive', {\r\n                context: this,\r\n                args: [\r\n                    singleEventDef.buildInstance().toLegacy(),\r\n                    this\r\n                ]\r\n            });\r\n        }\r\n    };\r\n    /* Event Resizing\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Must be called when an event in the view has been resized to a new length\r\n    View.prototype.reportEventResize = function (eventInstance, eventMutation, el, ev) {\r\n        var eventManager = this.calendar.eventManager;\r\n        var undoFunc = eventManager.mutateEventsWithId(eventInstance.def.id, eventMutation);\r\n        // update the EventInstance, for handlers\r\n        eventInstance.dateProfile = eventMutation.dateMutation.buildNewDateProfile(eventInstance.dateProfile, this.calendar);\r\n        var resizeDelta = eventMutation.dateMutation.endDelta || eventMutation.dateMutation.startDelta;\r\n        this.triggerEventResize(eventInstance, resizeDelta, undoFunc, el, ev);\r\n    };\r\n    // Triggers event-resize handlers that have subscribed via the API\r\n    View.prototype.triggerEventResize = function (eventInstance, resizeDelta, undoFunc, el, ev) {\r\n        this.publiclyTrigger('eventResize', {\r\n            context: el[0],\r\n            args: [\r\n                eventInstance.toLegacy(),\r\n                resizeDelta,\r\n                undoFunc,\r\n                ev,\r\n                {},\r\n                this\r\n            ]\r\n        });\r\n    };\r\n    /* Selection (time range)\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Selects a date span on the view. `start` and `end` are both Moments.\r\n    // `ev` is the native mouse event that begin the interaction.\r\n    View.prototype.select = function (footprint, ev) {\r\n        this.unselect(ev);\r\n        this.renderSelectionFootprint(footprint);\r\n        this.reportSelection(footprint, ev);\r\n    };\r\n    View.prototype.renderSelectionFootprint = function (footprint) {\r\n        if (this['renderSelection']) { // legacy method in custom view classes\r\n            this['renderSelection'](footprint.toLegacy(this.calendar));\r\n        }\r\n        else {\r\n            _super.prototype.renderSelectionFootprint.call(this, footprint);\r\n        }\r\n    };\r\n    // Called when a new selection is made. Updates internal state and triggers handlers.\r\n    View.prototype.reportSelection = function (footprint, ev) {\r\n        this.isSelected = true;\r\n        this.triggerSelect(footprint, ev);\r\n    };\r\n    // Triggers handlers to 'select'\r\n    View.prototype.triggerSelect = function (footprint, ev) {\r\n        var dateProfile = this.calendar.footprintToDateProfile(footprint); // abuse of \"Event\"DateProfile?\r\n        this.publiclyTrigger('select', {\r\n            context: this,\r\n            args: [\r\n                dateProfile.start,\r\n                dateProfile.end,\r\n                ev,\r\n                this\r\n            ]\r\n        });\r\n    };\r\n    // Undoes a selection. updates in the internal state and triggers handlers.\r\n    // `ev` is the native mouse event that began the interaction.\r\n    View.prototype.unselect = function (ev) {\r\n        if (this.isSelected) {\r\n            this.isSelected = false;\r\n            if (this['destroySelection']) {\r\n                this['destroySelection'](); // TODO: deprecate\r\n            }\r\n            this.unrenderSelection();\r\n            this.publiclyTrigger('unselect', {\r\n                context: this,\r\n                args: [ev, this]\r\n            });\r\n        }\r\n    };\r\n    /* Event Selection\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    View.prototype.selectEventInstance = function (eventInstance) {\r\n        if (!this.selectedEventInstance ||\r\n            this.selectedEventInstance !== eventInstance) {\r\n            this.unselectEventInstance();\r\n            this.getEventSegs().forEach(function (seg) {\r\n                if (seg.footprint.eventInstance === eventInstance &&\r\n                    seg.el // necessary?\r\n                ) {\r\n                    seg.el.addClass('fc-selected');\r\n                }\r\n            });\r\n            this.selectedEventInstance = eventInstance;\r\n        }\r\n    };\r\n    View.prototype.unselectEventInstance = function () {\r\n        if (this.selectedEventInstance) {\r\n            this.getEventSegs().forEach(function (seg) {\r\n                if (seg.el) { // necessary?\r\n                    seg.el.removeClass('fc-selected');\r\n                }\r\n            });\r\n            this.selectedEventInstance = null;\r\n        }\r\n    };\r\n    View.prototype.isEventDefSelected = function (eventDef) {\r\n        // event references might change on refetchEvents(), while selectedEventInstance doesn't,\r\n        // so compare IDs\r\n        return this.selectedEventInstance && this.selectedEventInstance.def.id === eventDef.id;\r\n    };\r\n    /* Mouse / Touch Unselecting (time range & event unselection)\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // TODO: move consistently to down/start or up/end?\r\n    // TODO: don't kill previous selection if touch scrolling\r\n    View.prototype.handleDocumentMousedown = function (ev) {\r\n        if (util_1.isPrimaryMouseButton(ev)) {\r\n            this.processUnselect(ev);\r\n        }\r\n    };\r\n    View.prototype.processUnselect = function (ev) {\r\n        this.processRangeUnselect(ev);\r\n        this.processEventUnselect(ev);\r\n    };\r\n    View.prototype.processRangeUnselect = function (ev) {\r\n        var ignore;\r\n        // is there a time-range selection?\r\n        if (this.isSelected && this.opt('unselectAuto')) {\r\n            // only unselect if the clicked element is not identical to or inside of an 'unselectCancel' element\r\n            ignore = this.opt('unselectCancel');\r\n            if (!ignore || !$(ev.target).closest(ignore).length) {\r\n                this.unselect(ev);\r\n            }\r\n        }\r\n    };\r\n    View.prototype.processEventUnselect = function (ev) {\r\n        if (this.selectedEventInstance) {\r\n            if (!$(ev.target).closest('.fc-selected').length) {\r\n                this.unselectEventInstance();\r\n            }\r\n        }\r\n    };\r\n    /* Triggers\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    View.prototype.triggerBaseRendered = function () {\r\n        this.publiclyTrigger('viewRender', {\r\n            context: this,\r\n            args: [this, this.el]\r\n        });\r\n    };\r\n    View.prototype.triggerBaseUnrendered = function () {\r\n        this.publiclyTrigger('viewDestroy', {\r\n            context: this,\r\n            args: [this, this.el]\r\n        });\r\n    };\r\n    // Triggers handlers to 'dayClick'\r\n    // Span has start/end of the clicked area. Only the start is useful.\r\n    View.prototype.triggerDayClick = function (footprint, dayEl, ev) {\r\n        var dateProfile = this.calendar.footprintToDateProfile(footprint); // abuse of \"Event\"DateProfile?\r\n        this.publiclyTrigger('dayClick', {\r\n            context: dayEl,\r\n            args: [dateProfile.start, ev, this]\r\n        });\r\n    };\r\n    /* Date Utils\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // For DateComponent::getDayClasses\r\n    View.prototype.isDateInOtherMonth = function (date, dateProfile) {\r\n        return false;\r\n    };\r\n    // Arguments after name will be forwarded to a hypothetical function value\r\n    // WARNING: passed-in arguments will be given to generator functions as-is and can cause side-effects.\r\n    // Always clone your objects if you fear mutation.\r\n    View.prototype.getUnzonedRangeOption = function (name) {\r\n        var val = this.opt(name);\r\n        if (typeof val === 'function') {\r\n            val = val.apply(null, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n        if (val) {\r\n            return this.calendar.parseUnzonedRange(val);\r\n        }\r\n    };\r\n    /* Hidden Days\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Initializes internal variables related to calculating hidden days-of-week\r\n    View.prototype.initHiddenDays = function () {\r\n        var hiddenDays = this.opt('hiddenDays') || []; // array of day-of-week indices that are hidden\r\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\r\n        var dayCnt = 0;\r\n        var i;\r\n        if (this.opt('weekends') === false) {\r\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\r\n        }\r\n        for (i = 0; i < 7; i++) {\r\n            if (!(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)) {\r\n                dayCnt++;\r\n            }\r\n        }\r\n        if (!dayCnt) {\r\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\r\n        }\r\n        this.isHiddenDayHash = isHiddenDayHash;\r\n    };\r\n    // Remove days from the beginning and end of the range that are computed as hidden.\r\n    // If the whole range is trimmed off, returns null\r\n    View.prototype.trimHiddenDays = function (inputUnzonedRange) {\r\n        var start = inputUnzonedRange.getStart();\r\n        var end = inputUnzonedRange.getEnd();\r\n        if (start) {\r\n            start = this.skipHiddenDays(start);\r\n        }\r\n        if (end) {\r\n            end = this.skipHiddenDays(end, -1, true);\r\n        }\r\n        if (start === null || end === null || start < end) {\r\n            return new UnzonedRange_1.default(start, end);\r\n        }\r\n        return null;\r\n    };\r\n    // Is the current day hidden?\r\n    // `day` is a day-of-week index (0-6), or a Moment\r\n    View.prototype.isHiddenDay = function (day) {\r\n        if (moment.isMoment(day)) {\r\n            day = day.day();\r\n        }\r\n        return this.isHiddenDayHash[day];\r\n    };\r\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\r\n    // DOES NOT CONSIDER validUnzonedRange!\r\n    // If the initial value of `date` is not a hidden day, don't do anything.\r\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\r\n    // `inc` defaults to `1` (increment one day forward each time)\r\n    View.prototype.skipHiddenDays = function (date, inc, isExclusive) {\r\n        if (inc === void 0) { inc = 1; }\r\n        if (isExclusive === void 0) { isExclusive = false; }\r\n        var out = date.clone();\r\n        while (this.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]) {\r\n            out.add(inc, 'days');\r\n        }\r\n        return out;\r\n    };\r\n    return View;\r\n}(InteractiveDateComponent_1.default));\r\nexports.default = View;\r\nView.prototype.usesMinMaxTime = false;\r\nView.prototype.dateProfileGeneratorClass = DateProfileGenerator_1.default;\r\nView.watch('displayingDates', ['isInDom', 'dateProfile'], function (deps) {\r\n    this.requestDateRender(deps.dateProfile);\r\n}, function () {\r\n    this.requestDateUnrender();\r\n});\r\nView.watch('displayingBusinessHours', ['displayingDates', 'businessHourGenerator'], function (deps) {\r\n    this.requestBusinessHoursRender(deps.businessHourGenerator);\r\n}, function () {\r\n    this.requestBusinessHoursUnrender();\r\n});\r\nView.watch('initialEvents', ['dateProfile'], function (deps) {\r\n    return this.fetchInitialEvents(deps.dateProfile);\r\n});\r\nView.watch('bindingEvents', ['initialEvents'], function (deps) {\r\n    this.setEvents(deps.initialEvents);\r\n    this.bindEventChanges();\r\n}, function () {\r\n    this.unbindEventChanges();\r\n    this.unsetEvents();\r\n});\r\nView.watch('displayingEvents', ['displayingDates', 'hasEvents'], function () {\r\n    this.requestEventsRender(this.get('currentEvents'));\r\n}, function () {\r\n    this.requestEventsUnrender();\r\n});\r\nView.watch('title', ['dateProfile'], function (deps) {\r\n    return (this.title = this.computeTitle(deps.dateProfile)); // assign to View for legacy reasons\r\n});\r\nView.watch('legacyDateProps', ['dateProfile'], function (deps) {\r\n    var calendar = this.calendar;\r\n    var dateProfile = deps.dateProfile;\r\n    // DEPRECATED, but we need to keep it updated...\r\n    this.start = calendar.msToMoment(dateProfile.activeUnzonedRange.startMs, dateProfile.isRangeAllDay);\r\n    this.end = calendar.msToMoment(dateProfile.activeUnzonedRange.endMs, dateProfile.isRangeAllDay);\r\n    this.intervalStart = calendar.msToMoment(dateProfile.currentUnzonedRange.startMs, dateProfile.isRangeAllDay);\r\n    this.intervalEnd = calendar.msToMoment(dateProfile.currentUnzonedRange.endMs, dateProfile.isRangeAllDay);\r\n});\r\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventRenderer = /** @class */ (function () {\r\n    function EventRenderer(component, fillRenderer) {\r\n        this.view = component._getView();\r\n        this.component = component;\r\n        this.fillRenderer = fillRenderer;\r\n    }\r\n    EventRenderer.prototype.opt = function (name) {\r\n        return this.view.opt(name);\r\n    };\r\n    // Updates values that rely on options and also relate to range\r\n    EventRenderer.prototype.rangeUpdated = function () {\r\n        var displayEventTime;\r\n        var displayEventEnd;\r\n        this.eventTimeFormat =\r\n            this.opt('eventTimeFormat') ||\r\n                this.opt('timeFormat') || // deprecated\r\n                this.computeEventTimeFormat();\r\n        displayEventTime = this.opt('displayEventTime');\r\n        if (displayEventTime == null) {\r\n            displayEventTime = this.computeDisplayEventTime(); // might be based off of range\r\n        }\r\n        displayEventEnd = this.opt('displayEventEnd');\r\n        if (displayEventEnd == null) {\r\n            displayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\r\n        }\r\n        this.displayEventTime = displayEventTime;\r\n        this.displayEventEnd = displayEventEnd;\r\n    };\r\n    EventRenderer.prototype.render = function (eventsPayload) {\r\n        var dateProfile = this.component._getDateProfile();\r\n        var eventDefId;\r\n        var instanceGroup;\r\n        var eventRanges;\r\n        var bgRanges = [];\r\n        var fgRanges = [];\r\n        for (eventDefId in eventsPayload) {\r\n            instanceGroup = eventsPayload[eventDefId];\r\n            eventRanges = instanceGroup.sliceRenderRanges(dateProfile.activeUnzonedRange);\r\n            if (instanceGroup.getEventDef().hasBgRendering()) {\r\n                bgRanges.push.apply(bgRanges, eventRanges);\r\n            }\r\n            else {\r\n                fgRanges.push.apply(fgRanges, eventRanges);\r\n            }\r\n        }\r\n        this.renderBgRanges(bgRanges);\r\n        this.renderFgRanges(fgRanges);\r\n    };\r\n    EventRenderer.prototype.unrender = function () {\r\n        this.unrenderBgRanges();\r\n        this.unrenderFgRanges();\r\n    };\r\n    EventRenderer.prototype.renderFgRanges = function (eventRanges) {\r\n        var eventFootprints = this.component.eventRangesToEventFootprints(eventRanges);\r\n        var segs = this.component.eventFootprintsToSegs(eventFootprints);\r\n        // render an `.el` on each seg\r\n        // returns a subset of the segs. segs that were actually rendered\r\n        segs = this.renderFgSegEls(segs);\r\n        if (this.renderFgSegs(segs) !== false) { // no failure?\r\n            this.fgSegs = segs;\r\n        }\r\n    };\r\n    EventRenderer.prototype.unrenderFgRanges = function () {\r\n        this.unrenderFgSegs(this.fgSegs || []);\r\n        this.fgSegs = null;\r\n    };\r\n    EventRenderer.prototype.renderBgRanges = function (eventRanges) {\r\n        var eventFootprints = this.component.eventRangesToEventFootprints(eventRanges);\r\n        var segs = this.component.eventFootprintsToSegs(eventFootprints);\r\n        if (this.renderBgSegs(segs) !== false) { // no failure?\r\n            this.bgSegs = segs;\r\n        }\r\n    };\r\n    EventRenderer.prototype.unrenderBgRanges = function () {\r\n        this.unrenderBgSegs();\r\n        this.bgSegs = null;\r\n    };\r\n    EventRenderer.prototype.getSegs = function () {\r\n        return (this.bgSegs || []).concat(this.fgSegs || []);\r\n    };\r\n    // Renders foreground event segments onto the grid\r\n    EventRenderer.prototype.renderFgSegs = function (segs) {\r\n        // subclasses must implement\r\n        // segs already has rendered els, and has been filtered.\r\n        return false; // signal failure if not implemented\r\n    };\r\n    // Unrenders all currently rendered foreground segments\r\n    EventRenderer.prototype.unrenderFgSegs = function (segs) {\r\n        // subclasses must implement\r\n    };\r\n    EventRenderer.prototype.renderBgSegs = function (segs) {\r\n        var _this = this;\r\n        if (this.fillRenderer) {\r\n            this.fillRenderer.renderSegs('bgEvent', segs, {\r\n                getClasses: function (seg) {\r\n                    return _this.getBgClasses(seg.footprint.eventDef);\r\n                },\r\n                getCss: function (seg) {\r\n                    return {\r\n                        'background-color': _this.getBgColor(seg.footprint.eventDef)\r\n                    };\r\n                },\r\n                filterEl: function (seg, el) {\r\n                    return _this.filterEventRenderEl(seg.footprint, el);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            return false; // signal failure if no fillRenderer\r\n        }\r\n    };\r\n    EventRenderer.prototype.unrenderBgSegs = function () {\r\n        if (this.fillRenderer) {\r\n            this.fillRenderer.unrender('bgEvent');\r\n        }\r\n    };\r\n    // Renders and assigns an `el` property for each foreground event segment.\r\n    // Only returns segments that successfully rendered.\r\n    EventRenderer.prototype.renderFgSegEls = function (segs, disableResizing) {\r\n        var _this = this;\r\n        if (disableResizing === void 0) { disableResizing = false; }\r\n        var hasEventRenderHandlers = this.view.hasPublicHandlers('eventRender');\r\n        var html = '';\r\n        var renderedSegs = [];\r\n        var i;\r\n        if (segs.length) { // don't build an empty html string\r\n            // build a large concatenation of event segment HTML\r\n            for (i = 0; i < segs.length; i++) {\r\n                this.beforeFgSegHtml(segs[i]);\r\n                html += this.fgSegHtml(segs[i], disableResizing);\r\n            }\r\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\r\n            // Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\r\n            $(html).each(function (i, node) {\r\n                var seg = segs[i];\r\n                var el = $(node);\r\n                if (hasEventRenderHandlers) { // optimization\r\n                    el = _this.filterEventRenderEl(seg.footprint, el);\r\n                }\r\n                if (el) {\r\n                    el.data('fc-seg', seg); // used by handlers\r\n                    seg.el = el;\r\n                    renderedSegs.push(seg);\r\n                }\r\n            });\r\n        }\r\n        return renderedSegs;\r\n    };\r\n    EventRenderer.prototype.beforeFgSegHtml = function (seg) {\r\n    };\r\n    // Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()\r\n    EventRenderer.prototype.fgSegHtml = function (seg, disableResizing) {\r\n        // subclasses should implement\r\n    };\r\n    // Generic utility for generating the HTML classNames for an event segment's element\r\n    EventRenderer.prototype.getSegClasses = function (seg, isDraggable, isResizable) {\r\n        var classes = [\r\n            'fc-event',\r\n            seg.isStart ? 'fc-start' : 'fc-not-start',\r\n            seg.isEnd ? 'fc-end' : 'fc-not-end'\r\n        ].concat(this.getClasses(seg.footprint.eventDef));\r\n        if (isDraggable) {\r\n            classes.push('fc-draggable');\r\n        }\r\n        if (isResizable) {\r\n            classes.push('fc-resizable');\r\n        }\r\n        // event is currently selected? attach a className.\r\n        if (this.view.isEventDefSelected(seg.footprint.eventDef)) {\r\n            classes.push('fc-selected');\r\n        }\r\n        return classes;\r\n    };\r\n    // Given an event and the default element used for rendering, returns the element that should actually be used.\r\n    // Basically runs events and elements through the eventRender hook.\r\n    EventRenderer.prototype.filterEventRenderEl = function (eventFootprint, el) {\r\n        var legacy = eventFootprint.getEventLegacy();\r\n        var custom = this.view.publiclyTrigger('eventRender', {\r\n            context: legacy,\r\n            args: [legacy, el, this.view]\r\n        });\r\n        if (custom === false) { // means don't render at all\r\n            el = null;\r\n        }\r\n        else if (custom && custom !== true) {\r\n            el = $(custom);\r\n        }\r\n        return el;\r\n    };\r\n    // Compute the text that should be displayed on an event's element.\r\n    // `range` can be the Event object itself, or something range-like, with at least a `start`.\r\n    // If event times are disabled, or the event has no time, will return a blank string.\r\n    // If not specified, formatStr will default to the eventTimeFormat setting,\r\n    // and displayEnd will default to the displayEventEnd setting.\r\n    EventRenderer.prototype.getTimeText = function (eventFootprint, formatStr, displayEnd) {\r\n        return this._getTimeText(eventFootprint.eventInstance.dateProfile.start, eventFootprint.eventInstance.dateProfile.end, eventFootprint.componentFootprint.isAllDay, formatStr, displayEnd);\r\n    };\r\n    EventRenderer.prototype._getTimeText = function (start, end, isAllDay, formatStr, displayEnd) {\r\n        if (formatStr == null) {\r\n            formatStr = this.eventTimeFormat;\r\n        }\r\n        if (displayEnd == null) {\r\n            displayEnd = this.displayEventEnd;\r\n        }\r\n        if (this.displayEventTime && !isAllDay) {\r\n            if (displayEnd && end) {\r\n                return this.view.formatRange({ start: start, end: end }, false, // allDay\r\n                formatStr);\r\n            }\r\n            else {\r\n                return start.format(formatStr);\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    EventRenderer.prototype.computeEventTimeFormat = function () {\r\n        return this.opt('smallTimeFormat');\r\n    };\r\n    EventRenderer.prototype.computeDisplayEventTime = function () {\r\n        return true;\r\n    };\r\n    EventRenderer.prototype.computeDisplayEventEnd = function () {\r\n        return true;\r\n    };\r\n    EventRenderer.prototype.getBgClasses = function (eventDef) {\r\n        var classNames = this.getClasses(eventDef);\r\n        classNames.push('fc-bgevent');\r\n        return classNames;\r\n    };\r\n    EventRenderer.prototype.getClasses = function (eventDef) {\r\n        var objs = this.getStylingObjs(eventDef);\r\n        var i;\r\n        var classNames = [];\r\n        for (i = 0; i < objs.length; i++) {\r\n            classNames.push.apply(// append\r\n            classNames, objs[i].eventClassName || objs[i].className || []);\r\n        }\r\n        return classNames;\r\n    };\r\n    // Utility for generating event skin-related CSS properties\r\n    EventRenderer.prototype.getSkinCss = function (eventDef) {\r\n        return {\r\n            'background-color': this.getBgColor(eventDef),\r\n            'border-color': this.getBorderColor(eventDef),\r\n            color: this.getTextColor(eventDef)\r\n        };\r\n    };\r\n    // Queries for caller-specified color, then falls back to default\r\n    EventRenderer.prototype.getBgColor = function (eventDef) {\r\n        var objs = this.getStylingObjs(eventDef);\r\n        var i;\r\n        var val;\r\n        for (i = 0; i < objs.length && !val; i++) {\r\n            val = objs[i].eventBackgroundColor || objs[i].eventColor ||\r\n                objs[i].backgroundColor || objs[i].color;\r\n        }\r\n        if (!val) {\r\n            val = this.opt('eventBackgroundColor') || this.opt('eventColor');\r\n        }\r\n        return val;\r\n    };\r\n    // Queries for caller-specified color, then falls back to default\r\n    EventRenderer.prototype.getBorderColor = function (eventDef) {\r\n        var objs = this.getStylingObjs(eventDef);\r\n        var i;\r\n        var val;\r\n        for (i = 0; i < objs.length && !val; i++) {\r\n            val = objs[i].eventBorderColor || objs[i].eventColor ||\r\n                objs[i].borderColor || objs[i].color;\r\n        }\r\n        if (!val) {\r\n            val = this.opt('eventBorderColor') || this.opt('eventColor');\r\n        }\r\n        return val;\r\n    };\r\n    // Queries for caller-specified color, then falls back to default\r\n    EventRenderer.prototype.getTextColor = function (eventDef) {\r\n        var objs = this.getStylingObjs(eventDef);\r\n        var i;\r\n        var val;\r\n        for (i = 0; i < objs.length && !val; i++) {\r\n            val = objs[i].eventTextColor ||\r\n                objs[i].textColor;\r\n        }\r\n        if (!val) {\r\n            val = this.opt('eventTextColor');\r\n        }\r\n        return val;\r\n    };\r\n    EventRenderer.prototype.getStylingObjs = function (eventDef) {\r\n        var objs = this.getFallbackStylingObjs(eventDef);\r\n        objs.unshift(eventDef);\r\n        return objs;\r\n    };\r\n    EventRenderer.prototype.getFallbackStylingObjs = function (eventDef) {\r\n        return [eventDef.source];\r\n    };\r\n    EventRenderer.prototype.sortEventSegs = function (segs) {\r\n        segs.sort(util_1.proxy(this, 'compareEventSegs'));\r\n    };\r\n    // A cmp function for determining which segments should take visual priority\r\n    EventRenderer.prototype.compareEventSegs = function (seg1, seg2) {\r\n        var f1 = seg1.footprint;\r\n        var f2 = seg2.footprint;\r\n        var cf1 = f1.componentFootprint;\r\n        var cf2 = f2.componentFootprint;\r\n        var r1 = cf1.unzonedRange;\r\n        var r2 = cf2.unzonedRange;\r\n        return r1.startMs - r2.startMs || // earlier events go first\r\n            (r2.endMs - r2.startMs) - (r1.endMs - r1.startMs) || // tie? longer events go first\r\n            cf2.isAllDay - cf1.isAllDay || // tie? put all-day events first (booleans cast to 0/1)\r\n            util_1.compareByFieldSpecs(f1.eventDef, f2.eventDef, this.view.eventOrderSpecs, f1.eventDef.miscProps, f2.eventDef.miscProps);\r\n    };\r\n    return EventRenderer;\r\n}());\r\nexports.default = EventRenderer;\r\n\n\n/***/ }),\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment_ext_1 = __webpack_require__(11);\r\n// Plugin\r\n// -------------------------------------------------------------------------------------------------\r\nmoment_ext_1.newMomentProto.format = function () {\r\n    if (this._fullCalendar && arguments[0]) { // an enhanced moment? and a format string provided?\r\n        return formatDate(this, arguments[0]); // our extended formatting\r\n    }\r\n    if (this._ambigTime) {\r\n        return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD');\r\n    }\r\n    if (this._ambigZone) {\r\n        return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD[T]HH:mm:ss');\r\n    }\r\n    if (this._fullCalendar) { // enhanced non-ambig moment?\r\n        // moment.format() doesn't ensure english, but we want to.\r\n        return moment_ext_1.oldMomentFormat(englishMoment(this));\r\n    }\r\n    return moment_ext_1.oldMomentProto.format.apply(this, arguments);\r\n};\r\nmoment_ext_1.newMomentProto.toISOString = function () {\r\n    if (this._ambigTime) {\r\n        return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD');\r\n    }\r\n    if (this._ambigZone) {\r\n        return moment_ext_1.oldMomentFormat(englishMoment(this), 'YYYY-MM-DD[T]HH:mm:ss');\r\n    }\r\n    if (this._fullCalendar) { // enhanced non-ambig moment?\r\n        // depending on browser, moment might not output english. ensure english.\r\n        // https://github.com/moment/moment/blob/2.18.1/src/lib/moment/format.js#L22\r\n        return moment_ext_1.oldMomentProto.toISOString.apply(englishMoment(this), arguments);\r\n    }\r\n    return moment_ext_1.oldMomentProto.toISOString.apply(this, arguments);\r\n};\r\nfunction englishMoment(mom) {\r\n    if (mom.locale() !== 'en') {\r\n        return mom.clone().locale('en');\r\n    }\r\n    return mom;\r\n}\r\n// Config\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n/*\r\nInserted between chunks in the fake (\"intermediate\") formatting string.\r\nImportant that it passes as whitespace (\\s) because moment often identifies non-standalone months\r\nvia a regexp with an \\s.\r\n*/\r\nvar PART_SEPARATOR = '\\u000b'; // vertical tab\r\n/*\r\nInserted as the first character of a literal-text chunk to indicate that the literal text is not actually literal text,\r\nbut rather, a \"special\" token that has custom rendering (see specialTokens map).\r\n*/\r\nvar SPECIAL_TOKEN_MARKER = '\\u001f'; // information separator 1\r\n/*\r\nInserted at the beginning and end of a span of text that must have non-zero numeric characters.\r\nHandling of these markers is done in a post-processing step at the very end of text rendering.\r\n*/\r\nvar MAYBE_MARKER = '\\u001e'; // information separator 2\r\nvar MAYBE_REGEXP = new RegExp(MAYBE_MARKER + '([^' + MAYBE_MARKER + ']*)' + MAYBE_MARKER, 'g'); // must be global\r\n/*\r\nAddition formatting tokens we want recognized\r\n*/\r\nvar specialTokens = {\r\n    t: function (date) {\r\n        return moment_ext_1.oldMomentFormat(date, 'a').charAt(0);\r\n    },\r\n    T: function (date) {\r\n        return moment_ext_1.oldMomentFormat(date, 'A').charAt(0);\r\n    }\r\n};\r\n/*\r\nThe first characters of formatting tokens for units that are 1 day or larger.\r\n`value` is for ranking relative size (lower means bigger).\r\n`unit` is a normalized unit, used for comparing moments.\r\n*/\r\nvar largeTokenMap = {\r\n    Y: { value: 1, unit: 'year' },\r\n    M: { value: 2, unit: 'month' },\r\n    W: { value: 3, unit: 'week' },\r\n    w: { value: 3, unit: 'week' },\r\n    D: { value: 4, unit: 'day' },\r\n    d: { value: 4, unit: 'day' } // day of week\r\n};\r\n// Single Date Formatting\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n/*\r\nFormats `date` with a Moment formatting string, but allow our non-zero areas and special token\r\n*/\r\nfunction formatDate(date, formatStr) {\r\n    return renderFakeFormatString(getParsedFormatString(formatStr).fakeFormatString, date);\r\n}\r\nexports.formatDate = formatDate;\r\n// Date Range Formatting\r\n// -------------------------------------------------------------------------------------------------\r\n// TODO: make it work with timezone offset\r\n/*\r\nUsing a formatting string meant for a single date, generate a range string, like\r\n\"Sep 2 - 9 2013\", that intelligently inserts a separator where the dates differ.\r\nIf the dates are the same as far as the format string is concerned, just return a single\r\nrendering of one date, without any separator.\r\n*/\r\nfunction formatRange(date1, date2, formatStr, separator, isRTL) {\r\n    var localeData;\r\n    date1 = moment_ext_1.default.parseZone(date1);\r\n    date2 = moment_ext_1.default.parseZone(date2);\r\n    localeData = date1.localeData();\r\n    // Expand localized format strings, like \"LL\" -> \"MMMM D YYYY\".\r\n    // BTW, this is not important for `formatDate` because it is impossible to put custom tokens\r\n    // or non-zero areas in Moment's localized format strings.\r\n    formatStr = localeData.longDateFormat(formatStr) || formatStr;\r\n    return renderParsedFormat(getParsedFormatString(formatStr), date1, date2, separator || ' - ', isRTL);\r\n}\r\nexports.formatRange = formatRange;\r\n/*\r\nRenders a range with an already-parsed format string.\r\n*/\r\nfunction renderParsedFormat(parsedFormat, date1, date2, separator, isRTL) {\r\n    var sameUnits = parsedFormat.sameUnits;\r\n    var unzonedDate1 = date1.clone().stripZone(); // for same-unit comparisons\r\n    var unzonedDate2 = date2.clone().stripZone(); // \"\r\n    var renderedParts1 = renderFakeFormatStringParts(parsedFormat.fakeFormatString, date1);\r\n    var renderedParts2 = renderFakeFormatStringParts(parsedFormat.fakeFormatString, date2);\r\n    var leftI;\r\n    var leftStr = '';\r\n    var rightI;\r\n    var rightStr = '';\r\n    var middleI;\r\n    var middleStr1 = '';\r\n    var middleStr2 = '';\r\n    var middleStr = '';\r\n    // Start at the leftmost side of the formatting string and continue until you hit a token\r\n    // that is not the same between dates.\r\n    for (leftI = 0; leftI < sameUnits.length && (!sameUnits[leftI] || unzonedDate1.isSame(unzonedDate2, sameUnits[leftI])); leftI++) {\r\n        leftStr += renderedParts1[leftI];\r\n    }\r\n    // Similarly, start at the rightmost side of the formatting string and move left\r\n    for (rightI = sameUnits.length - 1; rightI > leftI && (!sameUnits[rightI] || unzonedDate1.isSame(unzonedDate2, sameUnits[rightI])); rightI--) {\r\n        // If current chunk is on the boundary of unique date-content, and is a special-case\r\n        // date-formatting postfix character, then don't consume it. Consider it unique date-content.\r\n        // TODO: make configurable\r\n        if (rightI - 1 === leftI && renderedParts1[rightI] === '.') {\r\n            break;\r\n        }\r\n        rightStr = renderedParts1[rightI] + rightStr;\r\n    }\r\n    // The area in the middle is different for both of the dates.\r\n    // Collect them distinctly so we can jam them together later.\r\n    for (middleI = leftI; middleI <= rightI; middleI++) {\r\n        middleStr1 += renderedParts1[middleI];\r\n        middleStr2 += renderedParts2[middleI];\r\n    }\r\n    if (middleStr1 || middleStr2) {\r\n        if (isRTL) {\r\n            middleStr = middleStr2 + separator + middleStr1;\r\n        }\r\n        else {\r\n            middleStr = middleStr1 + separator + middleStr2;\r\n        }\r\n    }\r\n    return processMaybeMarkers(leftStr + middleStr + rightStr);\r\n}\r\n// Format String Parsing\r\n// ---------------------------------------------------------------------------------------------------------------------\r\nvar parsedFormatStrCache = {};\r\n/*\r\nReturns a parsed format string, leveraging a cache.\r\n*/\r\nfunction getParsedFormatString(formatStr) {\r\n    return parsedFormatStrCache[formatStr] ||\r\n        (parsedFormatStrCache[formatStr] = parseFormatString(formatStr));\r\n}\r\n/*\r\nParses a format string into the following:\r\n- fakeFormatString: a momentJS formatting string, littered with special control characters that get post-processed.\r\n- sameUnits: for every part in fakeFormatString, if the part is a token, the value will be a unit string (like \"day\"),\r\n  that indicates how similar a range's start & end must be in order to share the same formatted text.\r\n  If not a token, then the value is null.\r\n  Always a flat array (not nested liked \"chunks\").\r\n*/\r\nfunction parseFormatString(formatStr) {\r\n    var chunks = chunkFormatString(formatStr);\r\n    return {\r\n        fakeFormatString: buildFakeFormatString(chunks),\r\n        sameUnits: buildSameUnits(chunks)\r\n    };\r\n}\r\n/*\r\nBreak the formatting string into an array of chunks.\r\nA 'maybe' chunk will have nested chunks.\r\n*/\r\nfunction chunkFormatString(formatStr) {\r\n    var chunks = [];\r\n    var match;\r\n    // TODO: more descrimination\r\n    // \\4 is a backreference to the first character of a multi-character set.\r\n    var chunker = /\\[([^\\]]*)\\]|\\(([^\\)]*)\\)|(LTS|LT|(\\w)\\4*o?)|([^\\w\\[\\(]+)/g;\r\n    while ((match = chunker.exec(formatStr))) {\r\n        if (match[1]) { // a literal string inside [ ... ]\r\n            chunks.push.apply(chunks, // append\r\n            splitStringLiteral(match[1]));\r\n        }\r\n        else if (match[2]) { // non-zero formatting inside ( ... )\r\n            chunks.push({ maybe: chunkFormatString(match[2]) });\r\n        }\r\n        else if (match[3]) { // a formatting token\r\n            chunks.push({ token: match[3] });\r\n        }\r\n        else if (match[5]) { // an unenclosed literal string\r\n            chunks.push.apply(chunks, // append\r\n            splitStringLiteral(match[5]));\r\n        }\r\n    }\r\n    return chunks;\r\n}\r\n/*\r\nPotentially splits a literal-text string into multiple parts. For special cases.\r\n*/\r\nfunction splitStringLiteral(s) {\r\n    if (s === '. ') {\r\n        return ['.', ' ']; // for locales with periods bound to the end of each year/month/date\r\n    }\r\n    else {\r\n        return [s];\r\n    }\r\n}\r\n/*\r\nGiven chunks parsed from a real format string, generate a fake (aka \"intermediate\") format string with special control\r\ncharacters that will eventually be given to moment for formatting, and then post-processed.\r\n*/\r\nfunction buildFakeFormatString(chunks) {\r\n    var parts = [];\r\n    var i;\r\n    var chunk;\r\n    for (i = 0; i < chunks.length; i++) {\r\n        chunk = chunks[i];\r\n        if (typeof chunk === 'string') {\r\n            parts.push('[' + chunk + ']');\r\n        }\r\n        else if (chunk.token) {\r\n            if (chunk.token in specialTokens) {\r\n                parts.push(SPECIAL_TOKEN_MARKER + // useful during post-processing\r\n                    '[' + chunk.token + ']' // preserve as literal text\r\n                );\r\n            }\r\n            else {\r\n                parts.push(chunk.token); // unprotected text implies a format string\r\n            }\r\n        }\r\n        else if (chunk.maybe) {\r\n            parts.push(MAYBE_MARKER + // useful during post-processing\r\n                buildFakeFormatString(chunk.maybe) +\r\n                MAYBE_MARKER);\r\n        }\r\n    }\r\n    return parts.join(PART_SEPARATOR);\r\n}\r\n/*\r\nGiven parsed chunks from a real formatting string, generates an array of unit strings (like \"day\") that indicate\r\nin which regard two dates must be similar in order to share range formatting text.\r\nThe `chunks` can be nested (because of \"maybe\" chunks), however, the returned array will be flat.\r\n*/\r\nfunction buildSameUnits(chunks) {\r\n    var units = [];\r\n    var i;\r\n    var chunk;\r\n    var tokenInfo;\r\n    for (i = 0; i < chunks.length; i++) {\r\n        chunk = chunks[i];\r\n        if (chunk.token) {\r\n            tokenInfo = largeTokenMap[chunk.token.charAt(0)];\r\n            units.push(tokenInfo ? tokenInfo.unit : 'second'); // default to a very strict same-second\r\n        }\r\n        else if (chunk.maybe) {\r\n            units.push.apply(units, // append\r\n            buildSameUnits(chunk.maybe));\r\n        }\r\n        else {\r\n            units.push(null);\r\n        }\r\n    }\r\n    return units;\r\n}\r\n// Rendering to text\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n/*\r\nFormats a date with a fake format string, post-processes the control characters, then returns.\r\n*/\r\nfunction renderFakeFormatString(fakeFormatString, date) {\r\n    return processMaybeMarkers(renderFakeFormatStringParts(fakeFormatString, date).join(''));\r\n}\r\n/*\r\nFormats a date into parts that will have been post-processed, EXCEPT for the \"maybe\" markers.\r\n*/\r\nfunction renderFakeFormatStringParts(fakeFormatString, date) {\r\n    var parts = [];\r\n    var fakeRender = moment_ext_1.oldMomentFormat(date, fakeFormatString);\r\n    var fakeParts = fakeRender.split(PART_SEPARATOR);\r\n    var i;\r\n    var fakePart;\r\n    for (i = 0; i < fakeParts.length; i++) {\r\n        fakePart = fakeParts[i];\r\n        if (fakePart.charAt(0) === SPECIAL_TOKEN_MARKER) {\r\n            parts.push(\r\n            // the literal string IS the token's name.\r\n            // call special token's registered function.\r\n            specialTokens[fakePart.substring(1)](date));\r\n        }\r\n        else {\r\n            parts.push(fakePart);\r\n        }\r\n    }\r\n    return parts;\r\n}\r\n/*\r\nAccepts an almost-finally-formatted string and processes the \"maybe\" control characters, returning a new string.\r\n*/\r\nfunction processMaybeMarkers(s) {\r\n    return s.replace(MAYBE_REGEXP, function (m0, m1) {\r\n        if (m1.match(/[1-9]/)) { // any non-zero numeric characters?\r\n            return m1;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    });\r\n}\r\n// Misc Utils\r\n// -------------------------------------------------------------------------------------------------\r\n/*\r\nReturns a unit string, either 'year', 'month', 'day', or null for the most granular formatting token in the string.\r\n*/\r\nfunction queryMostGranularFormatUnit(formatStr) {\r\n    var chunks = chunkFormatString(formatStr);\r\n    var i;\r\n    var chunk;\r\n    var candidate;\r\n    var best;\r\n    for (i = 0; i < chunks.length; i++) {\r\n        chunk = chunks[i];\r\n        if (chunk.token) {\r\n            candidate = largeTokenMap[chunk.token.charAt(0)];\r\n            if (candidate) {\r\n                if (!best || candidate.value > best.value) {\r\n                    best = candidate;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (best) {\r\n        return best.unit;\r\n    }\r\n    return null;\r\n}\r\nexports.queryMostGranularFormatUnit = queryMostGranularFormatUnit;\r\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventRange = /** @class */ (function () {\r\n    function EventRange(unzonedRange, eventDef, eventInstance) {\r\n        this.unzonedRange = unzonedRange;\r\n        this.eventDef = eventDef;\r\n        if (eventInstance) {\r\n            this.eventInstance = eventInstance;\r\n        }\r\n    }\r\n    return EventRange;\r\n}());\r\nexports.default = EventRange;\r\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Class_1 = __webpack_require__(35);\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nvar Model = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Model, _super);\r\n    function Model() {\r\n        var _this = _super.call(this) || this;\r\n        _this._watchers = {};\r\n        _this._props = {};\r\n        _this.applyGlobalWatchers();\r\n        _this.constructed();\r\n        return _this;\r\n    }\r\n    Model.watch = function (name) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        // subclasses should make a masked-copy of the superclass's map\r\n        // TODO: write test\r\n        if (!this.prototype.hasOwnProperty('_globalWatchArgs')) {\r\n            this.prototype._globalWatchArgs = Object.create(this.prototype._globalWatchArgs);\r\n        }\r\n        this.prototype._globalWatchArgs[name] = args;\r\n    };\r\n    Model.prototype.constructed = function () {\r\n        // useful for monkeypatching. TODO: BaseClass?\r\n    };\r\n    Model.prototype.applyGlobalWatchers = function () {\r\n        var map = this._globalWatchArgs;\r\n        var name;\r\n        for (name in map) {\r\n            this.watch.apply(this, [name].concat(map[name]));\r\n        }\r\n    };\r\n    Model.prototype.has = function (name) {\r\n        return name in this._props;\r\n    };\r\n    Model.prototype.get = function (name) {\r\n        if (name === undefined) {\r\n            return this._props;\r\n        }\r\n        return this._props[name];\r\n    };\r\n    Model.prototype.set = function (name, val) {\r\n        var newProps;\r\n        if (typeof name === 'string') {\r\n            newProps = {};\r\n            newProps[name] = val === undefined ? null : val;\r\n        }\r\n        else {\r\n            newProps = name;\r\n        }\r\n        this.setProps(newProps);\r\n    };\r\n    Model.prototype.reset = function (newProps) {\r\n        var oldProps = this._props;\r\n        var changeset = {}; // will have undefined's to signal unsets\r\n        var name;\r\n        for (name in oldProps) {\r\n            changeset[name] = undefined;\r\n        }\r\n        for (name in newProps) {\r\n            changeset[name] = newProps[name];\r\n        }\r\n        this.setProps(changeset);\r\n    };\r\n    Model.prototype.unset = function (name) {\r\n        var newProps = {};\r\n        var names;\r\n        var i;\r\n        if (typeof name === 'string') {\r\n            names = [name];\r\n        }\r\n        else {\r\n            names = name;\r\n        }\r\n        for (i = 0; i < names.length; i++) {\r\n            newProps[names[i]] = undefined;\r\n        }\r\n        this.setProps(newProps);\r\n    };\r\n    Model.prototype.setProps = function (newProps) {\r\n        var changedProps = {};\r\n        var changedCnt = 0;\r\n        var name;\r\n        var val;\r\n        for (name in newProps) {\r\n            val = newProps[name];\r\n            // a change in value?\r\n            // if an object, don't check equality, because might have been mutated internally.\r\n            // TODO: eventually enforce immutability.\r\n            if (typeof val === 'object' ||\r\n                val !== this._props[name]) {\r\n                changedProps[name] = val;\r\n                changedCnt++;\r\n            }\r\n        }\r\n        if (changedCnt) {\r\n            this.trigger('before:batchChange', changedProps);\r\n            for (name in changedProps) {\r\n                val = changedProps[name];\r\n                this.trigger('before:change', name, val);\r\n                this.trigger('before:change:' + name, val);\r\n            }\r\n            for (name in changedProps) {\r\n                val = changedProps[name];\r\n                if (val === undefined) {\r\n                    delete this._props[name];\r\n                }\r\n                else {\r\n                    this._props[name] = val;\r\n                }\r\n                this.trigger('change:' + name, val);\r\n                this.trigger('change', name, val);\r\n            }\r\n            this.trigger('batchChange', changedProps);\r\n        }\r\n    };\r\n    Model.prototype.watch = function (name, depList, startFunc, stopFunc) {\r\n        var _this = this;\r\n        this.unwatch(name);\r\n        this._watchers[name] = this._watchDeps(depList, function (deps) {\r\n            var res = startFunc.call(_this, deps);\r\n            if (res && res.then) {\r\n                _this.unset(name); // put in an unset state while resolving\r\n                res.then(function (val) {\r\n                    _this.set(name, val);\r\n                });\r\n            }\r\n            else {\r\n                _this.set(name, res);\r\n            }\r\n        }, function (deps) {\r\n            _this.unset(name);\r\n            if (stopFunc) {\r\n                stopFunc.call(_this, deps);\r\n            }\r\n        });\r\n    };\r\n    Model.prototype.unwatch = function (name) {\r\n        var watcher = this._watchers[name];\r\n        if (watcher) {\r\n            delete this._watchers[name];\r\n            watcher.teardown();\r\n        }\r\n    };\r\n    Model.prototype._watchDeps = function (depList, startFunc, stopFunc) {\r\n        var _this = this;\r\n        var queuedChangeCnt = 0;\r\n        var depCnt = depList.length;\r\n        var satisfyCnt = 0;\r\n        var values = {}; // what's passed as the `deps` arguments\r\n        var bindTuples = []; // array of [ eventName, handlerFunc ] arrays\r\n        var isCallingStop = false;\r\n        var onBeforeDepChange = function (depName, val, isOptional) {\r\n            queuedChangeCnt++;\r\n            if (queuedChangeCnt === 1) { // first change to cause a \"stop\" ?\r\n                if (satisfyCnt === depCnt) { // all deps previously satisfied?\r\n                    isCallingStop = true;\r\n                    stopFunc(values);\r\n                    isCallingStop = false;\r\n                }\r\n            }\r\n        };\r\n        var onDepChange = function (depName, val, isOptional) {\r\n            if (val === undefined) { // unsetting a value?\r\n                // required dependency that was previously set?\r\n                if (!isOptional && values[depName] !== undefined) {\r\n                    satisfyCnt--;\r\n                }\r\n                delete values[depName];\r\n            }\r\n            else { // setting a value?\r\n                // required dependency that was previously unset?\r\n                if (!isOptional && values[depName] === undefined) {\r\n                    satisfyCnt++;\r\n                }\r\n                values[depName] = val;\r\n            }\r\n            queuedChangeCnt--;\r\n            if (!queuedChangeCnt) { // last change to cause a \"start\"?\r\n                // now finally satisfied or satisfied all along?\r\n                if (satisfyCnt === depCnt) {\r\n                    // if the stopFunc initiated another value change, ignore it.\r\n                    // it will be processed by another change event anyway.\r\n                    if (!isCallingStop) {\r\n                        startFunc(values);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        // intercept for .on() that remembers handlers\r\n        var bind = function (eventName, handler) {\r\n            _this.on(eventName, handler);\r\n            bindTuples.push([eventName, handler]);\r\n        };\r\n        // listen to dependency changes\r\n        depList.forEach(function (depName) {\r\n            var isOptional = false;\r\n            if (depName.charAt(0) === '?') { // TODO: more DRY\r\n                depName = depName.substring(1);\r\n                isOptional = true;\r\n            }\r\n            bind('before:change:' + depName, function (val) {\r\n                onBeforeDepChange(depName, val, isOptional);\r\n            });\r\n            bind('change:' + depName, function (val) {\r\n                onDepChange(depName, val, isOptional);\r\n            });\r\n        });\r\n        // process current dependency values\r\n        depList.forEach(function (depName) {\r\n            var isOptional = false;\r\n            if (depName.charAt(0) === '?') { // TODO: more DRY\r\n                depName = depName.substring(1);\r\n                isOptional = true;\r\n            }\r\n            if (_this.has(depName)) {\r\n                values[depName] = _this.get(depName);\r\n                satisfyCnt++;\r\n            }\r\n            else if (isOptional) {\r\n                satisfyCnt++;\r\n            }\r\n        });\r\n        // initially satisfied\r\n        if (satisfyCnt === depCnt) {\r\n            startFunc(values);\r\n        }\r\n        return {\r\n            teardown: function () {\r\n                // remove all handlers\r\n                for (var i = 0; i < bindTuples.length; i++) {\r\n                    _this.off(bindTuples[i][0], bindTuples[i][1]);\r\n                }\r\n                bindTuples = null;\r\n                // was satisfied, so call stopFunc\r\n                if (satisfyCnt === depCnt) {\r\n                    stopFunc();\r\n                }\r\n            },\r\n            flash: function () {\r\n                if (satisfyCnt === depCnt) {\r\n                    stopFunc();\r\n                    startFunc(values);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    Model.prototype.flash = function (name) {\r\n        var watcher = this._watchers[name];\r\n        if (watcher) {\r\n            watcher.flash();\r\n        }\r\n    };\r\n    return Model;\r\n}(Class_1.default));\r\nexports.default = Model;\r\nModel.prototype._globalWatchArgs = {}; // mutation protection in Model.watch\r\nEmitterMixin_1.default.mixInto(Model);\r\nListenerMixin_1.default.mixInto(Model);\r\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\r\nUSAGE:\r\n  import { default as ParsableModelMixin, ParsableModelInterface } from './ParsableModelMixin'\r\nin class:\r\n  applyProps: ParsableModelInterface['applyProps']\r\n  applyManualStandardProps: ParsableModelInterface['applyManualStandardProps']\r\n  applyMiscProps: ParsableModelInterface['applyMiscProps']\r\n  isStandardProp: ParsableModelInterface['isStandardProp']\r\n  static defineStandardProps = ParsableModelMixin.defineStandardProps\r\n  static copyVerbatimStandardProps = ParsableModelMixin.copyVerbatimStandardProps\r\nafter class:\r\n  ParsableModelMixin.mixInto(TheClass)\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar Mixin_1 = __webpack_require__(15);\r\nvar ParsableModelMixin = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ParsableModelMixin, _super);\r\n    function ParsableModelMixin() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ParsableModelMixin.defineStandardProps = function (propDefs) {\r\n        var proto = this.prototype;\r\n        if (!proto.hasOwnProperty('standardPropMap')) {\r\n            proto.standardPropMap = Object.create(proto.standardPropMap);\r\n        }\r\n        util_1.copyOwnProps(propDefs, proto.standardPropMap);\r\n    };\r\n    ParsableModelMixin.copyVerbatimStandardProps = function (src, dest) {\r\n        var map = this.prototype.standardPropMap;\r\n        var propName;\r\n        for (propName in map) {\r\n            if (src[propName] != null && // in the src object?\r\n                map[propName] === true // false means \"copy verbatim\"\r\n            ) {\r\n                dest[propName] = src[propName];\r\n            }\r\n        }\r\n    };\r\n    /*\r\n    Returns true/false for success.\r\n    Meant to be only called ONCE, at object creation.\r\n    */\r\n    ParsableModelMixin.prototype.applyProps = function (rawProps) {\r\n        var standardPropMap = this.standardPropMap;\r\n        var manualProps = {};\r\n        var miscProps = {};\r\n        var propName;\r\n        for (propName in rawProps) {\r\n            if (standardPropMap[propName] === true) { // copy verbatim\r\n                this[propName] = rawProps[propName];\r\n            }\r\n            else if (standardPropMap[propName] === false) {\r\n                manualProps[propName] = rawProps[propName];\r\n            }\r\n            else {\r\n                miscProps[propName] = rawProps[propName];\r\n            }\r\n        }\r\n        this.applyMiscProps(miscProps);\r\n        return this.applyManualStandardProps(manualProps);\r\n    };\r\n    /*\r\n    If subclasses override, they must call this supermethod and return the boolean response.\r\n    Meant to be only called ONCE, at object creation.\r\n    */\r\n    ParsableModelMixin.prototype.applyManualStandardProps = function (rawProps) {\r\n        return true;\r\n    };\r\n    /*\r\n    Can be called even after initial object creation.\r\n    */\r\n    ParsableModelMixin.prototype.applyMiscProps = function (rawProps) {\r\n        // subclasses can implement\r\n    };\r\n    /*\r\n    TODO: why is this a method when defineStandardProps is static\r\n    */\r\n    ParsableModelMixin.prototype.isStandardProp = function (propName) {\r\n        return propName in this.standardPropMap;\r\n    };\r\n    return ParsableModelMixin;\r\n}(Mixin_1.default));\r\nexports.default = ParsableModelMixin;\r\nParsableModelMixin.prototype.standardPropMap = {}; // will be cloned by defineStandardProps\r\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventInstance = /** @class */ (function () {\r\n    function EventInstance(def, dateProfile) {\r\n        this.def = def;\r\n        this.dateProfile = dateProfile;\r\n    }\r\n    EventInstance.prototype.toLegacy = function () {\r\n        var dateProfile = this.dateProfile;\r\n        var obj = this.def.toLegacy();\r\n        obj.start = dateProfile.start.clone();\r\n        obj.end = dateProfile.end ? dateProfile.end.clone() : null;\r\n        return obj;\r\n    };\r\n    return EventInstance;\r\n}());\r\nexports.default = EventInstance;\r\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar EventDef_1 = __webpack_require__(37);\r\nvar EventInstance_1 = __webpack_require__(53);\r\nvar EventDateProfile_1 = __webpack_require__(16);\r\nvar RecurringEventDef = /** @class */ (function (_super) {\r\n    tslib_1.__extends(RecurringEventDef, _super);\r\n    function RecurringEventDef() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RecurringEventDef.prototype.isAllDay = function () {\r\n        return !this.startTime && !this.endTime;\r\n    };\r\n    RecurringEventDef.prototype.buildInstances = function (unzonedRange) {\r\n        var calendar = this.source.calendar;\r\n        var unzonedDate = unzonedRange.getStart();\r\n        var unzonedEnd = unzonedRange.getEnd();\r\n        var zonedDayStart;\r\n        var instanceStart;\r\n        var instanceEnd;\r\n        var instances = [];\r\n        while (unzonedDate.isBefore(unzonedEnd)) {\r\n            // if everyday, or this particular day-of-week\r\n            if (!this.dowHash || this.dowHash[unzonedDate.day()]) {\r\n                zonedDayStart = calendar.applyTimezone(unzonedDate);\r\n                instanceStart = zonedDayStart.clone();\r\n                instanceEnd = null;\r\n                if (this.startTime) {\r\n                    instanceStart.time(this.startTime);\r\n                }\r\n                else {\r\n                    instanceStart.stripTime();\r\n                }\r\n                if (this.endTime) {\r\n                    instanceEnd = zonedDayStart.clone().time(this.endTime);\r\n                }\r\n                instances.push(new EventInstance_1.default(this, // definition\r\n                new EventDateProfile_1.default(instanceStart, instanceEnd, calendar)));\r\n            }\r\n            unzonedDate.add(1, 'days');\r\n        }\r\n        return instances;\r\n    };\r\n    RecurringEventDef.prototype.setDow = function (dowNumbers) {\r\n        if (!this.dowHash) {\r\n            this.dowHash = {};\r\n        }\r\n        for (var i = 0; i < dowNumbers.length; i++) {\r\n            this.dowHash[dowNumbers[i]] = true;\r\n        }\r\n    };\r\n    RecurringEventDef.prototype.clone = function () {\r\n        var def = _super.prototype.clone.call(this);\r\n        if (def.startTime) {\r\n            def.startTime = moment.duration(this.startTime);\r\n        }\r\n        if (def.endTime) {\r\n            def.endTime = moment.duration(this.endTime);\r\n        }\r\n        if (this.dowHash) {\r\n            def.dowHash = $.extend({}, this.dowHash);\r\n        }\r\n        return def;\r\n    };\r\n    return RecurringEventDef;\r\n}(EventDef_1.default));\r\nexports.default = RecurringEventDef;\r\n/*\r\nHACK to work with TypeScript mixins\r\nNOTE: if super-method fails, should still attempt to apply\r\n*/\r\nRecurringEventDef.prototype.applyProps = function (rawProps) {\r\n    var superSuccess = EventDef_1.default.prototype.applyProps.call(this, rawProps);\r\n    if (rawProps.start) {\r\n        this.startTime = moment.duration(rawProps.start);\r\n    }\r\n    if (rawProps.end) {\r\n        this.endTime = moment.duration(rawProps.end);\r\n    }\r\n    if (rawProps.dow) {\r\n        this.setDow(rawProps.dow);\r\n    }\r\n    return superSuccess;\r\n};\r\n// Parsing\r\n// ---------------------------------------------------------------------------------------------------------------------\r\nRecurringEventDef.defineStandardProps({\r\n    start: false,\r\n    end: false,\r\n    dow: false\r\n});\r\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar DateProfileGenerator = /** @class */ (function () {\r\n    function DateProfileGenerator(_view) {\r\n        this._view = _view;\r\n    }\r\n    DateProfileGenerator.prototype.opt = function (name) {\r\n        return this._view.opt(name);\r\n    };\r\n    DateProfileGenerator.prototype.trimHiddenDays = function (unzonedRange) {\r\n        return this._view.trimHiddenDays(unzonedRange);\r\n    };\r\n    DateProfileGenerator.prototype.msToUtcMoment = function (ms, forceAllDay) {\r\n        return this._view.calendar.msToUtcMoment(ms, forceAllDay);\r\n    };\r\n    /* Date Range Computation\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\r\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile) {\r\n        var prevDate = currentDateProfile.date.clone()\r\n            .startOf(currentDateProfile.currentRangeUnit)\r\n            .subtract(currentDateProfile.dateIncrement);\r\n        return this.build(prevDate, -1);\r\n    };\r\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\r\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile) {\r\n        var nextDate = currentDateProfile.date.clone()\r\n            .startOf(currentDateProfile.currentRangeUnit)\r\n            .add(currentDateProfile.dateIncrement);\r\n        return this.build(nextDate, 1);\r\n    };\r\n    // Builds a structure holding dates/ranges for rendering around the given date.\r\n    // Optional direction param indicates whether the date is being incremented/decremented\r\n    // from its previous value. decremented = -1, incremented = 1 (default).\r\n    DateProfileGenerator.prototype.build = function (date, direction, forceToValid) {\r\n        if (forceToValid === void 0) { forceToValid = false; }\r\n        var isDateAllDay = !date.hasTime();\r\n        var validUnzonedRange;\r\n        var minTime = null;\r\n        var maxTime = null;\r\n        var currentInfo;\r\n        var isRangeAllDay;\r\n        var renderUnzonedRange;\r\n        var activeUnzonedRange;\r\n        var isValid;\r\n        validUnzonedRange = this.buildValidRange();\r\n        validUnzonedRange = this.trimHiddenDays(validUnzonedRange);\r\n        if (forceToValid) {\r\n            date = this.msToUtcMoment(validUnzonedRange.constrainDate(date), // returns MS\r\n            isDateAllDay);\r\n        }\r\n        currentInfo = this.buildCurrentRangeInfo(date, direction);\r\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\r\n        renderUnzonedRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.unzonedRange), currentInfo.unit, isRangeAllDay);\r\n        renderUnzonedRange = this.trimHiddenDays(renderUnzonedRange);\r\n        activeUnzonedRange = renderUnzonedRange.clone();\r\n        if (!this.opt('showNonCurrentDates')) {\r\n            activeUnzonedRange = activeUnzonedRange.intersect(currentInfo.unzonedRange);\r\n        }\r\n        minTime = moment.duration(this.opt('minTime'));\r\n        maxTime = moment.duration(this.opt('maxTime'));\r\n        activeUnzonedRange = this.adjustActiveRange(activeUnzonedRange, minTime, maxTime);\r\n        activeUnzonedRange = activeUnzonedRange.intersect(validUnzonedRange); // might return null\r\n        if (activeUnzonedRange) {\r\n            date = this.msToUtcMoment(activeUnzonedRange.constrainDate(date), // returns MS\r\n            isDateAllDay);\r\n        }\r\n        // it's invalid if the originally requested date is not contained,\r\n        // or if the range is completely outside of the valid range.\r\n        isValid = currentInfo.unzonedRange.intersectsWith(validUnzonedRange);\r\n        return {\r\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\r\n            // an object with optional start and end properties.\r\n            validUnzonedRange: validUnzonedRange,\r\n            // range the view is formally responsible for.\r\n            // for example, a month view might have 1st-31st, excluding padded dates\r\n            currentUnzonedRange: currentInfo.unzonedRange,\r\n            // name of largest unit being displayed, like \"month\" or \"week\"\r\n            currentRangeUnit: currentInfo.unit,\r\n            isRangeAllDay: isRangeAllDay,\r\n            // dates that display events and accept drag-n-drop\r\n            // will be `null` if no dates accept events\r\n            activeUnzonedRange: activeUnzonedRange,\r\n            // date range with a rendered skeleton\r\n            // includes not-active days that need some sort of DOM\r\n            renderUnzonedRange: renderUnzonedRange,\r\n            // Duration object that denotes the first visible time of any given day\r\n            minTime: minTime,\r\n            // Duration object that denotes the exclusive visible end time of any given day\r\n            maxTime: maxTime,\r\n            isValid: isValid,\r\n            date: date,\r\n            // how far the current date will move for a prev/next operation\r\n            dateIncrement: this.buildDateIncrement(currentInfo.duration)\r\n            // pass a fallback (might be null) ^\r\n        };\r\n    };\r\n    // Builds an object with optional start/end properties.\r\n    // Indicates the minimum/maximum dates to display.\r\n    // not responsible for trimming hidden days.\r\n    DateProfileGenerator.prototype.buildValidRange = function () {\r\n        return this._view.getUnzonedRangeOption('validRange', this._view.calendar.getNow()) ||\r\n            new UnzonedRange_1.default(); // completely open-ended\r\n    };\r\n    // Builds a structure with info about the \"current\" range, the range that is\r\n    // highlighted as being the current month for example.\r\n    // See build() for a description of `direction`.\r\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\r\n    // TODO: accept a MS-time instead of a moment `date`?\r\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\r\n        var viewSpec = this._view.viewSpec;\r\n        var duration = null;\r\n        var unit = null;\r\n        var unzonedRange = null;\r\n        var dayCount;\r\n        if (viewSpec.duration) {\r\n            duration = viewSpec.duration;\r\n            unit = viewSpec.durationUnit;\r\n            unzonedRange = this.buildRangeFromDuration(date, direction, duration, unit);\r\n        }\r\n        else if ((dayCount = this.opt('dayCount'))) {\r\n            unit = 'day';\r\n            unzonedRange = this.buildRangeFromDayCount(date, direction, dayCount);\r\n        }\r\n        else if ((unzonedRange = this.buildCustomVisibleRange(date))) {\r\n            unit = util_1.computeGreatestUnit(unzonedRange.getStart(), unzonedRange.getEnd());\r\n        }\r\n        else {\r\n            duration = this.getFallbackDuration();\r\n            unit = util_1.computeGreatestUnit(duration);\r\n            unzonedRange = this.buildRangeFromDuration(date, direction, duration, unit);\r\n        }\r\n        return { duration: duration, unit: unit, unzonedRange: unzonedRange };\r\n    };\r\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\r\n        return moment.duration({ days: 1 });\r\n    };\r\n    // Returns a new activeUnzonedRange to have time values (un-ambiguate)\r\n    // minTime or maxTime causes the range to expand.\r\n    DateProfileGenerator.prototype.adjustActiveRange = function (unzonedRange, minTime, maxTime) {\r\n        var start = unzonedRange.getStart();\r\n        var end = unzonedRange.getEnd();\r\n        if (this._view.usesMinMaxTime) {\r\n            if (minTime < 0) {\r\n                start.time(0).add(minTime);\r\n            }\r\n            if (maxTime > 24 * 60 * 60 * 1000) { // beyond 24 hours?\r\n                end.time(maxTime - (24 * 60 * 60 * 1000));\r\n            }\r\n        }\r\n        return new UnzonedRange_1.default(start, end);\r\n    };\r\n    // Builds the \"current\" range when it is specified as an explicit duration.\r\n    // `unit` is the already-computed computeGreatestUnit value of duration.\r\n    // TODO: accept a MS-time instead of a moment `date`?\r\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\r\n        var alignment = this.opt('dateAlignment');\r\n        var dateIncrementInput;\r\n        var dateIncrementDuration;\r\n        var start;\r\n        var end;\r\n        var res;\r\n        // compute what the alignment should be\r\n        if (!alignment) {\r\n            dateIncrementInput = this.opt('dateIncrement');\r\n            if (dateIncrementInput) {\r\n                dateIncrementDuration = moment.duration(dateIncrementInput);\r\n                // use the smaller of the two units\r\n                if (dateIncrementDuration < duration) {\r\n                    alignment = util_1.computeDurationGreatestUnit(dateIncrementDuration, dateIncrementInput);\r\n                }\r\n                else {\r\n                    alignment = unit;\r\n                }\r\n            }\r\n            else {\r\n                alignment = unit;\r\n            }\r\n        }\r\n        // if the view displays a single day or smaller\r\n        if (duration.as('days') <= 1) {\r\n            if (this._view.isHiddenDay(start)) {\r\n                start = this._view.skipHiddenDays(start, direction);\r\n                start.startOf('day');\r\n            }\r\n        }\r\n        function computeRes() {\r\n            start = date.clone().startOf(alignment);\r\n            end = start.clone().add(duration);\r\n            res = new UnzonedRange_1.default(start, end);\r\n        }\r\n        computeRes();\r\n        // if range is completely enveloped by hidden days, go past the hidden days\r\n        if (!this.trimHiddenDays(res)) {\r\n            date = this._view.skipHiddenDays(date, direction);\r\n            computeRes();\r\n        }\r\n        return res;\r\n    };\r\n    // Builds the \"current\" range when a dayCount is specified.\r\n    // TODO: accept a MS-time instead of a moment `date`?\r\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\r\n        var customAlignment = this.opt('dateAlignment');\r\n        var runningCount = 0;\r\n        var start;\r\n        var end;\r\n        if (customAlignment || direction !== -1) {\r\n            start = date.clone();\r\n            if (customAlignment) {\r\n                start.startOf(customAlignment);\r\n            }\r\n            start.startOf('day');\r\n            start = this._view.skipHiddenDays(start);\r\n            end = start.clone();\r\n            do {\r\n                end.add(1, 'day');\r\n                if (!this._view.isHiddenDay(end)) {\r\n                    runningCount++;\r\n                }\r\n            } while (runningCount < dayCount);\r\n        }\r\n        else {\r\n            end = date.clone().startOf('day').add(1, 'day');\r\n            end = this._view.skipHiddenDays(end, -1, true);\r\n            start = end.clone();\r\n            do {\r\n                start.add(-1, 'day');\r\n                if (!this._view.isHiddenDay(start)) {\r\n                    runningCount++;\r\n                }\r\n            } while (runningCount < dayCount);\r\n        }\r\n        return new UnzonedRange_1.default(start, end);\r\n    };\r\n    // Builds a normalized range object for the \"visible\" range,\r\n    // which is a way to define the currentUnzonedRange and activeUnzonedRange at the same time.\r\n    // TODO: accept a MS-time instead of a moment `date`?\r\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\r\n        var visibleUnzonedRange = this._view.getUnzonedRangeOption('visibleRange', this._view.calendar.applyTimezone(date) // correct zone. also generates new obj that avoids mutations\r\n        );\r\n        if (visibleUnzonedRange && (visibleUnzonedRange.startMs == null || visibleUnzonedRange.endMs == null)) {\r\n            return null;\r\n        }\r\n        return visibleUnzonedRange;\r\n    };\r\n    // Computes the range that will represent the element/cells for *rendering*,\r\n    // but which may have voided days/times.\r\n    // not responsible for trimming hidden days.\r\n    DateProfileGenerator.prototype.buildRenderRange = function (currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\r\n        return currentUnzonedRange.clone();\r\n    };\r\n    // Compute the duration value that should be added/substracted to the current date\r\n    // when a prev/next operation happens.\r\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\r\n        var dateIncrementInput = this.opt('dateIncrement');\r\n        var customAlignment;\r\n        if (dateIncrementInput) {\r\n            return moment.duration(dateIncrementInput);\r\n        }\r\n        else if ((customAlignment = this.opt('dateAlignment'))) {\r\n            return moment.duration(1, customAlignment);\r\n        }\r\n        else if (fallback) {\r\n            return fallback;\r\n        }\r\n        else {\r\n            return moment.duration({ days: 1 });\r\n        }\r\n    };\r\n    return DateProfileGenerator;\r\n}());\r\nexports.default = DateProfileGenerator;\r\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar Promise_1 = __webpack_require__(21);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar ArrayEventSource = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ArrayEventSource, _super);\r\n    function ArrayEventSource(calendar) {\r\n        var _this = _super.call(this, calendar) || this;\r\n        _this.eventDefs = []; // for if setRawEventDefs is never called\r\n        return _this;\r\n    }\r\n    ArrayEventSource.parse = function (rawInput, calendar) {\r\n        var rawProps;\r\n        // normalize raw input\r\n        if ($.isArray(rawInput.events)) { // extended form\r\n            rawProps = rawInput;\r\n        }\r\n        else if ($.isArray(rawInput)) { // short form\r\n            rawProps = { events: rawInput };\r\n        }\r\n        if (rawProps) {\r\n            return EventSource_1.default.parse.call(this, rawProps, calendar);\r\n        }\r\n        return false;\r\n    };\r\n    ArrayEventSource.prototype.setRawEventDefs = function (rawEventDefs) {\r\n        this.rawEventDefs = rawEventDefs;\r\n        this.eventDefs = this.parseEventDefs(rawEventDefs);\r\n    };\r\n    ArrayEventSource.prototype.fetch = function (start, end, timezone) {\r\n        var eventDefs = this.eventDefs;\r\n        var i;\r\n        if (this.currentTimezone != null &&\r\n            this.currentTimezone !== timezone) {\r\n            for (i = 0; i < eventDefs.length; i++) {\r\n                if (eventDefs[i] instanceof SingleEventDef_1.default) {\r\n                    eventDefs[i].rezone();\r\n                }\r\n            }\r\n        }\r\n        this.currentTimezone = timezone;\r\n        return Promise_1.default.resolve(eventDefs);\r\n    };\r\n    ArrayEventSource.prototype.addEventDef = function (eventDef) {\r\n        this.eventDefs.push(eventDef);\r\n    };\r\n    /*\r\n    eventDefId already normalized to a string\r\n    */\r\n    ArrayEventSource.prototype.removeEventDefsById = function (eventDefId) {\r\n        return util_1.removeMatching(this.eventDefs, function (eventDef) {\r\n            return eventDef.id === eventDefId;\r\n        });\r\n    };\r\n    ArrayEventSource.prototype.removeAllEventDefs = function () {\r\n        this.eventDefs = [];\r\n    };\r\n    ArrayEventSource.prototype.getPrimitive = function () {\r\n        return this.rawEventDefs;\r\n    };\r\n    ArrayEventSource.prototype.applyManualStandardProps = function (rawProps) {\r\n        var superSuccess = _super.prototype.applyManualStandardProps.call(this, rawProps);\r\n        this.setRawEventDefs(rawProps.events);\r\n        return superSuccess;\r\n    };\r\n    return ArrayEventSource;\r\n}(EventSource_1.default));\r\nexports.default = ArrayEventSource;\r\nArrayEventSource.defineStandardProps({\r\n    events: false // don't automatically transfer\r\n});\r\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StandardTheme_1 = __webpack_require__(221);\r\nvar JqueryUiTheme_1 = __webpack_require__(222);\r\nvar themeClassHash = {};\r\nfunction defineThemeSystem(themeName, themeClass) {\r\n    themeClassHash[themeName] = themeClass;\r\n}\r\nexports.defineThemeSystem = defineThemeSystem;\r\nfunction getThemeSystemClass(themeSetting) {\r\n    if (!themeSetting) {\r\n        return StandardTheme_1.default;\r\n    }\r\n    else if (themeSetting === true) {\r\n        return JqueryUiTheme_1.default;\r\n    }\r\n    else {\r\n        return themeClassHash[themeSetting];\r\n    }\r\n}\r\nexports.getThemeSystemClass = getThemeSystemClass;\r\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\n/*\r\nA cache for the left/right/top/bottom/width/height values for one or more elements.\r\nWorks with both offset (from topleft document) and position (from offsetParent).\r\n\noptions:\r\n- els\r\n- isHorizontal\r\n- isVertical\r\n*/\r\nvar CoordCache = /** @class */ (function () {\r\n    function CoordCache(options) {\r\n        this.isHorizontal = false; // whether to query for left/right/width\r\n        this.isVertical = false; // whether to query for top/bottom/height\r\n        this.els = $(options.els);\r\n        this.isHorizontal = options.isHorizontal;\r\n        this.isVertical = options.isVertical;\r\n        this.forcedOffsetParentEl = options.offsetParent ? $(options.offsetParent) : null;\r\n    }\r\n    // Queries the els for coordinates and stores them.\r\n    // Call this method before using and of the get* methods below.\r\n    CoordCache.prototype.build = function () {\r\n        var offsetParentEl = this.forcedOffsetParentEl;\r\n        if (!offsetParentEl && this.els.length > 0) {\r\n            offsetParentEl = this.els.eq(0).offsetParent();\r\n        }\r\n        this.origin = offsetParentEl ?\r\n            offsetParentEl.offset() :\r\n            null;\r\n        this.boundingRect = this.queryBoundingRect();\r\n        if (this.isHorizontal) {\r\n            this.buildElHorizontals();\r\n        }\r\n        if (this.isVertical) {\r\n            this.buildElVerticals();\r\n        }\r\n    };\r\n    // Destroys all internal data about coordinates, freeing memory\r\n    CoordCache.prototype.clear = function () {\r\n        this.origin = null;\r\n        this.boundingRect = null;\r\n        this.lefts = null;\r\n        this.rights = null;\r\n        this.tops = null;\r\n        this.bottoms = null;\r\n    };\r\n    // When called, if coord caches aren't built, builds them\r\n    CoordCache.prototype.ensureBuilt = function () {\r\n        if (!this.origin) {\r\n            this.build();\r\n        }\r\n    };\r\n    // Populates the left/right internal coordinate arrays\r\n    CoordCache.prototype.buildElHorizontals = function () {\r\n        var lefts = [];\r\n        var rights = [];\r\n        this.els.each(function (i, node) {\r\n            var el = $(node);\r\n            var left = el.offset().left;\r\n            var width = el.outerWidth();\r\n            lefts.push(left);\r\n            rights.push(left + width);\r\n        });\r\n        this.lefts = lefts;\r\n        this.rights = rights;\r\n    };\r\n    // Populates the top/bottom internal coordinate arrays\r\n    CoordCache.prototype.buildElVerticals = function () {\r\n        var tops = [];\r\n        var bottoms = [];\r\n        this.els.each(function (i, node) {\r\n            var el = $(node);\r\n            var top = el.offset().top;\r\n            var height = el.outerHeight();\r\n            tops.push(top);\r\n            bottoms.push(top + height);\r\n        });\r\n        this.tops = tops;\r\n        this.bottoms = bottoms;\r\n    };\r\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\r\n    // If no intersection is made, returns undefined.\r\n    CoordCache.prototype.getHorizontalIndex = function (leftOffset) {\r\n        this.ensureBuilt();\r\n        var lefts = this.lefts;\r\n        var rights = this.rights;\r\n        var len = lefts.length;\r\n        var i;\r\n        for (i = 0; i < len; i++) {\r\n            if (leftOffset >= lefts[i] && leftOffset < rights[i]) {\r\n                return i;\r\n            }\r\n        }\r\n    };\r\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\r\n    // If no intersection is made, returns undefined.\r\n    CoordCache.prototype.getVerticalIndex = function (topOffset) {\r\n        this.ensureBuilt();\r\n        var tops = this.tops;\r\n        var bottoms = this.bottoms;\r\n        var len = tops.length;\r\n        var i;\r\n        for (i = 0; i < len; i++) {\r\n            if (topOffset >= tops[i] && topOffset < bottoms[i]) {\r\n                return i;\r\n            }\r\n        }\r\n    };\r\n    // Gets the left offset (from document left) of the element at the given index\r\n    CoordCache.prototype.getLeftOffset = function (leftIndex) {\r\n        this.ensureBuilt();\r\n        return this.lefts[leftIndex];\r\n    };\r\n    // Gets the left position (from offsetParent left) of the element at the given index\r\n    CoordCache.prototype.getLeftPosition = function (leftIndex) {\r\n        this.ensureBuilt();\r\n        return this.lefts[leftIndex] - this.origin.left;\r\n    };\r\n    // Gets the right offset (from document left) of the element at the given index.\r\n    // This value is NOT relative to the document's right edge, like the CSS concept of \"right\" would be.\r\n    CoordCache.prototype.getRightOffset = function (leftIndex) {\r\n        this.ensureBuilt();\r\n        return this.rights[leftIndex];\r\n    };\r\n    // Gets the right position (from offsetParent left) of the element at the given index.\r\n    // This value is NOT relative to the offsetParent's right edge, like the CSS concept of \"right\" would be.\r\n    CoordCache.prototype.getRightPosition = function (leftIndex) {\r\n        this.ensureBuilt();\r\n        return this.rights[leftIndex] - this.origin.left;\r\n    };\r\n    // Gets the width of the element at the given index\r\n    CoordCache.prototype.getWidth = function (leftIndex) {\r\n        this.ensureBuilt();\r\n        return this.rights[leftIndex] - this.lefts[leftIndex];\r\n    };\r\n    // Gets the top offset (from document top) of the element at the given index\r\n    CoordCache.prototype.getTopOffset = function (topIndex) {\r\n        this.ensureBuilt();\r\n        return this.tops[topIndex];\r\n    };\r\n    // Gets the top position (from offsetParent top) of the element at the given position\r\n    CoordCache.prototype.getTopPosition = function (topIndex) {\r\n        this.ensureBuilt();\r\n        return this.tops[topIndex] - this.origin.top;\r\n    };\r\n    // Gets the bottom offset (from the document top) of the element at the given index.\r\n    // This value is NOT relative to the offsetParent's bottom edge, like the CSS concept of \"bottom\" would be.\r\n    CoordCache.prototype.getBottomOffset = function (topIndex) {\r\n        this.ensureBuilt();\r\n        return this.bottoms[topIndex];\r\n    };\r\n    // Gets the bottom position (from the offsetParent top) of the element at the given index.\r\n    // This value is NOT relative to the offsetParent's bottom edge, like the CSS concept of \"bottom\" would be.\r\n    CoordCache.prototype.getBottomPosition = function (topIndex) {\r\n        this.ensureBuilt();\r\n        return this.bottoms[topIndex] - this.origin.top;\r\n    };\r\n    // Gets the height of the element at the given index\r\n    CoordCache.prototype.getHeight = function (topIndex) {\r\n        this.ensureBuilt();\r\n        return this.bottoms[topIndex] - this.tops[topIndex];\r\n    };\r\n    // Bounding Rect\r\n    // TODO: decouple this from CoordCache\r\n    // Compute and return what the elements' bounding rectangle is, from the user's perspective.\r\n    // Right now, only returns a rectangle if constrained by an overflow:scroll element.\r\n    // Returns null if there are no elements\r\n    CoordCache.prototype.queryBoundingRect = function () {\r\n        var scrollParentEl;\r\n        if (this.els.length > 0) {\r\n            scrollParentEl = util_1.getScrollParent(this.els.eq(0));\r\n            if (!scrollParentEl.is(document) &&\r\n                !scrollParentEl.is('html,body') // don't consider these bounding rects. solves issue 3615\r\n            ) {\r\n                return util_1.getClientRect(scrollParentEl);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    CoordCache.prototype.isPointInBounds = function (leftOffset, topOffset) {\r\n        return this.isLeftInBounds(leftOffset) && this.isTopInBounds(topOffset);\r\n    };\r\n    CoordCache.prototype.isLeftInBounds = function (leftOffset) {\r\n        return !this.boundingRect || (leftOffset >= this.boundingRect.left && leftOffset < this.boundingRect.right);\r\n    };\r\n    CoordCache.prototype.isTopInBounds = function (topOffset) {\r\n        return !this.boundingRect || (topOffset >= this.boundingRect.top && topOffset < this.boundingRect.bottom);\r\n    };\r\n    return CoordCache;\r\n}());\r\nexports.default = CoordCache;\r\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nvar GlobalEmitter_1 = __webpack_require__(23);\r\n/* Tracks a drag's mouse movement, firing various handlers\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// TODO: use Emitter\r\nvar DragListener = /** @class */ (function () {\r\n    function DragListener(options) {\r\n        this.isInteracting = false;\r\n        this.isDistanceSurpassed = false;\r\n        this.isDelayEnded = false;\r\n        this.isDragging = false;\r\n        this.isTouch = false;\r\n        this.isGeneric = false; // initiated by 'dragstart' (jqui)\r\n        this.shouldCancelTouchScroll = true;\r\n        this.scrollAlwaysKills = false;\r\n        this.isAutoScroll = false;\r\n        // defaults\r\n        this.scrollSensitivity = 30; // pixels from edge for scrolling to start\r\n        this.scrollSpeed = 200; // pixels per second, at maximum speed\r\n        this.scrollIntervalMs = 50; // millisecond wait between scroll increment\r\n        this.options = options || {};\r\n    }\r\n    // Interaction (high-level)\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.startInteraction = function (ev, extraOptions) {\r\n        if (extraOptions === void 0) { extraOptions = {}; }\r\n        if (ev.type === 'mousedown') {\r\n            if (GlobalEmitter_1.default.get().shouldIgnoreMouse()) {\r\n                return;\r\n            }\r\n            else if (!util_1.isPrimaryMouseButton(ev)) {\r\n                return;\r\n            }\r\n            else {\r\n                ev.preventDefault(); // prevents native selection in most browsers\r\n            }\r\n        }\r\n        if (!this.isInteracting) {\r\n            // process options\r\n            this.delay = util_1.firstDefined(extraOptions.delay, this.options.delay, 0);\r\n            this.minDistance = util_1.firstDefined(extraOptions.distance, this.options.distance, 0);\r\n            this.subjectEl = this.options.subjectEl;\r\n            util_1.preventSelection($('body'));\r\n            this.isInteracting = true;\r\n            this.isTouch = util_1.getEvIsTouch(ev);\r\n            this.isGeneric = ev.type === 'dragstart';\r\n            this.isDelayEnded = false;\r\n            this.isDistanceSurpassed = false;\r\n            this.originX = util_1.getEvX(ev);\r\n            this.originY = util_1.getEvY(ev);\r\n            this.scrollEl = util_1.getScrollParent($(ev.target));\r\n            this.bindHandlers();\r\n            this.initAutoScroll();\r\n            this.handleInteractionStart(ev);\r\n            this.startDelay(ev);\r\n            if (!this.minDistance) {\r\n                this.handleDistanceSurpassed(ev);\r\n            }\r\n        }\r\n    };\r\n    DragListener.prototype.handleInteractionStart = function (ev) {\r\n        this.trigger('interactionStart', ev);\r\n    };\r\n    DragListener.prototype.endInteraction = function (ev, isCancelled) {\r\n        if (this.isInteracting) {\r\n            this.endDrag(ev);\r\n            if (this.delayTimeoutId) {\r\n                clearTimeout(this.delayTimeoutId);\r\n                this.delayTimeoutId = null;\r\n            }\r\n            this.destroyAutoScroll();\r\n            this.unbindHandlers();\r\n            this.isInteracting = false;\r\n            this.handleInteractionEnd(ev, isCancelled);\r\n            util_1.allowSelection($('body'));\r\n        }\r\n    };\r\n    DragListener.prototype.handleInteractionEnd = function (ev, isCancelled) {\r\n        this.trigger('interactionEnd', ev, isCancelled || false);\r\n    };\r\n    // Binding To DOM\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.bindHandlers = function () {\r\n        // some browsers (Safari in iOS 10) don't allow preventDefault on touch events that are bound after touchstart,\r\n        // so listen to the GlobalEmitter singleton, which is always bound, instead of the document directly.\r\n        var globalEmitter = GlobalEmitter_1.default.get();\r\n        if (this.isGeneric) {\r\n            this.listenTo($(document), {\r\n                drag: this.handleMove,\r\n                dragstop: this.endInteraction\r\n            });\r\n        }\r\n        else if (this.isTouch) {\r\n            this.listenTo(globalEmitter, {\r\n                touchmove: this.handleTouchMove,\r\n                touchend: this.endInteraction,\r\n                scroll: this.handleTouchScroll\r\n            });\r\n        }\r\n        else {\r\n            this.listenTo(globalEmitter, {\r\n                mousemove: this.handleMouseMove,\r\n                mouseup: this.endInteraction\r\n            });\r\n        }\r\n        this.listenTo(globalEmitter, {\r\n            selectstart: util_1.preventDefault,\r\n            contextmenu: util_1.preventDefault // long taps would open menu on Chrome dev tools\r\n        });\r\n    };\r\n    DragListener.prototype.unbindHandlers = function () {\r\n        this.stopListeningTo(GlobalEmitter_1.default.get());\r\n        this.stopListeningTo($(document)); // for isGeneric\r\n    };\r\n    // Drag (high-level)\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // extraOptions ignored if drag already started\r\n    DragListener.prototype.startDrag = function (ev, extraOptions) {\r\n        this.startInteraction(ev, extraOptions); // ensure interaction began\r\n        if (!this.isDragging) {\r\n            this.isDragging = true;\r\n            this.handleDragStart(ev);\r\n        }\r\n    };\r\n    DragListener.prototype.handleDragStart = function (ev) {\r\n        this.trigger('dragStart', ev);\r\n    };\r\n    DragListener.prototype.handleMove = function (ev) {\r\n        var dx = util_1.getEvX(ev) - this.originX;\r\n        var dy = util_1.getEvY(ev) - this.originY;\r\n        var minDistance = this.minDistance;\r\n        var distanceSq; // current distance from the origin, squared\r\n        if (!this.isDistanceSurpassed) {\r\n            distanceSq = dx * dx + dy * dy;\r\n            if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\r\n                this.handleDistanceSurpassed(ev);\r\n            }\r\n        }\r\n        if (this.isDragging) {\r\n            this.handleDrag(dx, dy, ev);\r\n        }\r\n    };\r\n    // Called while the mouse is being moved and when we know a legitimate drag is taking place\r\n    DragListener.prototype.handleDrag = function (dx, dy, ev) {\r\n        this.trigger('drag', dx, dy, ev);\r\n        this.updateAutoScroll(ev); // will possibly cause scrolling\r\n    };\r\n    DragListener.prototype.endDrag = function (ev) {\r\n        if (this.isDragging) {\r\n            this.isDragging = false;\r\n            this.handleDragEnd(ev);\r\n        }\r\n    };\r\n    DragListener.prototype.handleDragEnd = function (ev) {\r\n        this.trigger('dragEnd', ev);\r\n    };\r\n    // Delay\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.startDelay = function (initialEv) {\r\n        var _this = this;\r\n        if (this.delay) {\r\n            this.delayTimeoutId = setTimeout(function () {\r\n                _this.handleDelayEnd(initialEv);\r\n            }, this.delay);\r\n        }\r\n        else {\r\n            this.handleDelayEnd(initialEv);\r\n        }\r\n    };\r\n    DragListener.prototype.handleDelayEnd = function (initialEv) {\r\n        this.isDelayEnded = true;\r\n        if (this.isDistanceSurpassed) {\r\n            this.startDrag(initialEv);\r\n        }\r\n    };\r\n    // Distance\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.handleDistanceSurpassed = function (ev) {\r\n        this.isDistanceSurpassed = true;\r\n        if (this.isDelayEnded) {\r\n            this.startDrag(ev);\r\n        }\r\n    };\r\n    // Mouse / Touch\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.handleTouchMove = function (ev) {\r\n        // prevent inertia and touchmove-scrolling while dragging\r\n        if (this.isDragging && this.shouldCancelTouchScroll) {\r\n            ev.preventDefault();\r\n        }\r\n        this.handleMove(ev);\r\n    };\r\n    DragListener.prototype.handleMouseMove = function (ev) {\r\n        this.handleMove(ev);\r\n    };\r\n    // Scrolling (unrelated to auto-scroll)\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.handleTouchScroll = function (ev) {\r\n        // if the drag is being initiated by touch, but a scroll happens before\r\n        // the drag-initiating delay is over, cancel the drag\r\n        if (!this.isDragging || this.scrollAlwaysKills) {\r\n            this.endInteraction(ev, true); // isCancelled=true\r\n        }\r\n    };\r\n    // Utils\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // Triggers a callback. Calls a function in the option hash of the same name.\r\n    // Arguments beyond the first `name` are forwarded on.\r\n    DragListener.prototype.trigger = function (name) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.options[name]) {\r\n            this.options[name].apply(this, args);\r\n        }\r\n        // makes _methods callable by event name. TODO: kill this\r\n        if (this['_' + name]) {\r\n            this['_' + name].apply(this, args);\r\n        }\r\n    };\r\n    // Auto-scroll\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DragListener.prototype.initAutoScroll = function () {\r\n        var scrollEl = this.scrollEl;\r\n        this.isAutoScroll =\r\n            this.options.scroll &&\r\n                scrollEl &&\r\n                !scrollEl.is(window) &&\r\n                !scrollEl.is(document);\r\n        if (this.isAutoScroll) {\r\n            // debounce makes sure rapid calls don't happen\r\n            this.listenTo(scrollEl, 'scroll', util_1.debounce(this.handleDebouncedScroll, 100));\r\n        }\r\n    };\r\n    DragListener.prototype.destroyAutoScroll = function () {\r\n        this.endAutoScroll(); // kill any animation loop\r\n        // remove the scroll handler if there is a scrollEl\r\n        if (this.isAutoScroll) {\r\n            this.stopListeningTo(this.scrollEl, 'scroll'); // will probably get removed by unbindHandlers too :(\r\n        }\r\n    };\r\n    // Computes and stores the bounding rectangle of scrollEl\r\n    DragListener.prototype.computeScrollBounds = function () {\r\n        if (this.isAutoScroll) {\r\n            this.scrollBounds = util_1.getOuterRect(this.scrollEl);\r\n            // TODO: use getClientRect in future. but prevents auto scrolling when on top of scrollbars\r\n        }\r\n    };\r\n    // Called when the dragging is in progress and scrolling should be updated\r\n    DragListener.prototype.updateAutoScroll = function (ev) {\r\n        var sensitivity = this.scrollSensitivity;\r\n        var bounds = this.scrollBounds;\r\n        var topCloseness;\r\n        var bottomCloseness;\r\n        var leftCloseness;\r\n        var rightCloseness;\r\n        var topVel = 0;\r\n        var leftVel = 0;\r\n        if (bounds) { // only scroll if scrollEl exists\r\n            // compute closeness to edges. valid range is from 0.0 - 1.0\r\n            topCloseness = (sensitivity - (util_1.getEvY(ev) - bounds.top)) / sensitivity;\r\n            bottomCloseness = (sensitivity - (bounds.bottom - util_1.getEvY(ev))) / sensitivity;\r\n            leftCloseness = (sensitivity - (util_1.getEvX(ev) - bounds.left)) / sensitivity;\r\n            rightCloseness = (sensitivity - (bounds.right - util_1.getEvX(ev))) / sensitivity;\r\n            // translate vertical closeness into velocity.\r\n            // mouse must be completely in bounds for velocity to happen.\r\n            if (topCloseness >= 0 && topCloseness <= 1) {\r\n                topVel = topCloseness * this.scrollSpeed * -1; // negative. for scrolling up\r\n            }\r\n            else if (bottomCloseness >= 0 && bottomCloseness <= 1) {\r\n                topVel = bottomCloseness * this.scrollSpeed;\r\n            }\r\n            // translate horizontal closeness into velocity\r\n            if (leftCloseness >= 0 && leftCloseness <= 1) {\r\n                leftVel = leftCloseness * this.scrollSpeed * -1; // negative. for scrolling left\r\n            }\r\n            else if (rightCloseness >= 0 && rightCloseness <= 1) {\r\n                leftVel = rightCloseness * this.scrollSpeed;\r\n            }\r\n        }\r\n        this.setScrollVel(topVel, leftVel);\r\n    };\r\n    // Sets the speed-of-scrolling for the scrollEl\r\n    DragListener.prototype.setScrollVel = function (topVel, leftVel) {\r\n        this.scrollTopVel = topVel;\r\n        this.scrollLeftVel = leftVel;\r\n        this.constrainScrollVel(); // massages into realistic values\r\n        // if there is non-zero velocity, and an animation loop hasn't already started, then START\r\n        if ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId) {\r\n            this.scrollIntervalId = setInterval(util_1.proxy(this, 'scrollIntervalFunc'), // scope to `this`\r\n            this.scrollIntervalMs);\r\n        }\r\n    };\r\n    // Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way\r\n    DragListener.prototype.constrainScrollVel = function () {\r\n        var el = this.scrollEl;\r\n        if (this.scrollTopVel < 0) { // scrolling up?\r\n            if (el.scrollTop() <= 0) { // already scrolled all the way up?\r\n                this.scrollTopVel = 0;\r\n            }\r\n        }\r\n        else if (this.scrollTopVel > 0) { // scrolling down?\r\n            if (el.scrollTop() + el[0].clientHeight >= el[0].scrollHeight) { // already scrolled all the way down?\r\n                this.scrollTopVel = 0;\r\n            }\r\n        }\r\n        if (this.scrollLeftVel < 0) { // scrolling left?\r\n            if (el.scrollLeft() <= 0) { // already scrolled all the left?\r\n                this.scrollLeftVel = 0;\r\n            }\r\n        }\r\n        else if (this.scrollLeftVel > 0) { // scrolling right?\r\n            if (el.scrollLeft() + el[0].clientWidth >= el[0].scrollWidth) { // already scrolled all the way right?\r\n                this.scrollLeftVel = 0;\r\n            }\r\n        }\r\n    };\r\n    // This function gets called during every iteration of the scrolling animation loop\r\n    DragListener.prototype.scrollIntervalFunc = function () {\r\n        var el = this.scrollEl;\r\n        var frac = this.scrollIntervalMs / 1000; // considering animation frequency, what the vel should be mult'd by\r\n        // change the value of scrollEl's scroll\r\n        if (this.scrollTopVel) {\r\n            el.scrollTop(el.scrollTop() + this.scrollTopVel * frac);\r\n        }\r\n        if (this.scrollLeftVel) {\r\n            el.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac);\r\n        }\r\n        this.constrainScrollVel(); // since the scroll values changed, recompute the velocities\r\n        // if scrolled all the way, which causes the vels to be zero, stop the animation loop\r\n        if (!this.scrollTopVel && !this.scrollLeftVel) {\r\n            this.endAutoScroll();\r\n        }\r\n    };\r\n    // Kills any existing scrolling animation loop\r\n    DragListener.prototype.endAutoScroll = function () {\r\n        if (this.scrollIntervalId) {\r\n            clearInterval(this.scrollIntervalId);\r\n            this.scrollIntervalId = null;\r\n            this.handleScrollEnd();\r\n        }\r\n    };\r\n    // Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)\r\n    DragListener.prototype.handleDebouncedScroll = function () {\r\n        // recompute all coordinates, but *only* if this is *not* part of our scrolling animation\r\n        if (!this.scrollIntervalId) {\r\n            this.handleScrollEnd();\r\n        }\r\n    };\r\n    DragListener.prototype.handleScrollEnd = function () {\r\n        // Called when scrolling has stopped, whether through auto scroll, or the user scrolling\r\n    };\r\n    return DragListener;\r\n}());\r\nexports.default = DragListener;\r\nListenerMixin_1.default.mixInto(DragListener);\r\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar Mixin_1 = __webpack_require__(15);\r\n/*\r\nA set of rendering and date-related methods for a visual component comprised of one or more rows of day columns.\r\nPrerequisite: the object being mixed into needs to be a *Grid*\r\n*/\r\nvar DayTableMixin = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DayTableMixin, _super);\r\n    function DayTableMixin() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Populates internal variables used for date calculation and rendering\r\n    DayTableMixin.prototype.updateDayTable = function () {\r\n        var t = this;\r\n        var view = t.view;\r\n        var calendar = view.calendar;\r\n        var date = calendar.msToUtcMoment(t.dateProfile.renderUnzonedRange.startMs, true);\r\n        var end = calendar.msToUtcMoment(t.dateProfile.renderUnzonedRange.endMs, true);\r\n        var dayIndex = -1;\r\n        var dayIndices = [];\r\n        var dayDates = [];\r\n        var daysPerRow;\r\n        var firstDay;\r\n        var rowCnt;\r\n        while (date.isBefore(end)) { // loop each day from start to end\r\n            if (view.isHiddenDay(date)) {\r\n                dayIndices.push(dayIndex + 0.5); // mark that it's between indices\r\n            }\r\n            else {\r\n                dayIndex++;\r\n                dayIndices.push(dayIndex);\r\n                dayDates.push(date.clone());\r\n            }\r\n            date.add(1, 'days');\r\n        }\r\n        if (this.breakOnWeeks) {\r\n            // count columns until the day-of-week repeats\r\n            firstDay = dayDates[0].day();\r\n            for (daysPerRow = 1; daysPerRow < dayDates.length; daysPerRow++) {\r\n                if (dayDates[daysPerRow].day() === firstDay) {\r\n                    break;\r\n                }\r\n            }\r\n            rowCnt = Math.ceil(dayDates.length / daysPerRow);\r\n        }\r\n        else {\r\n            rowCnt = 1;\r\n            daysPerRow = dayDates.length;\r\n        }\r\n        this.dayDates = dayDates;\r\n        this.dayIndices = dayIndices;\r\n        this.daysPerRow = daysPerRow;\r\n        this.rowCnt = rowCnt;\r\n        this.updateDayTableCols();\r\n    };\r\n    // Computes and assigned the colCnt property and updates any options that may be computed from it\r\n    DayTableMixin.prototype.updateDayTableCols = function () {\r\n        this.colCnt = this.computeColCnt();\r\n        this.colHeadFormat =\r\n            this.opt('columnHeaderFormat') ||\r\n                this.opt('columnFormat') || // deprecated\r\n                this.computeColHeadFormat();\r\n    };\r\n    // Determines how many columns there should be in the table\r\n    DayTableMixin.prototype.computeColCnt = function () {\r\n        return this.daysPerRow;\r\n    };\r\n    // Computes the ambiguously-timed moment for the given cell\r\n    DayTableMixin.prototype.getCellDate = function (row, col) {\r\n        return this.dayDates[this.getCellDayIndex(row, col)].clone();\r\n    };\r\n    // Computes the ambiguously-timed date range for the given cell\r\n    DayTableMixin.prototype.getCellRange = function (row, col) {\r\n        var start = this.getCellDate(row, col);\r\n        var end = start.clone().add(1, 'days');\r\n        return { start: start, end: end };\r\n    };\r\n    // Returns the number of day cells, chronologically, from the first of the grid (0-based)\r\n    DayTableMixin.prototype.getCellDayIndex = function (row, col) {\r\n        return row * this.daysPerRow + this.getColDayIndex(col);\r\n    };\r\n    // Returns the numner of day cells, chronologically, from the first cell in *any given row*\r\n    DayTableMixin.prototype.getColDayIndex = function (col) {\r\n        if (this.isRTL) {\r\n            return this.colCnt - 1 - col;\r\n        }\r\n        else {\r\n            return col;\r\n        }\r\n    };\r\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\r\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\r\n    // If before the first offset, returns a negative number.\r\n    // If after the last offset, returns an offset past the last cell offset.\r\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\r\n    DayTableMixin.prototype.getDateDayIndex = function (date) {\r\n        var dayIndices = this.dayIndices;\r\n        var dayOffset = date.diff(this.dayDates[0], 'days');\r\n        if (dayOffset < 0) {\r\n            return dayIndices[0] - 1;\r\n        }\r\n        else if (dayOffset >= dayIndices.length) {\r\n            return dayIndices[dayIndices.length - 1] + 1;\r\n        }\r\n        else {\r\n            return dayIndices[dayOffset];\r\n        }\r\n    };\r\n    /* Options\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Computes a default column header formatting string if `colFormat` is not explicitly defined\r\n    DayTableMixin.prototype.computeColHeadFormat = function () {\r\n        // if more than one week row, or if there are a lot of columns with not much space,\r\n        // put just the day numbers will be in each cell\r\n        if (this.rowCnt > 1 || this.colCnt > 10) {\r\n            return 'ddd'; // \"Sat\"\r\n        }\r\n        else if (this.colCnt > 1) {\r\n            return this.opt('dayOfMonthFormat'); // \"Sat 12/10\"\r\n        }\r\n        else {\r\n            return 'dddd'; // \"Saturday\"\r\n        }\r\n    };\r\n    /* Slicing\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Slices up a date range into a segment for every week-row it intersects with\r\n    DayTableMixin.prototype.sliceRangeByRow = function (unzonedRange) {\r\n        var daysPerRow = this.daysPerRow;\r\n        var normalRange = this.view.computeDayRange(unzonedRange); // make whole-day range, considering nextDayThreshold\r\n        var rangeFirst = this.getDateDayIndex(normalRange.start); // inclusive first index\r\n        var rangeLast = this.getDateDayIndex(normalRange.end.clone().subtract(1, 'days')); // inclusive last index\r\n        var segs = [];\r\n        var row;\r\n        var rowFirst;\r\n        var rowLast; // inclusive day-index range for current row\r\n        var segFirst;\r\n        var segLast; // inclusive day-index range for segment\r\n        for (row = 0; row < this.rowCnt; row++) {\r\n            rowFirst = row * daysPerRow;\r\n            rowLast = rowFirst + daysPerRow - 1;\r\n            // intersect segment's offset range with the row's\r\n            segFirst = Math.max(rangeFirst, rowFirst);\r\n            segLast = Math.min(rangeLast, rowLast);\r\n            // deal with in-between indices\r\n            segFirst = Math.ceil(segFirst); // in-between starts round to next cell\r\n            segLast = Math.floor(segLast); // in-between ends round to prev cell\r\n            if (segFirst <= segLast) { // was there any intersection with the current row?\r\n                segs.push({\r\n                    row: row,\r\n                    // normalize to start of row\r\n                    firstRowDayIndex: segFirst - rowFirst,\r\n                    lastRowDayIndex: segLast - rowFirst,\r\n                    // must be matching integers to be the segment's start/end\r\n                    isStart: segFirst === rangeFirst,\r\n                    isEnd: segLast === rangeLast\r\n                });\r\n            }\r\n        }\r\n        return segs;\r\n    };\r\n    // Slices up a date range into a segment for every day-cell it intersects with.\r\n    // TODO: make more DRY with sliceRangeByRow somehow.\r\n    DayTableMixin.prototype.sliceRangeByDay = function (unzonedRange) {\r\n        var daysPerRow = this.daysPerRow;\r\n        var normalRange = this.view.computeDayRange(unzonedRange); // make whole-day range, considering nextDayThreshold\r\n        var rangeFirst = this.getDateDayIndex(normalRange.start); // inclusive first index\r\n        var rangeLast = this.getDateDayIndex(normalRange.end.clone().subtract(1, 'days')); // inclusive last index\r\n        var segs = [];\r\n        var row;\r\n        var rowFirst;\r\n        var rowLast; // inclusive day-index range for current row\r\n        var i;\r\n        var segFirst;\r\n        var segLast; // inclusive day-index range for segment\r\n        for (row = 0; row < this.rowCnt; row++) {\r\n            rowFirst = row * daysPerRow;\r\n            rowLast = rowFirst + daysPerRow - 1;\r\n            for (i = rowFirst; i <= rowLast; i++) {\r\n                // intersect segment's offset range with the row's\r\n                segFirst = Math.max(rangeFirst, i);\r\n                segLast = Math.min(rangeLast, i);\r\n                // deal with in-between indices\r\n                segFirst = Math.ceil(segFirst); // in-between starts round to next cell\r\n                segLast = Math.floor(segLast); // in-between ends round to prev cell\r\n                if (segFirst <= segLast) { // was there any intersection with the current row?\r\n                    segs.push({\r\n                        row: row,\r\n                        // normalize to start of row\r\n                        firstRowDayIndex: segFirst - rowFirst,\r\n                        lastRowDayIndex: segLast - rowFirst,\r\n                        // must be matching integers to be the segment's start/end\r\n                        isStart: segFirst === rangeFirst,\r\n                        isEnd: segLast === rangeLast\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return segs;\r\n    };\r\n    /* Header Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayTableMixin.prototype.renderHeadHtml = function () {\r\n        var theme = this.view.calendar.theme;\r\n        return '' +\r\n            '<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' +\r\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            '<thead>' +\r\n            this.renderHeadTrHtml() +\r\n            '</thead>' +\r\n            '</table>' +\r\n            '</div>';\r\n    };\r\n    DayTableMixin.prototype.renderHeadIntroHtml = function () {\r\n        return this.renderIntroHtml(); // fall back to generic\r\n    };\r\n    DayTableMixin.prototype.renderHeadTrHtml = function () {\r\n        return '' +\r\n            '<tr>' +\r\n            (this.isRTL ? '' : this.renderHeadIntroHtml()) +\r\n            this.renderHeadDateCellsHtml() +\r\n            (this.isRTL ? this.renderHeadIntroHtml() : '') +\r\n            '</tr>';\r\n    };\r\n    DayTableMixin.prototype.renderHeadDateCellsHtml = function () {\r\n        var htmls = [];\r\n        var col;\r\n        var date;\r\n        for (col = 0; col < this.colCnt; col++) {\r\n            date = this.getCellDate(0, col);\r\n            htmls.push(this.renderHeadDateCellHtml(date));\r\n        }\r\n        return htmls.join('');\r\n    };\r\n    // TODO: when internalApiVersion, accept an object for HTML attributes\r\n    // (colspan should be no different)\r\n    DayTableMixin.prototype.renderHeadDateCellHtml = function (date, colspan, otherAttrs) {\r\n        var t = this;\r\n        var view = t.view;\r\n        var isDateValid = t.dateProfile.activeUnzonedRange.containsDate(date); // TODO: called too frequently. cache somehow.\r\n        var classNames = [\r\n            'fc-day-header',\r\n            view.calendar.theme.getClass('widgetHeader')\r\n        ];\r\n        var innerHtml;\r\n        if (typeof t.opt('columnHeaderHtml') === 'function') {\r\n            innerHtml = t.opt('columnHeaderHtml')(date);\r\n        }\r\n        else if (typeof t.opt('columnHeaderText') === 'function') {\r\n            innerHtml = util_1.htmlEscape(t.opt('columnHeaderText')(date));\r\n        }\r\n        else {\r\n            innerHtml = util_1.htmlEscape(date.format(t.colHeadFormat));\r\n        }\r\n        // if only one row of days, the classNames on the header can represent the specific days beneath\r\n        if (t.rowCnt === 1) {\r\n            classNames = classNames.concat(\r\n            // includes the day-of-week class\r\n            // noThemeHighlight=true (don't highlight the header)\r\n            t.getDayClasses(date, true));\r\n        }\r\n        else {\r\n            classNames.push('fc-' + util_1.dayIDs[date.day()]); // only add the day-of-week class\r\n        }\r\n        return '' +\r\n            '<th class=\"' + classNames.join(' ') + '\"' +\r\n            ((isDateValid && t.rowCnt) === 1 ?\r\n                ' data-date=\"' + date.format('YYYY-MM-DD') + '\"' :\r\n                '') +\r\n            (colspan > 1 ?\r\n                ' colspan=\"' + colspan + '\"' :\r\n                '') +\r\n            (otherAttrs ?\r\n                ' ' + otherAttrs :\r\n                '') +\r\n            '>' +\r\n            (isDateValid ?\r\n                // don't make a link if the heading could represent multiple days, or if there's only one day (forceOff)\r\n                view.buildGotoAnchorHtml({ date: date, forceOff: t.rowCnt > 1 || t.colCnt === 1 }, innerHtml) :\r\n                // if not valid, display text, but no link\r\n                innerHtml) +\r\n            '</th>';\r\n    };\r\n    /* Background Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayTableMixin.prototype.renderBgTrHtml = function (row) {\r\n        return '' +\r\n            '<tr>' +\r\n            (this.isRTL ? '' : this.renderBgIntroHtml(row)) +\r\n            this.renderBgCellsHtml(row) +\r\n            (this.isRTL ? this.renderBgIntroHtml(row) : '') +\r\n            '</tr>';\r\n    };\r\n    DayTableMixin.prototype.renderBgIntroHtml = function (row) {\r\n        return this.renderIntroHtml(); // fall back to generic\r\n    };\r\n    DayTableMixin.prototype.renderBgCellsHtml = function (row) {\r\n        var htmls = [];\r\n        var col;\r\n        var date;\r\n        for (col = 0; col < this.colCnt; col++) {\r\n            date = this.getCellDate(row, col);\r\n            htmls.push(this.renderBgCellHtml(date));\r\n        }\r\n        return htmls.join('');\r\n    };\r\n    DayTableMixin.prototype.renderBgCellHtml = function (date, otherAttrs) {\r\n        var t = this;\r\n        var view = t.view;\r\n        var isDateValid = t.dateProfile.activeUnzonedRange.containsDate(date); // TODO: called too frequently. cache somehow.\r\n        var classes = t.getDayClasses(date);\r\n        classes.unshift('fc-day', view.calendar.theme.getClass('widgetContent'));\r\n        return '<td class=\"' + classes.join(' ') + '\"' +\r\n            (isDateValid ?\r\n                ' data-date=\"' + date.format('YYYY-MM-DD') + '\"' : // if date has a time, won't format it\r\n                '') +\r\n            (otherAttrs ?\r\n                ' ' + otherAttrs :\r\n                '') +\r\n            '></td>';\r\n    };\r\n    /* Generic\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayTableMixin.prototype.renderIntroHtml = function () {\r\n        // Generates the default HTML intro for any row. User classes should override\r\n    };\r\n    // TODO: a generic method for dealing with <tr>, RTL, intro\r\n    // when increment internalApiVersion\r\n    // wrapTr (scheduler)\r\n    /* Utils\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Applies the generic \"intro\" and \"outro\" HTML to the given cells.\r\n    // Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.\r\n    DayTableMixin.prototype.bookendCells = function (trEl) {\r\n        var introHtml = this.renderIntroHtml();\r\n        if (introHtml) {\r\n            if (this.isRTL) {\r\n                trEl.append(introHtml);\r\n            }\r\n            else {\r\n                trEl.prepend(introHtml);\r\n            }\r\n        }\r\n    };\r\n    return DayTableMixin;\r\n}(Mixin_1.default));\r\nexports.default = DayTableMixin;\r\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BusinessHourRenderer = /** @class */ (function () {\r\n    /*\r\n    component implements:\r\n      - eventRangesToEventFootprints\r\n      - eventFootprintsToSegs\r\n    */\r\n    function BusinessHourRenderer(component, fillRenderer) {\r\n        this.component = component;\r\n        this.fillRenderer = fillRenderer;\r\n    }\r\n    BusinessHourRenderer.prototype.render = function (businessHourGenerator) {\r\n        var component = this.component;\r\n        var unzonedRange = component._getDateProfile().activeUnzonedRange;\r\n        var eventInstanceGroup = businessHourGenerator.buildEventInstanceGroup(component.hasAllDayBusinessHours, unzonedRange);\r\n        var eventFootprints = eventInstanceGroup ?\r\n            component.eventRangesToEventFootprints(eventInstanceGroup.sliceRenderRanges(unzonedRange)) :\r\n            [];\r\n        this.renderEventFootprints(eventFootprints);\r\n    };\r\n    BusinessHourRenderer.prototype.renderEventFootprints = function (eventFootprints) {\r\n        var segs = this.component.eventFootprintsToSegs(eventFootprints);\r\n        this.renderSegs(segs);\r\n        this.segs = segs;\r\n    };\r\n    BusinessHourRenderer.prototype.renderSegs = function (segs) {\r\n        if (this.fillRenderer) {\r\n            this.fillRenderer.renderSegs('businessHours', segs, {\r\n                getClasses: function (seg) {\r\n                    return ['fc-nonbusiness', 'fc-bgevent'];\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BusinessHourRenderer.prototype.unrender = function () {\r\n        if (this.fillRenderer) {\r\n            this.fillRenderer.unrender('businessHours');\r\n        }\r\n        this.segs = null;\r\n    };\r\n    BusinessHourRenderer.prototype.getSegs = function () {\r\n        return this.segs || [];\r\n    };\r\n    return BusinessHourRenderer;\r\n}());\r\nexports.default = BusinessHourRenderer;\r\n\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar FillRenderer = /** @class */ (function () {\r\n    function FillRenderer(component) {\r\n        this.fillSegTag = 'div';\r\n        this.component = component;\r\n        this.elsByFill = {};\r\n    }\r\n    FillRenderer.prototype.renderFootprint = function (type, componentFootprint, props) {\r\n        this.renderSegs(type, this.component.componentFootprintToSegs(componentFootprint), props);\r\n    };\r\n    FillRenderer.prototype.renderSegs = function (type, segs, props) {\r\n        var els;\r\n        segs = this.buildSegEls(type, segs, props); // assignes `.el` to each seg. returns successfully rendered segs\r\n        els = this.attachSegEls(type, segs);\r\n        if (els) {\r\n            this.reportEls(type, els);\r\n        }\r\n        return segs;\r\n    };\r\n    // Unrenders a specific type of fill that is currently rendered on the grid\r\n    FillRenderer.prototype.unrender = function (type) {\r\n        var el = this.elsByFill[type];\r\n        if (el) {\r\n            el.remove();\r\n            delete this.elsByFill[type];\r\n        }\r\n    };\r\n    // Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\r\n    // Only returns segments that successfully rendered.\r\n    FillRenderer.prototype.buildSegEls = function (type, segs, props) {\r\n        var _this = this;\r\n        var html = '';\r\n        var renderedSegs = [];\r\n        var i;\r\n        if (segs.length) {\r\n            // build a large concatenation of segment HTML\r\n            for (i = 0; i < segs.length; i++) {\r\n                html += this.buildSegHtml(type, segs[i], props);\r\n            }\r\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\r\n            // Then, compute the 'el' for each segment.\r\n            $(html).each(function (i, node) {\r\n                var seg = segs[i];\r\n                var el = $(node);\r\n                // allow custom filter methods per-type\r\n                if (props.filterEl) {\r\n                    el = props.filterEl(seg, el);\r\n                }\r\n                if (el) { // custom filters did not cancel the render\r\n                    el = $(el); // allow custom filter to return raw DOM node\r\n                    // correct element type? (would be bad if a non-TD were inserted into a table for example)\r\n                    if (el.is(_this.fillSegTag)) {\r\n                        seg.el = el;\r\n                        renderedSegs.push(seg);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return renderedSegs;\r\n    };\r\n    // Builds the HTML needed for one fill segment. Generic enough to work with different types.\r\n    FillRenderer.prototype.buildSegHtml = function (type, seg, props) {\r\n        // custom hooks per-type\r\n        var classes = props.getClasses ? props.getClasses(seg) : [];\r\n        var css = util_1.cssToStr(props.getCss ? props.getCss(seg) : {});\r\n        return '<' + this.fillSegTag +\r\n            (classes.length ? ' class=\"' + classes.join(' ') + '\"' : '') +\r\n            (css ? ' style=\"' + css + '\"' : '') +\r\n            ' />';\r\n    };\r\n    // Should return wrapping DOM structure\r\n    FillRenderer.prototype.attachSegEls = function (type, segs) {\r\n        // subclasses must implement\r\n    };\r\n    FillRenderer.prototype.reportEls = function (type, nodes) {\r\n        if (this.elsByFill[type]) {\r\n            this.elsByFill[type] = this.elsByFill[type].add(nodes);\r\n        }\r\n        else {\r\n            this.elsByFill[type] = $(nodes);\r\n        }\r\n    };\r\n    return FillRenderer;\r\n}());\r\nexports.default = FillRenderer;\r\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar EventFootprint_1 = __webpack_require__(34);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar HelperRenderer = /** @class */ (function () {\r\n    function HelperRenderer(component, eventRenderer) {\r\n        this.view = component._getView();\r\n        this.component = component;\r\n        this.eventRenderer = eventRenderer;\r\n    }\r\n    HelperRenderer.prototype.renderComponentFootprint = function (componentFootprint) {\r\n        this.renderEventFootprints([\r\n            this.fabricateEventFootprint(componentFootprint)\r\n        ]);\r\n    };\r\n    HelperRenderer.prototype.renderEventDraggingFootprints = function (eventFootprints, sourceSeg, isTouch) {\r\n        this.renderEventFootprints(eventFootprints, sourceSeg, 'fc-dragging', isTouch ? null : this.view.opt('dragOpacity'));\r\n    };\r\n    HelperRenderer.prototype.renderEventResizingFootprints = function (eventFootprints, sourceSeg, isTouch) {\r\n        this.renderEventFootprints(eventFootprints, sourceSeg, 'fc-resizing');\r\n    };\r\n    HelperRenderer.prototype.renderEventFootprints = function (eventFootprints, sourceSeg, extraClassNames, opacity) {\r\n        var segs = this.component.eventFootprintsToSegs(eventFootprints);\r\n        var classNames = 'fc-helper ' + (extraClassNames || '');\r\n        var i;\r\n        // assigns each seg's el and returns a subset of segs that were rendered\r\n        segs = this.eventRenderer.renderFgSegEls(segs);\r\n        for (i = 0; i < segs.length; i++) {\r\n            segs[i].el.addClass(classNames);\r\n        }\r\n        if (opacity != null) {\r\n            for (i = 0; i < segs.length; i++) {\r\n                segs[i].el.css('opacity', opacity);\r\n            }\r\n        }\r\n        this.helperEls = this.renderSegs(segs, sourceSeg);\r\n    };\r\n    /*\r\n    Must return all mock event elements\r\n    */\r\n    HelperRenderer.prototype.renderSegs = function (segs, sourceSeg) {\r\n        // Subclasses must implement\r\n    };\r\n    HelperRenderer.prototype.unrender = function () {\r\n        if (this.helperEls) {\r\n            this.helperEls.remove();\r\n            this.helperEls = null;\r\n        }\r\n    };\r\n    HelperRenderer.prototype.fabricateEventFootprint = function (componentFootprint) {\r\n        var calendar = this.view.calendar;\r\n        var eventDateProfile = calendar.footprintToDateProfile(componentFootprint);\r\n        var dummyEvent = new SingleEventDef_1.default(new EventSource_1.default(calendar));\r\n        var dummyInstance;\r\n        dummyEvent.dateProfile = eventDateProfile;\r\n        dummyInstance = dummyEvent.buildInstance();\r\n        return new EventFootprint_1.default(componentFootprint, dummyEvent, dummyInstance);\r\n    };\r\n    return HelperRenderer;\r\n}());\r\nexports.default = HelperRenderer;\r\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar GlobalEmitter_1 = __webpack_require__(23);\r\nvar Interaction_1 = __webpack_require__(14);\r\nvar EventPointing = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EventPointing, _super);\r\n    function EventPointing() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /*\r\n    component must implement:\r\n      - publiclyTrigger\r\n    */\r\n    EventPointing.prototype.bindToEl = function (el) {\r\n        var component = this.component;\r\n        component.bindSegHandlerToEl(el, 'click', this.handleClick.bind(this));\r\n        component.bindSegHandlerToEl(el, 'mouseenter', this.handleMouseover.bind(this));\r\n        component.bindSegHandlerToEl(el, 'mouseleave', this.handleMouseout.bind(this));\r\n    };\r\n    EventPointing.prototype.handleClick = function (seg, ev) {\r\n        var res = this.component.publiclyTrigger('eventClick', {\r\n            context: seg.el[0],\r\n            args: [seg.footprint.getEventLegacy(), ev, this.view]\r\n        });\r\n        if (res === false) {\r\n            ev.preventDefault();\r\n        }\r\n    };\r\n    // Updates internal state and triggers handlers for when an event element is moused over\r\n    EventPointing.prototype.handleMouseover = function (seg, ev) {\r\n        if (!GlobalEmitter_1.default.get().shouldIgnoreMouse() &&\r\n            !this.mousedOverSeg) {\r\n            this.mousedOverSeg = seg;\r\n            // TODO: move to EventSelecting's responsibility\r\n            if (this.view.isEventDefResizable(seg.footprint.eventDef)) {\r\n                seg.el.addClass('fc-allow-mouse-resize');\r\n            }\r\n            this.component.publiclyTrigger('eventMouseover', {\r\n                context: seg.el[0],\r\n                args: [seg.footprint.getEventLegacy(), ev, this.view]\r\n            });\r\n        }\r\n    };\r\n    // Updates internal state and triggers handlers for when an event element is moused out.\r\n    // Can be given no arguments, in which case it will mouseout the segment that was previously moused over.\r\n    EventPointing.prototype.handleMouseout = function (seg, ev) {\r\n        if (this.mousedOverSeg) {\r\n            this.mousedOverSeg = null;\r\n            // TODO: move to EventSelecting's responsibility\r\n            if (this.view.isEventDefResizable(seg.footprint.eventDef)) {\r\n                seg.el.removeClass('fc-allow-mouse-resize');\r\n            }\r\n            this.component.publiclyTrigger('eventMouseout', {\r\n                context: seg.el[0],\r\n                args: [\r\n                    seg.footprint.getEventLegacy(),\r\n                    ev || {},\r\n                    this.view\r\n                ]\r\n            });\r\n        }\r\n    };\r\n    EventPointing.prototype.end = function () {\r\n        if (this.mousedOverSeg) {\r\n            this.handleMouseout(this.mousedOverSeg);\r\n        }\r\n    };\r\n    return EventPointing;\r\n}(Interaction_1.default));\r\nexports.default = EventPointing;\r\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Mixin_1 = __webpack_require__(15);\r\nvar DateClicking_1 = __webpack_require__(237);\r\nvar DateSelecting_1 = __webpack_require__(236);\r\nvar EventPointing_1 = __webpack_require__(64);\r\nvar EventDragging_1 = __webpack_require__(235);\r\nvar EventResizing_1 = __webpack_require__(234);\r\nvar ExternalDropping_1 = __webpack_require__(233);\r\nvar StandardInteractionsMixin = /** @class */ (function (_super) {\r\n    tslib_1.__extends(StandardInteractionsMixin, _super);\r\n    function StandardInteractionsMixin() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return StandardInteractionsMixin;\r\n}(Mixin_1.default));\r\nexports.default = StandardInteractionsMixin;\r\nStandardInteractionsMixin.prototype.dateClickingClass = DateClicking_1.default;\r\nStandardInteractionsMixin.prototype.dateSelectingClass = DateSelecting_1.default;\r\nStandardInteractionsMixin.prototype.eventPointingClass = EventPointing_1.default;\r\nStandardInteractionsMixin.prototype.eventDraggingClass = EventDragging_1.default;\r\nStandardInteractionsMixin.prototype.eventResizingClass = EventResizing_1.default;\r\nStandardInteractionsMixin.prototype.externalDroppingClass = ExternalDropping_1.default;\r\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar CoordCache_1 = __webpack_require__(58);\r\nvar Popover_1 = __webpack_require__(227);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nvar EventFootprint_1 = __webpack_require__(34);\r\nvar BusinessHourRenderer_1 = __webpack_require__(61);\r\nvar StandardInteractionsMixin_1 = __webpack_require__(65);\r\nvar InteractiveDateComponent_1 = __webpack_require__(42);\r\nvar DayTableMixin_1 = __webpack_require__(60);\r\nvar DayGridEventRenderer_1 = __webpack_require__(243);\r\nvar DayGridHelperRenderer_1 = __webpack_require__(244);\r\nvar DayGridFillRenderer_1 = __webpack_require__(245);\r\n/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar DayGrid = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DayGrid, _super);\r\n    function DayGrid(view) {\r\n        var _this = _super.call(this, view) || this;\r\n        _this.cellWeekNumbersVisible = false; // display week numbers in day cell?\r\n        _this.bottomCoordPadding = 0; // hack for extending the hit area for the last row of the coordinate grid\r\n        // isRigid determines whether the individual rows should ignore the contents and be a constant height.\r\n        // Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\r\n        _this.isRigid = false;\r\n        _this.hasAllDayBusinessHours = true;\r\n        return _this;\r\n    }\r\n    // Slices up the given span (unzoned start/end with other misc data) into an array of segments\r\n    DayGrid.prototype.componentFootprintToSegs = function (componentFootprint) {\r\n        var segs = this.sliceRangeByRow(componentFootprint.unzonedRange);\r\n        var i;\r\n        var seg;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            if (this.isRTL) {\r\n                seg.leftCol = this.daysPerRow - 1 - seg.lastRowDayIndex;\r\n                seg.rightCol = this.daysPerRow - 1 - seg.firstRowDayIndex;\r\n            }\r\n            else {\r\n                seg.leftCol = seg.firstRowDayIndex;\r\n                seg.rightCol = seg.lastRowDayIndex;\r\n            }\r\n        }\r\n        return segs;\r\n    };\r\n    /* Date Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.renderDates = function (dateProfile) {\r\n        this.dateProfile = dateProfile;\r\n        this.updateDayTable();\r\n        this.renderGrid();\r\n    };\r\n    DayGrid.prototype.unrenderDates = function () {\r\n        this.removeSegPopover();\r\n    };\r\n    // Renders the rows and columns into the component's `this.el`, which should already be assigned.\r\n    DayGrid.prototype.renderGrid = function () {\r\n        var view = this.view;\r\n        var rowCnt = this.rowCnt;\r\n        var colCnt = this.colCnt;\r\n        var html = '';\r\n        var row;\r\n        var col;\r\n        if (this.headContainerEl) {\r\n            this.headContainerEl.html(this.renderHeadHtml());\r\n        }\r\n        for (row = 0; row < rowCnt; row++) {\r\n            html += this.renderDayRowHtml(row, this.isRigid);\r\n        }\r\n        this.el.html(html);\r\n        this.rowEls = this.el.find('.fc-row');\r\n        this.cellEls = this.el.find('.fc-day, .fc-disabled-day');\r\n        this.rowCoordCache = new CoordCache_1.default({\r\n            els: this.rowEls,\r\n            isVertical: true\r\n        });\r\n        this.colCoordCache = new CoordCache_1.default({\r\n            els: this.cellEls.slice(0, this.colCnt),\r\n            isHorizontal: true\r\n        });\r\n        // trigger dayRender with each cell's element\r\n        for (row = 0; row < rowCnt; row++) {\r\n            for (col = 0; col < colCnt; col++) {\r\n                this.publiclyTrigger('dayRender', {\r\n                    context: view,\r\n                    args: [\r\n                        this.getCellDate(row, col),\r\n                        this.getCellEl(row, col),\r\n                        view\r\n                    ]\r\n                });\r\n            }\r\n        }\r\n    };\r\n    // Generates the HTML for a single row, which is a div that wraps a table.\r\n    // `row` is the row number.\r\n    DayGrid.prototype.renderDayRowHtml = function (row, isRigid) {\r\n        var theme = this.view.calendar.theme;\r\n        var classes = ['fc-row', 'fc-week', theme.getClass('dayRow')];\r\n        if (isRigid) {\r\n            classes.push('fc-rigid');\r\n        }\r\n        return '' +\r\n            '<div class=\"' + classes.join(' ') + '\">' +\r\n            '<div class=\"fc-bg\">' +\r\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            this.renderBgTrHtml(row) +\r\n            '</table>' +\r\n            '</div>' +\r\n            '<div class=\"fc-content-skeleton\">' +\r\n            '<table>' +\r\n            (this.getIsNumbersVisible() ?\r\n                '<thead>' +\r\n                    this.renderNumberTrHtml(row) +\r\n                    '</thead>' :\r\n                '') +\r\n            '</table>' +\r\n            '</div>' +\r\n            '</div>';\r\n    };\r\n    DayGrid.prototype.getIsNumbersVisible = function () {\r\n        return this.getIsDayNumbersVisible() || this.cellWeekNumbersVisible;\r\n    };\r\n    DayGrid.prototype.getIsDayNumbersVisible = function () {\r\n        return this.rowCnt > 1;\r\n    };\r\n    /* Grid Number Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.renderNumberTrHtml = function (row) {\r\n        return '' +\r\n            '<tr>' +\r\n            (this.isRTL ? '' : this.renderNumberIntroHtml(row)) +\r\n            this.renderNumberCellsHtml(row) +\r\n            (this.isRTL ? this.renderNumberIntroHtml(row) : '') +\r\n            '</tr>';\r\n    };\r\n    DayGrid.prototype.renderNumberIntroHtml = function (row) {\r\n        return this.renderIntroHtml();\r\n    };\r\n    DayGrid.prototype.renderNumberCellsHtml = function (row) {\r\n        var htmls = [];\r\n        var col;\r\n        var date;\r\n        for (col = 0; col < this.colCnt; col++) {\r\n            date = this.getCellDate(row, col);\r\n            htmls.push(this.renderNumberCellHtml(date));\r\n        }\r\n        return htmls.join('');\r\n    };\r\n    // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\r\n    // The number row will only exist if either day numbers or week numbers are turned on.\r\n    DayGrid.prototype.renderNumberCellHtml = function (date) {\r\n        var view = this.view;\r\n        var html = '';\r\n        var isDateValid = this.dateProfile.activeUnzonedRange.containsDate(date); // TODO: called too frequently. cache somehow.\r\n        var isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid;\r\n        var classes;\r\n        var weekCalcFirstDoW;\r\n        if (!isDayNumberVisible && !this.cellWeekNumbersVisible) {\r\n            // no numbers in day cell (week number must be along the side)\r\n            return '<td/>'; //  will create an empty space above events :(\r\n        }\r\n        classes = this.getDayClasses(date);\r\n        classes.unshift('fc-day-top');\r\n        if (this.cellWeekNumbersVisible) {\r\n            // To determine the day of week number change under ISO, we cannot\r\n            // rely on moment.js methods such as firstDayOfWeek() or weekday(),\r\n            // because they rely on the locale's dow (possibly overridden by\r\n            // our firstDay option), which may not be Monday. We cannot change\r\n            // dow, because that would affect the calendar start day as well.\r\n            if (date._locale._fullCalendar_weekCalc === 'ISO') {\r\n                weekCalcFirstDoW = 1; // Monday by ISO 8601 definition\r\n            }\r\n            else {\r\n                weekCalcFirstDoW = date._locale.firstDayOfWeek();\r\n            }\r\n        }\r\n        html += '<td class=\"' + classes.join(' ') + '\"' +\r\n            (isDateValid ?\r\n                ' data-date=\"' + date.format() + '\"' :\r\n                '') +\r\n            '>';\r\n        if (this.cellWeekNumbersVisible && (date.day() === weekCalcFirstDoW)) {\r\n            html += view.buildGotoAnchorHtml({ date: date, type: 'week' }, { 'class': 'fc-week-number' }, date.format('w') // inner HTML\r\n            );\r\n        }\r\n        if (isDayNumberVisible) {\r\n            html += view.buildGotoAnchorHtml(date, { 'class': 'fc-day-number' }, date.format('D') // inner HTML\r\n            );\r\n        }\r\n        html += '</td>';\r\n        return html;\r\n    };\r\n    /* Hit System\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.prepareHits = function () {\r\n        this.colCoordCache.build();\r\n        this.rowCoordCache.build();\r\n        this.rowCoordCache.bottoms[this.rowCnt - 1] += this.bottomCoordPadding; // hack\r\n    };\r\n    DayGrid.prototype.releaseHits = function () {\r\n        this.colCoordCache.clear();\r\n        this.rowCoordCache.clear();\r\n    };\r\n    DayGrid.prototype.queryHit = function (leftOffset, topOffset) {\r\n        if (this.colCoordCache.isLeftInBounds(leftOffset) && this.rowCoordCache.isTopInBounds(topOffset)) {\r\n            var col = this.colCoordCache.getHorizontalIndex(leftOffset);\r\n            var row = this.rowCoordCache.getVerticalIndex(topOffset);\r\n            if (row != null && col != null) {\r\n                return this.getCellHit(row, col);\r\n            }\r\n        }\r\n    };\r\n    DayGrid.prototype.getHitFootprint = function (hit) {\r\n        var range = this.getCellRange(hit.row, hit.col);\r\n        return new ComponentFootprint_1.default(new UnzonedRange_1.default(range.start, range.end), true // all-day?\r\n        );\r\n    };\r\n    DayGrid.prototype.getHitEl = function (hit) {\r\n        return this.getCellEl(hit.row, hit.col);\r\n    };\r\n    /* Cell System\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // FYI: the first column is the leftmost column, regardless of date\r\n    DayGrid.prototype.getCellHit = function (row, col) {\r\n        return {\r\n            row: row,\r\n            col: col,\r\n            component: this,\r\n            left: this.colCoordCache.getLeftOffset(col),\r\n            right: this.colCoordCache.getRightOffset(col),\r\n            top: this.rowCoordCache.getTopOffset(row),\r\n            bottom: this.rowCoordCache.getBottomOffset(row)\r\n        };\r\n    };\r\n    DayGrid.prototype.getCellEl = function (row, col) {\r\n        return this.cellEls.eq(row * this.colCnt + col);\r\n    };\r\n    /* Event Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Unrenders all events currently rendered on the grid\r\n    DayGrid.prototype.executeEventUnrender = function () {\r\n        this.removeSegPopover(); // removes the \"more..\" events popover\r\n        _super.prototype.executeEventUnrender.call(this);\r\n    };\r\n    // Retrieves all rendered segment objects currently rendered on the grid\r\n    DayGrid.prototype.getOwnEventSegs = function () {\r\n        // append the segments from the \"more...\" popover\r\n        return _super.prototype.getOwnEventSegs.call(this).concat(this.popoverSegs || []);\r\n    };\r\n    /* Event Drag Visualization\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders a visual indication of an event or external element being dragged.\r\n    // `eventLocation` has zoned start and end (optional)\r\n    DayGrid.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\r\n        var i;\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            this.renderHighlight(eventFootprints[i].componentFootprint);\r\n        }\r\n        // render drags from OTHER components as helpers\r\n        if (eventFootprints.length && seg && seg.component !== this) {\r\n            this.helperRenderer.renderEventDraggingFootprints(eventFootprints, seg, isTouch);\r\n            return true; // signal helpers rendered\r\n        }\r\n    };\r\n    // Unrenders any visual indication of a hovering event\r\n    DayGrid.prototype.unrenderDrag = function () {\r\n        this.unrenderHighlight();\r\n        this.helperRenderer.unrender();\r\n    };\r\n    /* Event Resize Visualization\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders a visual indication of an event being resized\r\n    DayGrid.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\r\n        var i;\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            this.renderHighlight(eventFootprints[i].componentFootprint);\r\n        }\r\n        this.helperRenderer.renderEventResizingFootprints(eventFootprints, seg, isTouch);\r\n    };\r\n    // Unrenders a visual indication of an event being resized\r\n    DayGrid.prototype.unrenderEventResize = function () {\r\n        this.unrenderHighlight();\r\n        this.helperRenderer.unrender();\r\n    };\r\n    /* More+ Link Popover\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.removeSegPopover = function () {\r\n        if (this.segPopover) {\r\n            this.segPopover.hide(); // in handler, will call segPopover's removeElement\r\n        }\r\n    };\r\n    // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\r\n    // `levelLimit` can be false (don't limit), a number, or true (should be computed).\r\n    DayGrid.prototype.limitRows = function (levelLimit) {\r\n        var rowStructs = this.eventRenderer.rowStructs || [];\r\n        var row; // row #\r\n        var rowLevelLimit;\r\n        for (row = 0; row < rowStructs.length; row++) {\r\n            this.unlimitRow(row);\r\n            if (!levelLimit) {\r\n                rowLevelLimit = false;\r\n            }\r\n            else if (typeof levelLimit === 'number') {\r\n                rowLevelLimit = levelLimit;\r\n            }\r\n            else {\r\n                rowLevelLimit = this.computeRowLevelLimit(row);\r\n            }\r\n            if (rowLevelLimit !== false) {\r\n                this.limitRow(row, rowLevelLimit);\r\n            }\r\n        }\r\n    };\r\n    // Computes the number of levels a row will accomodate without going outside its bounds.\r\n    // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\r\n    // `row` is the row number.\r\n    DayGrid.prototype.computeRowLevelLimit = function (row) {\r\n        var rowEl = this.rowEls.eq(row); // the containing \"fake\" row div\r\n        var rowHeight = rowEl.height(); // TODO: cache somehow?\r\n        var trEls = this.eventRenderer.rowStructs[row].tbodyEl.children();\r\n        var i;\r\n        var trEl;\r\n        var trHeight;\r\n        function iterInnerHeights(i, childNode) {\r\n            trHeight = Math.max(trHeight, $(childNode).outerHeight());\r\n        }\r\n        // Reveal one level <tr> at a time and stop when we find one out of bounds\r\n        for (i = 0; i < trEls.length; i++) {\r\n            trEl = trEls.eq(i).removeClass('fc-limited'); // reset to original state (reveal)\r\n            // with rowspans>1 and IE8, trEl.outerHeight() would return the height of the largest cell,\r\n            // so instead, find the tallest inner content element.\r\n            trHeight = 0;\r\n            trEl.find('> td > :first-child').each(iterInnerHeights);\r\n            if (trEl.position().top + trHeight > rowHeight) {\r\n                return i;\r\n            }\r\n        }\r\n        return false; // should not limit at all\r\n    };\r\n    // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\r\n    // `row` is the row number.\r\n    // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\r\n    DayGrid.prototype.limitRow = function (row, levelLimit) {\r\n        var _this = this;\r\n        var rowStruct = this.eventRenderer.rowStructs[row];\r\n        var moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\r\n        var col = 0; // col #, left-to-right (not chronologically)\r\n        var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\r\n        var cellMatrix; // a matrix (by level, then column) of all <td> jQuery elements in the row\r\n        var limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\r\n        var i;\r\n        var seg;\r\n        var segsBelow; // array of segment objects below `seg` in the current `col`\r\n        var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\r\n        var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\r\n        var td;\r\n        var rowspan;\r\n        var segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\r\n        var j;\r\n        var moreTd;\r\n        var moreWrap;\r\n        var moreLink;\r\n        // Iterates through empty level cells and places \"more\" links inside if need be\r\n        var emptyCellsUntil = function (endCol) {\r\n            while (col < endCol) {\r\n                segsBelow = _this.getCellSegs(row, col, levelLimit);\r\n                if (segsBelow.length) {\r\n                    td = cellMatrix[levelLimit - 1][col];\r\n                    moreLink = _this.renderMoreLink(row, col, segsBelow);\r\n                    moreWrap = $('<div/>').append(moreLink);\r\n                    td.append(moreWrap);\r\n                    moreNodes.push(moreWrap[0]);\r\n                }\r\n                col++;\r\n            }\r\n        };\r\n        if (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\r\n            levelSegs = rowStruct.segLevels[levelLimit - 1];\r\n            cellMatrix = rowStruct.cellMatrix;\r\n            limitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level <tr> elements past the limit\r\n                .addClass('fc-limited').get(); // hide elements and get a simple DOM-nodes array\r\n            // iterate though segments in the last allowable level\r\n            for (i = 0; i < levelSegs.length; i++) {\r\n                seg = levelSegs[i];\r\n                emptyCellsUntil(seg.leftCol); // process empty cells before the segment\r\n                // determine *all* segments below `seg` that occupy the same columns\r\n                colSegsBelow = [];\r\n                totalSegsBelow = 0;\r\n                while (col <= seg.rightCol) {\r\n                    segsBelow = this.getCellSegs(row, col, levelLimit);\r\n                    colSegsBelow.push(segsBelow);\r\n                    totalSegsBelow += segsBelow.length;\r\n                    col++;\r\n                }\r\n                if (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\r\n                    td = cellMatrix[levelLimit - 1][seg.leftCol]; // the segment's parent cell\r\n                    rowspan = td.attr('rowspan') || 1;\r\n                    segMoreNodes = [];\r\n                    // make a replacement <td> for each column the segment occupies. will be one for each colspan\r\n                    for (j = 0; j < colSegsBelow.length; j++) {\r\n                        moreTd = $('<td class=\"fc-more-cell\"/>').attr('rowspan', rowspan);\r\n                        segsBelow = colSegsBelow[j];\r\n                        moreLink = this.renderMoreLink(row, seg.leftCol + j, [seg].concat(segsBelow) // count seg as hidden too\r\n                        );\r\n                        moreWrap = $('<div/>').append(moreLink);\r\n                        moreTd.append(moreWrap);\r\n                        segMoreNodes.push(moreTd[0]);\r\n                        moreNodes.push(moreTd[0]);\r\n                    }\r\n                    td.addClass('fc-limited').after($(segMoreNodes)); // hide original <td> and inject replacements\r\n                    limitedNodes.push(td[0]);\r\n                }\r\n            }\r\n            emptyCellsUntil(this.colCnt); // finish off the level\r\n            rowStruct.moreEls = $(moreNodes); // for easy undoing later\r\n            rowStruct.limitedEls = $(limitedNodes); // for easy undoing later\r\n        }\r\n    };\r\n    // Reveals all levels and removes all \"more\"-related elements for a grid's row.\r\n    // `row` is a row number.\r\n    DayGrid.prototype.unlimitRow = function (row) {\r\n        var rowStruct = this.eventRenderer.rowStructs[row];\r\n        if (rowStruct.moreEls) {\r\n            rowStruct.moreEls.remove();\r\n            rowStruct.moreEls = null;\r\n        }\r\n        if (rowStruct.limitedEls) {\r\n            rowStruct.limitedEls.removeClass('fc-limited');\r\n            rowStruct.limitedEls = null;\r\n        }\r\n    };\r\n    // Renders an <a> element that represents hidden event element for a cell.\r\n    // Responsible for attaching click handler as well.\r\n    DayGrid.prototype.renderMoreLink = function (row, col, hiddenSegs) {\r\n        var _this = this;\r\n        var view = this.view;\r\n        return $('<a class=\"fc-more\"/>')\r\n            .text(this.getMoreLinkText(hiddenSegs.length))\r\n            .on('click', function (ev) {\r\n            var clickOption = _this.opt('eventLimitClick');\r\n            var date = _this.getCellDate(row, col);\r\n            var moreEl = $(ev.currentTarget);\r\n            var dayEl = _this.getCellEl(row, col);\r\n            var allSegs = _this.getCellSegs(row, col);\r\n            // rescope the segments to be within the cell's date\r\n            var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\r\n            var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\r\n            if (typeof clickOption === 'function') {\r\n                // the returned value can be an atomic option\r\n                clickOption = _this.publiclyTrigger('eventLimitClick', {\r\n                    context: view,\r\n                    args: [\r\n                        {\r\n                            date: date.clone(),\r\n                            dayEl: dayEl,\r\n                            moreEl: moreEl,\r\n                            segs: reslicedAllSegs,\r\n                            hiddenSegs: reslicedHiddenSegs\r\n                        },\r\n                        ev,\r\n                        view\r\n                    ]\r\n                });\r\n            }\r\n            if (clickOption === 'popover') {\r\n                _this.showSegPopover(row, col, moreEl, reslicedAllSegs);\r\n            }\r\n            else if (typeof clickOption === 'string') { // a view name\r\n                view.calendar.zoomTo(date, clickOption);\r\n            }\r\n        });\r\n    };\r\n    // Reveals the popover that displays all events within a cell\r\n    DayGrid.prototype.showSegPopover = function (row, col, moreLink, segs) {\r\n        var _this = this;\r\n        var view = this.view;\r\n        var moreWrap = moreLink.parent(); // the <div> wrapper around the <a>\r\n        var topEl; // the element we want to match the top coordinate of\r\n        var options;\r\n        if (this.rowCnt === 1) {\r\n            topEl = view.el; // will cause the popover to cover any sort of header\r\n        }\r\n        else {\r\n            topEl = this.rowEls.eq(row); // will align with top of row\r\n        }\r\n        options = {\r\n            className: 'fc-more-popover ' + view.calendar.theme.getClass('popover'),\r\n            content: this.renderSegPopoverContent(row, col, segs),\r\n            parentEl: view.el,\r\n            top: topEl.offset().top,\r\n            autoHide: true,\r\n            viewportConstrain: this.opt('popoverViewportConstrain'),\r\n            hide: function () {\r\n                // kill everything when the popover is hidden\r\n                // notify events to be removed\r\n                if (_this.popoverSegs) {\r\n                    _this.triggerBeforeEventSegsDestroyed(_this.popoverSegs);\r\n                }\r\n                _this.segPopover.removeElement();\r\n                _this.segPopover = null;\r\n                _this.popoverSegs = null;\r\n            }\r\n        };\r\n        // Determine horizontal coordinate.\r\n        // We use the moreWrap instead of the <td> to avoid border confusion.\r\n        if (this.isRTL) {\r\n            options.right = moreWrap.offset().left + moreWrap.outerWidth() + 1; // +1 to be over cell border\r\n        }\r\n        else {\r\n            options.left = moreWrap.offset().left - 1; // -1 to be over cell border\r\n        }\r\n        this.segPopover = new Popover_1.default(options);\r\n        this.segPopover.show();\r\n        // the popover doesn't live within the grid's container element, and thus won't get the event\r\n        // delegated-handlers for free. attach event-related handlers to the popover.\r\n        this.bindAllSegHandlersToEl(this.segPopover.el);\r\n        this.triggerAfterEventSegsRendered(segs);\r\n    };\r\n    // Builds the inner DOM contents of the segment popover\r\n    DayGrid.prototype.renderSegPopoverContent = function (row, col, segs) {\r\n        var view = this.view;\r\n        var theme = view.calendar.theme;\r\n        var title = this.getCellDate(row, col).format(this.opt('dayPopoverFormat'));\r\n        var content = $('<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' +\r\n            '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' +\r\n            '<span class=\"fc-title\">' +\r\n            util_1.htmlEscape(title) +\r\n            '</span>' +\r\n            '<div class=\"fc-clear\"/>' +\r\n            '</div>' +\r\n            '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' +\r\n            '<div class=\"fc-event-container\"></div>' +\r\n            '</div>');\r\n        var segContainer = content.find('.fc-event-container');\r\n        var i;\r\n        // render each seg's `el` and only return the visible segs\r\n        segs = this.eventRenderer.renderFgSegEls(segs, true); // disableResizing=true\r\n        this.popoverSegs = segs;\r\n        for (i = 0; i < segs.length; i++) {\r\n            // because segments in the popover are not part of a grid coordinate system, provide a hint to any\r\n            // grids that want to do drag-n-drop about which cell it came from\r\n            this.hitsNeeded();\r\n            segs[i].hit = this.getCellHit(row, col);\r\n            this.hitsNotNeeded();\r\n            segContainer.append(segs[i].el);\r\n        }\r\n        return content;\r\n    };\r\n    // Given the events within an array of segment objects, reslice them to be in a single day\r\n    DayGrid.prototype.resliceDaySegs = function (segs, dayDate) {\r\n        var dayStart = dayDate.clone();\r\n        var dayEnd = dayStart.clone().add(1, 'days');\r\n        var dayRange = new UnzonedRange_1.default(dayStart, dayEnd);\r\n        var newSegs = [];\r\n        var i;\r\n        var seg;\r\n        var slicedRange;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            slicedRange = seg.footprint.componentFootprint.unzonedRange.intersect(dayRange);\r\n            if (slicedRange) {\r\n                newSegs.push($.extend({}, seg, {\r\n                    footprint: new EventFootprint_1.default(new ComponentFootprint_1.default(slicedRange, seg.footprint.componentFootprint.isAllDay), seg.footprint.eventDef, seg.footprint.eventInstance),\r\n                    isStart: seg.isStart && slicedRange.isStart,\r\n                    isEnd: seg.isEnd && slicedRange.isEnd\r\n                }));\r\n            }\r\n        }\r\n        // force an order because eventsToSegs doesn't guarantee one\r\n        // TODO: research if still needed\r\n        this.eventRenderer.sortEventSegs(newSegs);\r\n        return newSegs;\r\n    };\r\n    // Generates the text that should be inside a \"more\" link, given the number of events it represents\r\n    DayGrid.prototype.getMoreLinkText = function (num) {\r\n        var opt = this.opt('eventLimitText');\r\n        if (typeof opt === 'function') {\r\n            return opt(num);\r\n        }\r\n        else {\r\n            return '+' + num + ' ' + opt;\r\n        }\r\n    };\r\n    // Returns segments within a given cell.\r\n    // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\r\n    DayGrid.prototype.getCellSegs = function (row, col, startLevel) {\r\n        var segMatrix = this.eventRenderer.rowStructs[row].segMatrix;\r\n        var level = startLevel || 0;\r\n        var segs = [];\r\n        var seg;\r\n        while (level < segMatrix.length) {\r\n            seg = segMatrix[level][col];\r\n            if (seg) {\r\n                segs.push(seg);\r\n            }\r\n            level++;\r\n        }\r\n        return segs;\r\n    };\r\n    return DayGrid;\r\n}(InteractiveDateComponent_1.default));\r\nexports.default = DayGrid;\r\nDayGrid.prototype.eventRendererClass = DayGridEventRenderer_1.default;\r\nDayGrid.prototype.businessHourRendererClass = BusinessHourRenderer_1.default;\r\nDayGrid.prototype.helperRendererClass = DayGridHelperRenderer_1.default;\r\nDayGrid.prototype.fillRendererClass = DayGridFillRenderer_1.default;\r\nStandardInteractionsMixin_1.default.mixInto(DayGrid);\r\nDayTableMixin_1.default.mixInto(DayGrid);\r\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar Scroller_1 = __webpack_require__(41);\r\nvar View_1 = __webpack_require__(43);\r\nvar BasicViewDateProfileGenerator_1 = __webpack_require__(68);\r\nvar DayGrid_1 = __webpack_require__(66);\r\n/* An abstract class for the \"basic\" views, as well as month view. Renders one or more rows of day cells.\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\r\n// It is responsible for managing width/height.\r\nvar BasicView = /** @class */ (function (_super) {\r\n    tslib_1.__extends(BasicView, _super);\r\n    function BasicView(calendar, viewSpec) {\r\n        var _this = _super.call(this, calendar, viewSpec) || this;\r\n        _this.dayGrid = _this.instantiateDayGrid();\r\n        _this.dayGrid.isRigid = _this.hasRigidRows();\r\n        if (_this.opt('weekNumbers')) {\r\n            if (_this.opt('weekNumbersWithinDays')) {\r\n                _this.dayGrid.cellWeekNumbersVisible = true;\r\n                _this.dayGrid.colWeekNumbersVisible = false;\r\n            }\r\n            else {\r\n                _this.dayGrid.cellWeekNumbersVisible = false;\r\n                _this.dayGrid.colWeekNumbersVisible = true;\r\n            }\r\n        }\r\n        _this.addChild(_this.dayGrid);\r\n        _this.scroller = new Scroller_1.default({\r\n            overflowX: 'hidden',\r\n            overflowY: 'auto'\r\n        });\r\n        return _this;\r\n    }\r\n    // Generates the DayGrid object this view needs. Draws from this.dayGridClass\r\n    BasicView.prototype.instantiateDayGrid = function () {\r\n        // generate a subclass on the fly with BasicView-specific behavior\r\n        // TODO: cache this subclass\r\n        var subclass = makeDayGridSubclass(this.dayGridClass);\r\n        return new subclass(this);\r\n    };\r\n    BasicView.prototype.executeDateRender = function (dateProfile) {\r\n        this.dayGrid.breakOnWeeks = /year|month|week/.test(dateProfile.currentRangeUnit);\r\n        _super.prototype.executeDateRender.call(this, dateProfile);\r\n    };\r\n    BasicView.prototype.renderSkeleton = function () {\r\n        var dayGridContainerEl;\r\n        var dayGridEl;\r\n        this.el.addClass('fc-basic-view').html(this.renderSkeletonHtml());\r\n        this.scroller.render();\r\n        dayGridContainerEl = this.scroller.el.addClass('fc-day-grid-container');\r\n        dayGridEl = $('<div class=\"fc-day-grid\" />').appendTo(dayGridContainerEl);\r\n        this.el.find('.fc-body > tr > td').append(dayGridContainerEl);\r\n        this.dayGrid.headContainerEl = this.el.find('.fc-head-container');\r\n        this.dayGrid.setElement(dayGridEl);\r\n    };\r\n    BasicView.prototype.unrenderSkeleton = function () {\r\n        this.dayGrid.removeElement();\r\n        this.scroller.destroy();\r\n    };\r\n    // Builds the HTML skeleton for the view.\r\n    // The day-grid component will render inside of a container defined by this HTML.\r\n    BasicView.prototype.renderSkeletonHtml = function () {\r\n        var theme = this.calendar.theme;\r\n        return '' +\r\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            (this.opt('columnHeader') ?\r\n                '<thead class=\"fc-head\">' +\r\n                    '<tr>' +\r\n                    '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\r\n                    '</tr>' +\r\n                    '</thead>' :\r\n                '') +\r\n            '<tbody class=\"fc-body\">' +\r\n            '<tr>' +\r\n            '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' +\r\n            '</tr>' +\r\n            '</tbody>' +\r\n            '</table>';\r\n    };\r\n    // Generates an HTML attribute string for setting the width of the week number column, if it is known\r\n    BasicView.prototype.weekNumberStyleAttr = function () {\r\n        if (this.weekNumberWidth != null) {\r\n            return 'style=\"width:' + this.weekNumberWidth + 'px\"';\r\n        }\r\n        return '';\r\n    };\r\n    // Determines whether each row should have a constant height\r\n    BasicView.prototype.hasRigidRows = function () {\r\n        var eventLimit = this.opt('eventLimit');\r\n        return eventLimit && typeof eventLimit !== 'number';\r\n    };\r\n    /* Dimensions\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Refreshes the horizontal dimensions of the view\r\n    BasicView.prototype.updateSize = function (totalHeight, isAuto, isResize) {\r\n        var eventLimit = this.opt('eventLimit');\r\n        var headRowEl = this.dayGrid.headContainerEl.find('.fc-row');\r\n        var scrollerHeight;\r\n        var scrollbarWidths;\r\n        // hack to give the view some height prior to dayGrid's columns being rendered\r\n        // TODO: separate setting height from scroller VS dayGrid.\r\n        if (!this.dayGrid.rowEls) {\r\n            if (!isAuto) {\r\n                scrollerHeight = this.computeScrollerHeight(totalHeight);\r\n                this.scroller.setHeight(scrollerHeight);\r\n            }\r\n            return;\r\n        }\r\n        _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\r\n        if (this.dayGrid.colWeekNumbersVisible) {\r\n            // Make sure all week number cells running down the side have the same width.\r\n            // Record the width for cells created later.\r\n            this.weekNumberWidth = util_1.matchCellWidths(this.el.find('.fc-week-number'));\r\n        }\r\n        // reset all heights to be natural\r\n        this.scroller.clear();\r\n        util_1.uncompensateScroll(headRowEl);\r\n        this.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\r\n        // is the event limit a constant level number?\r\n        if (eventLimit && typeof eventLimit === 'number') {\r\n            this.dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\r\n        }\r\n        // distribute the height to the rows\r\n        // (totalHeight is a \"recommended\" value if isAuto)\r\n        scrollerHeight = this.computeScrollerHeight(totalHeight);\r\n        this.setGridHeight(scrollerHeight, isAuto);\r\n        // is the event limit dynamically calculated?\r\n        if (eventLimit && typeof eventLimit !== 'number') {\r\n            this.dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\r\n        }\r\n        if (!isAuto) { // should we force dimensions of the scroll container?\r\n            this.scroller.setHeight(scrollerHeight);\r\n            scrollbarWidths = this.scroller.getScrollbarWidths();\r\n            if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\r\n                util_1.compensateScroll(headRowEl, scrollbarWidths);\r\n                // doing the scrollbar compensation might have created text overflow which created more height. redo\r\n                scrollerHeight = this.computeScrollerHeight(totalHeight);\r\n                this.scroller.setHeight(scrollerHeight);\r\n            }\r\n            // guarantees the same scrollbar widths\r\n            this.scroller.lockOverflow(scrollbarWidths);\r\n        }\r\n    };\r\n    // given a desired total height of the view, returns what the height of the scroller should be\r\n    BasicView.prototype.computeScrollerHeight = function (totalHeight) {\r\n        return totalHeight -\r\n            util_1.subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\r\n    };\r\n    // Sets the height of just the DayGrid component in this view\r\n    BasicView.prototype.setGridHeight = function (height, isAuto) {\r\n        if (isAuto) {\r\n            util_1.undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\r\n        }\r\n        else {\r\n            util_1.distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\r\n        }\r\n    };\r\n    /* Scroll\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    BasicView.prototype.computeInitialDateScroll = function () {\r\n        return { top: 0 };\r\n    };\r\n    BasicView.prototype.queryDateScroll = function () {\r\n        return { top: this.scroller.getScrollTop() };\r\n    };\r\n    BasicView.prototype.applyDateScroll = function (scroll) {\r\n        if (scroll.top !== undefined) {\r\n            this.scroller.setScrollTop(scroll.top);\r\n        }\r\n    };\r\n    return BasicView;\r\n}(View_1.default));\r\nexports.default = BasicView;\r\nBasicView.prototype.dateProfileGeneratorClass = BasicViewDateProfileGenerator_1.default;\r\nBasicView.prototype.dayGridClass = DayGrid_1.default;\r\n// customize the rendering behavior of BasicView's dayGrid\r\nfunction makeDayGridSubclass(SuperClass) {\r\n    return /** @class */ (function (_super) {\r\n        tslib_1.__extends(SubClass, _super);\r\n        function SubClass() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.colWeekNumbersVisible = false; // display week numbers along the side?\r\n            return _this;\r\n        }\r\n        // Generates the HTML that will go before the day-of week header cells\r\n        SubClass.prototype.renderHeadIntroHtml = function () {\r\n            var view = this.view;\r\n            if (this.colWeekNumbersVisible) {\r\n                return '' +\r\n                    '<th class=\"fc-week-number ' + view.calendar.theme.getClass('widgetHeader') + '\" ' + view.weekNumberStyleAttr() + '>' +\r\n                    '<span>' + // needed for matchCellWidths\r\n                    util_1.htmlEscape(this.opt('weekNumberTitle')) +\r\n                    '</span>' +\r\n                    '</th>';\r\n            }\r\n            return '';\r\n        };\r\n        // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\r\n        SubClass.prototype.renderNumberIntroHtml = function (row) {\r\n            var view = this.view;\r\n            var weekStart = this.getCellDate(row, 0);\r\n            if (this.colWeekNumbersVisible) {\r\n                return '' +\r\n                    '<td class=\"fc-week-number\" ' + view.weekNumberStyleAttr() + '>' +\r\n                    view.buildGotoAnchorHtml(// aside from link, important for matchCellWidths\r\n                    { date: weekStart, type: 'week', forceOff: this.colCnt === 1 }, weekStart.format('w') // inner HTML\r\n                    ) +\r\n                    '</td>';\r\n            }\r\n            return '';\r\n        };\r\n        // Generates the HTML that goes before the day bg cells for each day-row\r\n        SubClass.prototype.renderBgIntroHtml = function () {\r\n            var view = this.view;\r\n            if (this.colWeekNumbersVisible) {\r\n                return '<td class=\"fc-week-number ' + view.calendar.theme.getClass('widgetContent') + '\" ' +\r\n                    view.weekNumberStyleAttr() + '></td>';\r\n            }\r\n            return '';\r\n        };\r\n        // Generates the HTML that goes before every other type of row generated by DayGrid.\r\n        // Affects helper-skeleton and highlight-skeleton rows.\r\n        SubClass.prototype.renderIntroHtml = function () {\r\n            var view = this.view;\r\n            if (this.colWeekNumbersVisible) {\r\n                return '<td class=\"fc-week-number\" ' + view.weekNumberStyleAttr() + '></td>';\r\n            }\r\n            return '';\r\n        };\r\n        SubClass.prototype.getIsNumbersVisible = function () {\r\n            return DayGrid_1.default.prototype.getIsNumbersVisible.apply(this, arguments) || this.colWeekNumbersVisible;\r\n        };\r\n        return SubClass;\r\n    }(SuperClass));\r\n}\r\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar DateProfileGenerator_1 = __webpack_require__(55);\r\nvar BasicViewDateProfileGenerator = /** @class */ (function (_super) {\r\n    tslib_1.__extends(BasicViewDateProfileGenerator, _super);\r\n    function BasicViewDateProfileGenerator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Computes the date range that will be rendered.\r\n    BasicViewDateProfileGenerator.prototype.buildRenderRange = function (currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\r\n        var renderUnzonedRange = _super.prototype.buildRenderRange.call(this, currentUnzonedRange, currentRangeUnit, isRangeAllDay); // an UnzonedRange\r\n        var start = this.msToUtcMoment(renderUnzonedRange.startMs, isRangeAllDay);\r\n        var end = this.msToUtcMoment(renderUnzonedRange.endMs, isRangeAllDay);\r\n        // year and month views should be aligned with weeks. this is already done for week\r\n        if (/^(year|month)$/.test(currentRangeUnit)) {\r\n            start.startOf('week');\r\n            // make end-of-week if not already\r\n            if (end.weekday()) {\r\n                end.add(1, 'week').startOf('week'); // exclusively move backwards\r\n            }\r\n        }\r\n        return new UnzonedRange_1.default(start, end);\r\n    };\r\n    return BasicViewDateProfileGenerator;\r\n}(DateProfileGenerator_1.default));\r\nexports.default = BasicViewDateProfileGenerator;\r\n\n\n/***/ }),\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nvar EventDefParser_1 = __webpack_require__(36);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar util_1 = __webpack_require__(19);\r\nvar Constraints = /** @class */ (function () {\r\n    function Constraints(eventManager, _calendar) {\r\n        this.eventManager = eventManager;\r\n        this._calendar = _calendar;\r\n    }\r\n    Constraints.prototype.opt = function (name) {\r\n        return this._calendar.opt(name);\r\n    };\r\n    /*\r\n    determines if eventInstanceGroup is allowed,\r\n    in relation to other EVENTS and business hours.\r\n    */\r\n    Constraints.prototype.isEventInstanceGroupAllowed = function (eventInstanceGroup) {\r\n        var eventDef = eventInstanceGroup.getEventDef();\r\n        var eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges());\r\n        var i;\r\n        var peerEventInstances = this.getPeerEventInstances(eventDef);\r\n        var peerEventRanges = peerEventInstances.map(util_1.eventInstanceToEventRange);\r\n        var peerEventFootprints = this.eventRangesToEventFootprints(peerEventRanges);\r\n        var constraintVal = eventDef.getConstraint();\r\n        var overlapVal = eventDef.getOverlap();\r\n        var eventAllowFunc = this.opt('eventAllow');\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            if (!this.isFootprintAllowed(eventFootprints[i].componentFootprint, peerEventFootprints, constraintVal, overlapVal, eventFootprints[i].eventInstance)) {\r\n                return false;\r\n            }\r\n        }\r\n        if (eventAllowFunc) {\r\n            for (i = 0; i < eventFootprints.length; i++) {\r\n                if (eventAllowFunc(eventFootprints[i].componentFootprint.toLegacy(this._calendar), eventFootprints[i].getEventLegacy()) === false) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Constraints.prototype.getPeerEventInstances = function (eventDef) {\r\n        return this.eventManager.getEventInstancesWithoutId(eventDef.id);\r\n    };\r\n    Constraints.prototype.isSelectionFootprintAllowed = function (componentFootprint) {\r\n        var peerEventInstances = this.eventManager.getEventInstances();\r\n        var peerEventRanges = peerEventInstances.map(util_1.eventInstanceToEventRange);\r\n        var peerEventFootprints = this.eventRangesToEventFootprints(peerEventRanges);\r\n        var selectAllowFunc;\r\n        if (this.isFootprintAllowed(componentFootprint, peerEventFootprints, this.opt('selectConstraint'), this.opt('selectOverlap'))) {\r\n            selectAllowFunc = this.opt('selectAllow');\r\n            if (selectAllowFunc) {\r\n                return selectAllowFunc(componentFootprint.toLegacy(this._calendar)) !== false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Constraints.prototype.isFootprintAllowed = function (componentFootprint, peerEventFootprints, constraintVal, overlapVal, subjectEventInstance // optional\r\n    ) {\r\n        var constraintFootprints; // ComponentFootprint[]\r\n        var overlapEventFootprints; // EventFootprint[]\r\n        if (constraintVal != null) {\r\n            constraintFootprints = this.constraintValToFootprints(constraintVal, componentFootprint.isAllDay);\r\n            if (!this.isFootprintWithinConstraints(componentFootprint, constraintFootprints)) {\r\n                return false;\r\n            }\r\n        }\r\n        overlapEventFootprints = this.collectOverlapEventFootprints(peerEventFootprints, componentFootprint);\r\n        if (overlapVal === false) {\r\n            if (overlapEventFootprints.length) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (typeof overlapVal === 'function') {\r\n            if (!isOverlapsAllowedByFunc(overlapEventFootprints, overlapVal, subjectEventInstance)) {\r\n                return false;\r\n            }\r\n        }\r\n        if (subjectEventInstance) {\r\n            if (!isOverlapEventInstancesAllowed(overlapEventFootprints, subjectEventInstance)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    // Constraint\r\n    // ------------------------------------------------------------------------------------------------\r\n    Constraints.prototype.isFootprintWithinConstraints = function (componentFootprint, constraintFootprints) {\r\n        var i;\r\n        for (i = 0; i < constraintFootprints.length; i++) {\r\n            if (this.footprintContainsFootprint(constraintFootprints[i], componentFootprint)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Constraints.prototype.constraintValToFootprints = function (constraintVal, isAllDay) {\r\n        var eventInstances;\r\n        if (constraintVal === 'businessHours') {\r\n            return this.buildCurrentBusinessFootprints(isAllDay);\r\n        }\r\n        else if (typeof constraintVal === 'object') {\r\n            eventInstances = this.parseEventDefToInstances(constraintVal); // handles recurring events\r\n            if (!eventInstances) { // invalid input. fallback to parsing footprint directly\r\n                return this.parseFootprints(constraintVal);\r\n            }\r\n            else {\r\n                return this.eventInstancesToFootprints(eventInstances);\r\n            }\r\n        }\r\n        else if (constraintVal != null) { // an ID\r\n            eventInstances = this.eventManager.getEventInstancesWithId(constraintVal);\r\n            return this.eventInstancesToFootprints(eventInstances);\r\n        }\r\n    };\r\n    // returns ComponentFootprint[]\r\n    // uses current view's range\r\n    Constraints.prototype.buildCurrentBusinessFootprints = function (isAllDay) {\r\n        var view = this._calendar.view;\r\n        var businessHourGenerator = view.get('businessHourGenerator');\r\n        var unzonedRange = view.dateProfile.activeUnzonedRange;\r\n        var eventInstanceGroup = businessHourGenerator.buildEventInstanceGroup(isAllDay, unzonedRange);\r\n        if (eventInstanceGroup) {\r\n            return this.eventInstancesToFootprints(eventInstanceGroup.eventInstances);\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    };\r\n    // conversion util\r\n    Constraints.prototype.eventInstancesToFootprints = function (eventInstances) {\r\n        var eventRanges = eventInstances.map(util_1.eventInstanceToEventRange);\r\n        var eventFootprints = this.eventRangesToEventFootprints(eventRanges);\r\n        return eventFootprints.map(util_1.eventFootprintToComponentFootprint);\r\n    };\r\n    // Overlap\r\n    // ------------------------------------------------------------------------------------------------\r\n    Constraints.prototype.collectOverlapEventFootprints = function (peerEventFootprints, targetFootprint) {\r\n        var overlapEventFootprints = [];\r\n        var i;\r\n        for (i = 0; i < peerEventFootprints.length; i++) {\r\n            if (this.footprintsIntersect(targetFootprint, peerEventFootprints[i].componentFootprint)) {\r\n                overlapEventFootprints.push(peerEventFootprints[i]);\r\n            }\r\n        }\r\n        return overlapEventFootprints;\r\n    };\r\n    // Conversion: eventDefs -> eventInstances -> eventRanges -> eventFootprints -> componentFootprints\r\n    // ------------------------------------------------------------------------------------------------\r\n    // NOTE: this might seem like repetitive code with the Grid class, however, this code is related to\r\n    // constraints whereas the Grid code is related to rendering. Each approach might want to convert\r\n    // eventRanges -> eventFootprints in a different way. Regardless, there are opportunities to make\r\n    // this more DRY.\r\n    /*\r\n    Returns false on invalid input.\r\n    */\r\n    Constraints.prototype.parseEventDefToInstances = function (eventInput) {\r\n        var eventManager = this.eventManager;\r\n        var eventDef = EventDefParser_1.default.parse(eventInput, new EventSource_1.default(this._calendar));\r\n        if (!eventDef) { // invalid\r\n            return false;\r\n        }\r\n        return eventDef.buildInstances(eventManager.currentPeriod.unzonedRange);\r\n    };\r\n    Constraints.prototype.eventRangesToEventFootprints = function (eventRanges) {\r\n        var i;\r\n        var eventFootprints = [];\r\n        for (i = 0; i < eventRanges.length; i++) {\r\n            eventFootprints.push.apply(// footprints\r\n            eventFootprints, this.eventRangeToEventFootprints(eventRanges[i]));\r\n        }\r\n        return eventFootprints;\r\n    };\r\n    Constraints.prototype.eventRangeToEventFootprints = function (eventRange) {\r\n        return [util_1.eventRangeToEventFootprint(eventRange)];\r\n    };\r\n    /*\r\n    Parses footprints directly.\r\n    Very similar to EventDateProfile::parse :(\r\n    */\r\n    Constraints.prototype.parseFootprints = function (rawInput) {\r\n        var start;\r\n        var end;\r\n        if (rawInput.start) {\r\n            start = this._calendar.moment(rawInput.start);\r\n            if (!start.isValid()) {\r\n                start = null;\r\n            }\r\n        }\r\n        if (rawInput.end) {\r\n            end = this._calendar.moment(rawInput.end);\r\n            if (!end.isValid()) {\r\n                end = null;\r\n            }\r\n        }\r\n        return [\r\n            new ComponentFootprint_1.default(new UnzonedRange_1.default(start, end), (start && !start.hasTime()) || (end && !end.hasTime()) // isAllDay\r\n            )\r\n        ];\r\n    };\r\n    // Footprint Utils\r\n    // ----------------------------------------------------------------------------------------\r\n    Constraints.prototype.footprintContainsFootprint = function (outerFootprint, innerFootprint) {\r\n        return outerFootprint.unzonedRange.containsRange(innerFootprint.unzonedRange);\r\n    };\r\n    Constraints.prototype.footprintsIntersect = function (footprint0, footprint1) {\r\n        return footprint0.unzonedRange.intersectsWith(footprint1.unzonedRange);\r\n    };\r\n    return Constraints;\r\n}());\r\nexports.default = Constraints;\r\n// optional subjectEventInstance\r\nfunction isOverlapsAllowedByFunc(overlapEventFootprints, overlapFunc, subjectEventInstance) {\r\n    var i;\r\n    for (i = 0; i < overlapEventFootprints.length; i++) {\r\n        if (!overlapFunc(overlapEventFootprints[i].eventInstance.toLegacy(), subjectEventInstance ? subjectEventInstance.toLegacy() : null)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction isOverlapEventInstancesAllowed(overlapEventFootprints, subjectEventInstance) {\r\n    var subjectLegacyInstance = subjectEventInstance.toLegacy();\r\n    var i;\r\n    var overlapEventInstance;\r\n    var overlapEventDef;\r\n    var overlapVal;\r\n    for (i = 0; i < overlapEventFootprints.length; i++) {\r\n        overlapEventInstance = overlapEventFootprints[i].eventInstance;\r\n        overlapEventDef = overlapEventInstance.def;\r\n        // don't need to pass in calendar, because don't want to consider global eventOverlap property,\r\n        // because we already considered that earlier in the process.\r\n        overlapVal = overlapEventDef.getOverlap();\r\n        if (overlapVal === false) {\r\n            return false;\r\n        }\r\n        else if (typeof overlapVal === 'function') {\r\n            if (!overlapVal(overlapEventInstance.toLegacy(), subjectLegacyInstance)) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\n\n/***/ }),\n/* 218 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(19);\r\nvar EventInstanceGroup_1 = __webpack_require__(20);\r\nvar RecurringEventDef_1 = __webpack_require__(54);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar BUSINESS_HOUR_EVENT_DEFAULTS = {\r\n    start: '09:00',\r\n    end: '17:00',\r\n    dow: [1, 2, 3, 4, 5],\r\n    rendering: 'inverse-background'\r\n    // classNames are defined in businessHoursSegClasses\r\n};\r\nvar BusinessHourGenerator = /** @class */ (function () {\r\n    function BusinessHourGenerator(rawComplexDef, calendar) {\r\n        this.rawComplexDef = rawComplexDef;\r\n        this.calendar = calendar;\r\n    }\r\n    BusinessHourGenerator.prototype.buildEventInstanceGroup = function (isAllDay, unzonedRange) {\r\n        var eventDefs = this.buildEventDefs(isAllDay);\r\n        var eventInstanceGroup;\r\n        if (eventDefs.length) {\r\n            eventInstanceGroup = new EventInstanceGroup_1.default(util_1.eventDefsToEventInstances(eventDefs, unzonedRange));\r\n            // so that inverse-background rendering can happen even when no eventRanges in view\r\n            eventInstanceGroup.explicitEventDef = eventDefs[0];\r\n            return eventInstanceGroup;\r\n        }\r\n    };\r\n    BusinessHourGenerator.prototype.buildEventDefs = function (isAllDay) {\r\n        var rawComplexDef = this.rawComplexDef;\r\n        var rawDefs = [];\r\n        var requireDow = false;\r\n        var i;\r\n        var defs = [];\r\n        if (rawComplexDef === true) {\r\n            rawDefs = [{}]; // will get BUSINESS_HOUR_EVENT_DEFAULTS verbatim\r\n        }\r\n        else if ($.isPlainObject(rawComplexDef)) {\r\n            rawDefs = [rawComplexDef];\r\n        }\r\n        else if ($.isArray(rawComplexDef)) {\r\n            rawDefs = rawComplexDef;\r\n            requireDow = true; // every sub-definition NEEDS a day-of-week\r\n        }\r\n        for (i = 0; i < rawDefs.length; i++) {\r\n            if (!requireDow || rawDefs[i].dow) {\r\n                defs.push(this.buildEventDef(isAllDay, rawDefs[i]));\r\n            }\r\n        }\r\n        return defs;\r\n    };\r\n    BusinessHourGenerator.prototype.buildEventDef = function (isAllDay, rawDef) {\r\n        var fullRawDef = $.extend({}, BUSINESS_HOUR_EVENT_DEFAULTS, rawDef);\r\n        if (isAllDay) {\r\n            fullRawDef.start = null;\r\n            fullRawDef.end = null;\r\n        }\r\n        return RecurringEventDef_1.default.parse(fullRawDef, new EventSource_1.default(this.calendar) // dummy source\r\n        );\r\n    };\r\n    return BusinessHourGenerator;\r\n}());\r\nexports.default = BusinessHourGenerator;\r\n\n\n/***/ }),\n/* 219 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar Promise_1 = __webpack_require__(21);\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar EventInstanceGroup_1 = __webpack_require__(20);\r\nvar EventPeriod = /** @class */ (function () {\r\n    function EventPeriod(start, end, timezone) {\r\n        this.pendingCnt = 0;\r\n        this.freezeDepth = 0;\r\n        this.stuntedReleaseCnt = 0;\r\n        this.releaseCnt = 0;\r\n        this.start = start;\r\n        this.end = end;\r\n        this.timezone = timezone;\r\n        this.unzonedRange = new UnzonedRange_1.default(start.clone().stripZone(), end.clone().stripZone());\r\n        this.requestsByUid = {};\r\n        this.eventDefsByUid = {};\r\n        this.eventDefsById = {};\r\n        this.eventInstanceGroupsById = {};\r\n    }\r\n    EventPeriod.prototype.isWithinRange = function (start, end) {\r\n        // TODO: use a range util function?\r\n        return !start.isBefore(this.start) && !end.isAfter(this.end);\r\n    };\r\n    // Requesting and Purging\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventPeriod.prototype.requestSources = function (sources) {\r\n        this.freeze();\r\n        for (var i = 0; i < sources.length; i++) {\r\n            this.requestSource(sources[i]);\r\n        }\r\n        this.thaw();\r\n    };\r\n    EventPeriod.prototype.requestSource = function (source) {\r\n        var _this = this;\r\n        var request = { source: source, status: 'pending', eventDefs: null };\r\n        this.requestsByUid[source.uid] = request;\r\n        this.pendingCnt += 1;\r\n        source.fetch(this.start, this.end, this.timezone).then(function (eventDefs) {\r\n            if (request.status !== 'cancelled') {\r\n                request.status = 'completed';\r\n                request.eventDefs = eventDefs;\r\n                _this.addEventDefs(eventDefs);\r\n                _this.pendingCnt--;\r\n                _this.tryRelease();\r\n            }\r\n        }, function () {\r\n            if (request.status !== 'cancelled') {\r\n                request.status = 'failed';\r\n                _this.pendingCnt--;\r\n                _this.tryRelease();\r\n            }\r\n        });\r\n    };\r\n    EventPeriod.prototype.purgeSource = function (source) {\r\n        var request = this.requestsByUid[source.uid];\r\n        if (request) {\r\n            delete this.requestsByUid[source.uid];\r\n            if (request.status === 'pending') {\r\n                request.status = 'cancelled';\r\n                this.pendingCnt--;\r\n                this.tryRelease();\r\n            }\r\n            else if (request.status === 'completed') {\r\n                request.eventDefs.forEach(this.removeEventDef.bind(this));\r\n            }\r\n        }\r\n    };\r\n    EventPeriod.prototype.purgeAllSources = function () {\r\n        var requestsByUid = this.requestsByUid;\r\n        var uid;\r\n        var request;\r\n        var completedCnt = 0;\r\n        for (uid in requestsByUid) {\r\n            request = requestsByUid[uid];\r\n            if (request.status === 'pending') {\r\n                request.status = 'cancelled';\r\n            }\r\n            else if (request.status === 'completed') {\r\n                completedCnt++;\r\n            }\r\n        }\r\n        this.requestsByUid = {};\r\n        this.pendingCnt = 0;\r\n        if (completedCnt) {\r\n            this.removeAllEventDefs(); // might release\r\n        }\r\n    };\r\n    // Event Definitions\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventPeriod.prototype.getEventDefByUid = function (eventDefUid) {\r\n        return this.eventDefsByUid[eventDefUid];\r\n    };\r\n    EventPeriod.prototype.getEventDefsById = function (eventDefId) {\r\n        var a = this.eventDefsById[eventDefId];\r\n        if (a) {\r\n            return a.slice(); // clone\r\n        }\r\n        return [];\r\n    };\r\n    EventPeriod.prototype.addEventDefs = function (eventDefs) {\r\n        for (var i = 0; i < eventDefs.length; i++) {\r\n            this.addEventDef(eventDefs[i]);\r\n        }\r\n    };\r\n    EventPeriod.prototype.addEventDef = function (eventDef) {\r\n        var eventDefsById = this.eventDefsById;\r\n        var eventDefId = eventDef.id;\r\n        var eventDefs = eventDefsById[eventDefId] || (eventDefsById[eventDefId] = []);\r\n        var eventInstances = eventDef.buildInstances(this.unzonedRange);\r\n        var i;\r\n        eventDefs.push(eventDef);\r\n        this.eventDefsByUid[eventDef.uid] = eventDef;\r\n        for (i = 0; i < eventInstances.length; i++) {\r\n            this.addEventInstance(eventInstances[i], eventDefId);\r\n        }\r\n    };\r\n    EventPeriod.prototype.removeEventDefsById = function (eventDefId) {\r\n        var _this = this;\r\n        this.getEventDefsById(eventDefId).forEach(function (eventDef) {\r\n            _this.removeEventDef(eventDef);\r\n        });\r\n    };\r\n    EventPeriod.prototype.removeAllEventDefs = function () {\r\n        var isEmpty = $.isEmptyObject(this.eventDefsByUid);\r\n        this.eventDefsByUid = {};\r\n        this.eventDefsById = {};\r\n        this.eventInstanceGroupsById = {};\r\n        if (!isEmpty) {\r\n            this.tryRelease();\r\n        }\r\n    };\r\n    EventPeriod.prototype.removeEventDef = function (eventDef) {\r\n        var eventDefsById = this.eventDefsById;\r\n        var eventDefs = eventDefsById[eventDef.id];\r\n        delete this.eventDefsByUid[eventDef.uid];\r\n        if (eventDefs) {\r\n            util_1.removeExact(eventDefs, eventDef);\r\n            if (!eventDefs.length) {\r\n                delete eventDefsById[eventDef.id];\r\n            }\r\n            this.removeEventInstancesForDef(eventDef);\r\n        }\r\n    };\r\n    // Event Instances\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventPeriod.prototype.getEventInstances = function () {\r\n        var eventInstanceGroupsById = this.eventInstanceGroupsById;\r\n        var eventInstances = [];\r\n        var id;\r\n        for (id in eventInstanceGroupsById) {\r\n            eventInstances.push.apply(eventInstances, // append\r\n            eventInstanceGroupsById[id].eventInstances);\r\n        }\r\n        return eventInstances;\r\n    };\r\n    EventPeriod.prototype.getEventInstancesWithId = function (eventDefId) {\r\n        var eventInstanceGroup = this.eventInstanceGroupsById[eventDefId];\r\n        if (eventInstanceGroup) {\r\n            return eventInstanceGroup.eventInstances.slice(); // clone\r\n        }\r\n        return [];\r\n    };\r\n    EventPeriod.prototype.getEventInstancesWithoutId = function (eventDefId) {\r\n        var eventInstanceGroupsById = this.eventInstanceGroupsById;\r\n        var matchingInstances = [];\r\n        var id;\r\n        for (id in eventInstanceGroupsById) {\r\n            if (id !== eventDefId) {\r\n                matchingInstances.push.apply(matchingInstances, // append\r\n                eventInstanceGroupsById[id].eventInstances);\r\n            }\r\n        }\r\n        return matchingInstances;\r\n    };\r\n    EventPeriod.prototype.addEventInstance = function (eventInstance, eventDefId) {\r\n        var eventInstanceGroupsById = this.eventInstanceGroupsById;\r\n        var eventInstanceGroup = eventInstanceGroupsById[eventDefId] ||\r\n            (eventInstanceGroupsById[eventDefId] = new EventInstanceGroup_1.default());\r\n        eventInstanceGroup.eventInstances.push(eventInstance);\r\n        this.tryRelease();\r\n    };\r\n    EventPeriod.prototype.removeEventInstancesForDef = function (eventDef) {\r\n        var eventInstanceGroupsById = this.eventInstanceGroupsById;\r\n        var eventInstanceGroup = eventInstanceGroupsById[eventDef.id];\r\n        var removeCnt;\r\n        if (eventInstanceGroup) {\r\n            removeCnt = util_1.removeMatching(eventInstanceGroup.eventInstances, function (currentEventInstance) {\r\n                return currentEventInstance.def === eventDef;\r\n            });\r\n            if (!eventInstanceGroup.eventInstances.length) {\r\n                delete eventInstanceGroupsById[eventDef.id];\r\n            }\r\n            if (removeCnt) {\r\n                this.tryRelease();\r\n            }\r\n        }\r\n    };\r\n    // Releasing and Freezing\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventPeriod.prototype.tryRelease = function () {\r\n        if (!this.pendingCnt) {\r\n            if (!this.freezeDepth) {\r\n                this.release();\r\n            }\r\n            else {\r\n                this.stuntedReleaseCnt++;\r\n            }\r\n        }\r\n    };\r\n    EventPeriod.prototype.release = function () {\r\n        this.releaseCnt++;\r\n        this.trigger('release', this.eventInstanceGroupsById);\r\n    };\r\n    EventPeriod.prototype.whenReleased = function () {\r\n        var _this = this;\r\n        if (this.releaseCnt) {\r\n            return Promise_1.default.resolve(this.eventInstanceGroupsById);\r\n        }\r\n        else {\r\n            return Promise_1.default.construct(function (onResolve) {\r\n                _this.one('release', onResolve);\r\n            });\r\n        }\r\n    };\r\n    EventPeriod.prototype.freeze = function () {\r\n        if (!(this.freezeDepth++)) {\r\n            this.stuntedReleaseCnt = 0;\r\n        }\r\n    };\r\n    EventPeriod.prototype.thaw = function () {\r\n        if (!(--this.freezeDepth) && this.stuntedReleaseCnt && !this.pendingCnt) {\r\n            this.release();\r\n        }\r\n    };\r\n    return EventPeriod;\r\n}());\r\nexports.default = EventPeriod;\r\nEmitterMixin_1.default.mixInto(EventPeriod);\r\n\n\n/***/ }),\n/* 220 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventPeriod_1 = __webpack_require__(219);\r\nvar ArrayEventSource_1 = __webpack_require__(56);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar EventSourceParser_1 = __webpack_require__(38);\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar EventInstanceGroup_1 = __webpack_require__(20);\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nvar EventManager = /** @class */ (function () {\r\n    function EventManager(calendar) {\r\n        this.calendar = calendar;\r\n        this.stickySource = new ArrayEventSource_1.default(calendar);\r\n        this.otherSources = [];\r\n    }\r\n    EventManager.prototype.requestEvents = function (start, end, timezone, force) {\r\n        if (force ||\r\n            !this.currentPeriod ||\r\n            !this.currentPeriod.isWithinRange(start, end) ||\r\n            timezone !== this.currentPeriod.timezone) {\r\n            this.setPeriod(// will change this.currentPeriod\r\n            new EventPeriod_1.default(start, end, timezone));\r\n        }\r\n        return this.currentPeriod.whenReleased();\r\n    };\r\n    // Source Adding/Removing\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventManager.prototype.addSource = function (eventSource) {\r\n        this.otherSources.push(eventSource);\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.requestSource(eventSource); // might release\r\n        }\r\n    };\r\n    EventManager.prototype.removeSource = function (doomedSource) {\r\n        util_1.removeExact(this.otherSources, doomedSource);\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.purgeSource(doomedSource); // might release\r\n        }\r\n    };\r\n    EventManager.prototype.removeAllSources = function () {\r\n        this.otherSources = [];\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.purgeAllSources(); // might release\r\n        }\r\n    };\r\n    // Source Refetching\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventManager.prototype.refetchSource = function (eventSource) {\r\n        var currentPeriod = this.currentPeriod;\r\n        if (currentPeriod) {\r\n            currentPeriod.freeze();\r\n            currentPeriod.purgeSource(eventSource);\r\n            currentPeriod.requestSource(eventSource);\r\n            currentPeriod.thaw();\r\n        }\r\n    };\r\n    EventManager.prototype.refetchAllSources = function () {\r\n        var currentPeriod = this.currentPeriod;\r\n        if (currentPeriod) {\r\n            currentPeriod.freeze();\r\n            currentPeriod.purgeAllSources();\r\n            currentPeriod.requestSources(this.getSources());\r\n            currentPeriod.thaw();\r\n        }\r\n    };\r\n    // Source Querying\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventManager.prototype.getSources = function () {\r\n        return [this.stickySource].concat(this.otherSources);\r\n    };\r\n    // like querySources, but accepts multple match criteria (like multiple IDs)\r\n    EventManager.prototype.multiQuerySources = function (matchInputs) {\r\n        // coerce into an array\r\n        if (!matchInputs) {\r\n            matchInputs = [];\r\n        }\r\n        else if (!$.isArray(matchInputs)) {\r\n            matchInputs = [matchInputs];\r\n        }\r\n        var matchingSources = [];\r\n        var i;\r\n        // resolve raw inputs to real event source objects\r\n        for (i = 0; i < matchInputs.length; i++) {\r\n            matchingSources.push.apply(// append\r\n            matchingSources, this.querySources(matchInputs[i]));\r\n        }\r\n        return matchingSources;\r\n    };\r\n    // matchInput can either by a real event source object, an ID, or the function/URL for the source.\r\n    // returns an array of matching source objects.\r\n    EventManager.prototype.querySources = function (matchInput) {\r\n        var sources = this.otherSources;\r\n        var i;\r\n        var source;\r\n        // given a proper event source object\r\n        for (i = 0; i < sources.length; i++) {\r\n            source = sources[i];\r\n            if (source === matchInput) {\r\n                return [source];\r\n            }\r\n        }\r\n        // an ID match\r\n        source = this.getSourceById(EventSource_1.default.normalizeId(matchInput));\r\n        if (source) {\r\n            return [source];\r\n        }\r\n        // parse as an event source\r\n        matchInput = EventSourceParser_1.default.parse(matchInput, this.calendar);\r\n        if (matchInput) {\r\n            return $.grep(sources, function (source) {\r\n                return isSourcesEquivalent(matchInput, source);\r\n            });\r\n        }\r\n    };\r\n    /*\r\n    ID assumed to already be normalized\r\n    */\r\n    EventManager.prototype.getSourceById = function (id) {\r\n        return $.grep(this.otherSources, function (source) {\r\n            return source.id && source.id === id;\r\n        })[0];\r\n    };\r\n    // Event-Period\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventManager.prototype.setPeriod = function (eventPeriod) {\r\n        if (this.currentPeriod) {\r\n            this.unbindPeriod(this.currentPeriod);\r\n            this.currentPeriod = null;\r\n        }\r\n        this.currentPeriod = eventPeriod;\r\n        this.bindPeriod(eventPeriod);\r\n        eventPeriod.requestSources(this.getSources());\r\n    };\r\n    EventManager.prototype.bindPeriod = function (eventPeriod) {\r\n        this.listenTo(eventPeriod, 'release', function (eventsPayload) {\r\n            this.trigger('release', eventsPayload);\r\n        });\r\n    };\r\n    EventManager.prototype.unbindPeriod = function (eventPeriod) {\r\n        this.stopListeningTo(eventPeriod);\r\n    };\r\n    // Event Getting/Adding/Removing\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventManager.prototype.getEventDefByUid = function (uid) {\r\n        if (this.currentPeriod) {\r\n            return this.currentPeriod.getEventDefByUid(uid);\r\n        }\r\n    };\r\n    EventManager.prototype.addEventDef = function (eventDef, isSticky) {\r\n        if (isSticky) {\r\n            this.stickySource.addEventDef(eventDef);\r\n        }\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.addEventDef(eventDef); // might release\r\n        }\r\n    };\r\n    EventManager.prototype.removeEventDefsById = function (eventId) {\r\n        this.getSources().forEach(function (eventSource) {\r\n            eventSource.removeEventDefsById(eventId);\r\n        });\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.removeEventDefsById(eventId); // might release\r\n        }\r\n    };\r\n    EventManager.prototype.removeAllEventDefs = function () {\r\n        this.getSources().forEach(function (eventSource) {\r\n            eventSource.removeAllEventDefs();\r\n        });\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.removeAllEventDefs();\r\n        }\r\n    };\r\n    // Event Mutating\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    /*\r\n    Returns an undo function.\r\n    */\r\n    EventManager.prototype.mutateEventsWithId = function (eventDefId, eventDefMutation) {\r\n        var currentPeriod = this.currentPeriod;\r\n        var eventDefs;\r\n        var undoFuncs = [];\r\n        if (currentPeriod) {\r\n            currentPeriod.freeze();\r\n            eventDefs = currentPeriod.getEventDefsById(eventDefId);\r\n            eventDefs.forEach(function (eventDef) {\r\n                // add/remove esp because id might change\r\n                currentPeriod.removeEventDef(eventDef);\r\n                undoFuncs.push(eventDefMutation.mutateSingle(eventDef));\r\n                currentPeriod.addEventDef(eventDef);\r\n            });\r\n            currentPeriod.thaw();\r\n            return function () {\r\n                currentPeriod.freeze();\r\n                for (var i = 0; i < eventDefs.length; i++) {\r\n                    currentPeriod.removeEventDef(eventDefs[i]);\r\n                    undoFuncs[i]();\r\n                    currentPeriod.addEventDef(eventDefs[i]);\r\n                }\r\n                currentPeriod.thaw();\r\n            };\r\n        }\r\n        return function () { };\r\n    };\r\n    /*\r\n    copies and then mutates\r\n    */\r\n    EventManager.prototype.buildMutatedEventInstanceGroup = function (eventDefId, eventDefMutation) {\r\n        var eventDefs = this.getEventDefsById(eventDefId);\r\n        var i;\r\n        var defCopy;\r\n        var allInstances = [];\r\n        for (i = 0; i < eventDefs.length; i++) {\r\n            defCopy = eventDefs[i].clone();\r\n            if (defCopy instanceof SingleEventDef_1.default) {\r\n                eventDefMutation.mutateSingle(defCopy);\r\n                allInstances.push.apply(allInstances, // append\r\n                defCopy.buildInstances());\r\n            }\r\n        }\r\n        return new EventInstanceGroup_1.default(allInstances);\r\n    };\r\n    // Freezing\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    EventManager.prototype.freeze = function () {\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.freeze();\r\n        }\r\n    };\r\n    EventManager.prototype.thaw = function () {\r\n        if (this.currentPeriod) {\r\n            this.currentPeriod.thaw();\r\n        }\r\n    };\r\n    // methods that simply forward to EventPeriod\r\n    EventManager.prototype.getEventDefsById = function (eventDefId) {\r\n        return this.currentPeriod.getEventDefsById(eventDefId);\r\n    };\r\n    EventManager.prototype.getEventInstances = function () {\r\n        return this.currentPeriod.getEventInstances();\r\n    };\r\n    EventManager.prototype.getEventInstancesWithId = function (eventDefId) {\r\n        return this.currentPeriod.getEventInstancesWithId(eventDefId);\r\n    };\r\n    EventManager.prototype.getEventInstancesWithoutId = function (eventDefId) {\r\n        return this.currentPeriod.getEventInstancesWithoutId(eventDefId);\r\n    };\r\n    return EventManager;\r\n}());\r\nexports.default = EventManager;\r\nEmitterMixin_1.default.mixInto(EventManager);\r\nListenerMixin_1.default.mixInto(EventManager);\r\nfunction isSourcesEquivalent(source0, source1) {\r\n    return source0.getPrimitive() === source1.getPrimitive();\r\n}\r\n\n\n/***/ }),\n/* 221 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Theme_1 = __webpack_require__(22);\r\nvar StandardTheme = /** @class */ (function (_super) {\r\n    tslib_1.__extends(StandardTheme, _super);\r\n    function StandardTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return StandardTheme;\r\n}(Theme_1.default));\r\nexports.default = StandardTheme;\r\nStandardTheme.prototype.classes = {\r\n    widget: 'fc-unthemed',\r\n    widgetHeader: 'fc-widget-header',\r\n    widgetContent: 'fc-widget-content',\r\n    buttonGroup: 'fc-button-group',\r\n    button: 'fc-button',\r\n    cornerLeft: 'fc-corner-left',\r\n    cornerRight: 'fc-corner-right',\r\n    stateDefault: 'fc-state-default',\r\n    stateActive: 'fc-state-active',\r\n    stateDisabled: 'fc-state-disabled',\r\n    stateHover: 'fc-state-hover',\r\n    stateDown: 'fc-state-down',\r\n    popoverHeader: 'fc-widget-header',\r\n    popoverContent: 'fc-widget-content',\r\n    // day grid\r\n    headerRow: 'fc-widget-header',\r\n    dayRow: 'fc-widget-content',\r\n    // list view\r\n    listView: 'fc-widget-content'\r\n};\r\nStandardTheme.prototype.baseIconClass = 'fc-icon';\r\nStandardTheme.prototype.iconClasses = {\r\n    close: 'fc-icon-x',\r\n    prev: 'fc-icon-left-single-arrow',\r\n    next: 'fc-icon-right-single-arrow',\r\n    prevYear: 'fc-icon-left-double-arrow',\r\n    nextYear: 'fc-icon-right-double-arrow'\r\n};\r\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons';\r\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\r\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\r\n\n\n/***/ }),\n/* 222 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Theme_1 = __webpack_require__(22);\r\nvar JqueryUiTheme = /** @class */ (function (_super) {\r\n    tslib_1.__extends(JqueryUiTheme, _super);\r\n    function JqueryUiTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return JqueryUiTheme;\r\n}(Theme_1.default));\r\nexports.default = JqueryUiTheme;\r\nJqueryUiTheme.prototype.classes = {\r\n    widget: 'ui-widget',\r\n    widgetHeader: 'ui-widget-header',\r\n    widgetContent: 'ui-widget-content',\r\n    buttonGroup: 'fc-button-group',\r\n    button: 'ui-button',\r\n    cornerLeft: 'ui-corner-left',\r\n    cornerRight: 'ui-corner-right',\r\n    stateDefault: 'ui-state-default',\r\n    stateActive: 'ui-state-active',\r\n    stateDisabled: 'ui-state-disabled',\r\n    stateHover: 'ui-state-hover',\r\n    stateDown: 'ui-state-down',\r\n    today: 'ui-state-highlight',\r\n    popoverHeader: 'ui-widget-header',\r\n    popoverContent: 'ui-widget-content',\r\n    // day grid\r\n    headerRow: 'ui-widget-header',\r\n    dayRow: 'ui-widget-content',\r\n    // list view\r\n    listView: 'ui-widget-content'\r\n};\r\nJqueryUiTheme.prototype.baseIconClass = 'ui-icon';\r\nJqueryUiTheme.prototype.iconClasses = {\r\n    close: 'ui-icon-closethick',\r\n    prev: 'ui-icon-circle-triangle-w',\r\n    next: 'ui-icon-circle-triangle-e',\r\n    prevYear: 'ui-icon-seek-prev',\r\n    nextYear: 'ui-icon-seek-next'\r\n};\r\nJqueryUiTheme.prototype.iconOverrideOption = 'themeButtonIcons';\r\nJqueryUiTheme.prototype.iconOverrideCustomButtonOption = 'themeIcon';\r\nJqueryUiTheme.prototype.iconOverridePrefix = 'ui-icon-';\r\n\n\n/***/ }),\n/* 223 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar Promise_1 = __webpack_require__(21);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar FuncEventSource = /** @class */ (function (_super) {\r\n    tslib_1.__extends(FuncEventSource, _super);\r\n    function FuncEventSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FuncEventSource.parse = function (rawInput, calendar) {\r\n        var rawProps;\r\n        // normalize raw input\r\n        if ($.isFunction(rawInput.events)) { // extended form\r\n            rawProps = rawInput;\r\n        }\r\n        else if ($.isFunction(rawInput)) { // short form\r\n            rawProps = { events: rawInput };\r\n        }\r\n        if (rawProps) {\r\n            return EventSource_1.default.parse.call(this, rawProps, calendar);\r\n        }\r\n        return false;\r\n    };\r\n    FuncEventSource.prototype.fetch = function (start, end, timezone) {\r\n        var _this = this;\r\n        this.calendar.pushLoading();\r\n        return Promise_1.default.construct(function (onResolve) {\r\n            _this.func.call(_this.calendar, start.clone(), end.clone(), timezone, function (rawEventDefs) {\r\n                _this.calendar.popLoading();\r\n                onResolve(_this.parseEventDefs(rawEventDefs));\r\n            });\r\n        });\r\n    };\r\n    FuncEventSource.prototype.getPrimitive = function () {\r\n        return this.func;\r\n    };\r\n    FuncEventSource.prototype.applyManualStandardProps = function (rawProps) {\r\n        var superSuccess = _super.prototype.applyManualStandardProps.call(this, rawProps);\r\n        this.func = rawProps.events;\r\n        return superSuccess;\r\n    };\r\n    return FuncEventSource;\r\n}(EventSource_1.default));\r\nexports.default = FuncEventSource;\r\nFuncEventSource.defineStandardProps({\r\n    events: false // don't automatically transfer\r\n});\r\n\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar Promise_1 = __webpack_require__(21);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar JsonFeedEventSource = /** @class */ (function (_super) {\r\n    tslib_1.__extends(JsonFeedEventSource, _super);\r\n    function JsonFeedEventSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    JsonFeedEventSource.parse = function (rawInput, calendar) {\r\n        var rawProps;\r\n        // normalize raw input\r\n        if (typeof rawInput.url === 'string') { // extended form\r\n            rawProps = rawInput;\r\n        }\r\n        else if (typeof rawInput === 'string') { // short form\r\n            rawProps = { url: rawInput };\r\n        }\r\n        if (rawProps) {\r\n            return EventSource_1.default.parse.call(this, rawProps, calendar);\r\n        }\r\n        return false;\r\n    };\r\n    JsonFeedEventSource.prototype.fetch = function (start, end, timezone) {\r\n        var _this = this;\r\n        var ajaxSettings = this.ajaxSettings;\r\n        var onSuccess = ajaxSettings.success;\r\n        var onError = ajaxSettings.error;\r\n        var requestParams = this.buildRequestParams(start, end, timezone);\r\n        // todo: eventually handle the promise's then,\r\n        // don't intercept success/error\r\n        // tho will be a breaking API change\r\n        this.calendar.pushLoading();\r\n        return Promise_1.default.construct(function (onResolve, onReject) {\r\n            $.ajax($.extend({}, // destination\r\n            JsonFeedEventSource.AJAX_DEFAULTS, ajaxSettings, {\r\n                url: _this.url,\r\n                data: requestParams,\r\n                success: function (rawEventDefs, status, xhr) {\r\n                    var callbackRes;\r\n                    _this.calendar.popLoading();\r\n                    if (rawEventDefs) {\r\n                        callbackRes = util_1.applyAll(onSuccess, _this, [rawEventDefs, status, xhr]); // redirect `this`\r\n                        if ($.isArray(callbackRes)) {\r\n                            rawEventDefs = callbackRes;\r\n                        }\r\n                        onResolve(_this.parseEventDefs(rawEventDefs));\r\n                    }\r\n                    else {\r\n                        onReject();\r\n                    }\r\n                },\r\n                error: function (xhr, statusText, errorThrown) {\r\n                    _this.calendar.popLoading();\r\n                    util_1.applyAll(onError, _this, [xhr, statusText, errorThrown]); // redirect `this`\r\n                    onReject();\r\n                }\r\n            }));\r\n        });\r\n    };\r\n    JsonFeedEventSource.prototype.buildRequestParams = function (start, end, timezone) {\r\n        var calendar = this.calendar;\r\n        var ajaxSettings = this.ajaxSettings;\r\n        var startParam;\r\n        var endParam;\r\n        var timezoneParam;\r\n        var customRequestParams;\r\n        var params = {};\r\n        startParam = this.startParam;\r\n        if (startParam == null) {\r\n            startParam = calendar.opt('startParam');\r\n        }\r\n        endParam = this.endParam;\r\n        if (endParam == null) {\r\n            endParam = calendar.opt('endParam');\r\n        }\r\n        timezoneParam = this.timezoneParam;\r\n        if (timezoneParam == null) {\r\n            timezoneParam = calendar.opt('timezoneParam');\r\n        }\r\n        // retrieve any outbound GET/POST $.ajax data from the options\r\n        if ($.isFunction(ajaxSettings.data)) {\r\n            // supplied as a function that returns a key/value object\r\n            customRequestParams = ajaxSettings.data();\r\n        }\r\n        else {\r\n            // probably supplied as a straight key/value object\r\n            customRequestParams = ajaxSettings.data || {};\r\n        }\r\n        $.extend(params, customRequestParams);\r\n        params[startParam] = start.format();\r\n        params[endParam] = end.format();\r\n        if (timezone && timezone !== 'local') {\r\n            params[timezoneParam] = timezone;\r\n        }\r\n        return params;\r\n    };\r\n    JsonFeedEventSource.prototype.getPrimitive = function () {\r\n        return this.url;\r\n    };\r\n    JsonFeedEventSource.prototype.applyMiscProps = function (rawProps) {\r\n        this.ajaxSettings = rawProps;\r\n    };\r\n    JsonFeedEventSource.AJAX_DEFAULTS = {\r\n        dataType: 'json',\r\n        cache: false\r\n    };\r\n    return JsonFeedEventSource;\r\n}(EventSource_1.default));\r\nexports.default = JsonFeedEventSource;\r\nJsonFeedEventSource.defineStandardProps({\r\n    // automatically transfer (true)...\r\n    url: true,\r\n    startParam: true,\r\n    endParam: true,\r\n    timezoneParam: true\r\n});\r\n\n\n/***/ }),\n/* 225 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Iterator = /** @class */ (function () {\r\n    function Iterator(items) {\r\n        this.items = items || [];\r\n    }\r\n    /* Calls a method on every item passing the arguments through */\r\n    Iterator.prototype.proxyCall = function (methodName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var results = [];\r\n        this.items.forEach(function (item) {\r\n            results.push(item[methodName].apply(item, args));\r\n        });\r\n        return results;\r\n    };\r\n    return Iterator;\r\n}());\r\nexports.default = Iterator;\r\n\n\n/***/ }),\n/* 226 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\n/* Creates a clone of an element and lets it track the mouse as it moves\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar MouseFollower = /** @class */ (function () {\r\n    function MouseFollower(sourceEl, options) {\r\n        this.isFollowing = false;\r\n        this.isHidden = false;\r\n        this.isAnimating = false; // doing the revert animation?\r\n        this.options = options = options || {};\r\n        this.sourceEl = sourceEl;\r\n        this.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent(); // default to sourceEl's parent\r\n    }\r\n    // Causes the element to start following the mouse\r\n    MouseFollower.prototype.start = function (ev) {\r\n        if (!this.isFollowing) {\r\n            this.isFollowing = true;\r\n            this.y0 = util_1.getEvY(ev);\r\n            this.x0 = util_1.getEvX(ev);\r\n            this.topDelta = 0;\r\n            this.leftDelta = 0;\r\n            if (!this.isHidden) {\r\n                this.updatePosition();\r\n            }\r\n            if (util_1.getEvIsTouch(ev)) {\r\n                this.listenTo($(document), 'touchmove', this.handleMove);\r\n            }\r\n            else {\r\n                this.listenTo($(document), 'mousemove', this.handleMove);\r\n            }\r\n        }\r\n    };\r\n    // Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.\r\n    // `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.\r\n    MouseFollower.prototype.stop = function (shouldRevert, callback) {\r\n        var _this = this;\r\n        var revertDuration = this.options.revertDuration;\r\n        var complete = function () {\r\n            _this.isAnimating = false;\r\n            _this.removeElement();\r\n            _this.top0 = _this.left0 = null; // reset state for future updatePosition calls\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        };\r\n        if (this.isFollowing && !this.isAnimating) { // disallow more than one stop animation at a time\r\n            this.isFollowing = false;\r\n            this.stopListeningTo($(document));\r\n            if (shouldRevert && revertDuration && !this.isHidden) { // do a revert animation?\r\n                this.isAnimating = true;\r\n                this.el.animate({\r\n                    top: this.top0,\r\n                    left: this.left0\r\n                }, {\r\n                    duration: revertDuration,\r\n                    complete: complete\r\n                });\r\n            }\r\n            else {\r\n                complete();\r\n            }\r\n        }\r\n    };\r\n    // Gets the tracking element. Create it if necessary\r\n    MouseFollower.prototype.getEl = function () {\r\n        var el = this.el;\r\n        if (!el) {\r\n            el = this.el = this.sourceEl.clone()\r\n                .addClass(this.options.additionalClass || '')\r\n                .css({\r\n                position: 'absolute',\r\n                visibility: '',\r\n                display: this.isHidden ? 'none' : '',\r\n                margin: 0,\r\n                right: 'auto',\r\n                bottom: 'auto',\r\n                width: this.sourceEl.width(),\r\n                height: this.sourceEl.height(),\r\n                opacity: this.options.opacity || '',\r\n                zIndex: this.options.zIndex\r\n            });\r\n            // we don't want long taps or any mouse interaction causing selection/menus.\r\n            // would use preventSelection(), but that prevents selectstart, causing problems.\r\n            el.addClass('fc-unselectable');\r\n            el.appendTo(this.parentEl);\r\n        }\r\n        return el;\r\n    };\r\n    // Removes the tracking element if it has already been created\r\n    MouseFollower.prototype.removeElement = function () {\r\n        if (this.el) {\r\n            this.el.remove();\r\n            this.el = null;\r\n        }\r\n    };\r\n    // Update the CSS position of the tracking element\r\n    MouseFollower.prototype.updatePosition = function () {\r\n        var sourceOffset;\r\n        var origin;\r\n        this.getEl(); // ensure this.el\r\n        // make sure origin info was computed\r\n        if (this.top0 == null) {\r\n            sourceOffset = this.sourceEl.offset();\r\n            origin = this.el.offsetParent().offset();\r\n            this.top0 = sourceOffset.top - origin.top;\r\n            this.left0 = sourceOffset.left - origin.left;\r\n        }\r\n        this.el.css({\r\n            top: this.top0 + this.topDelta,\r\n            left: this.left0 + this.leftDelta\r\n        });\r\n    };\r\n    // Gets called when the user moves the mouse\r\n    MouseFollower.prototype.handleMove = function (ev) {\r\n        this.topDelta = util_1.getEvY(ev) - this.y0;\r\n        this.leftDelta = util_1.getEvX(ev) - this.x0;\r\n        if (!this.isHidden) {\r\n            this.updatePosition();\r\n        }\r\n    };\r\n    // Temporarily makes the tracking element invisible. Can be called before following starts\r\n    MouseFollower.prototype.hide = function () {\r\n        if (!this.isHidden) {\r\n            this.isHidden = true;\r\n            if (this.el) {\r\n                this.el.hide();\r\n            }\r\n        }\r\n    };\r\n    // Show the tracking element after it has been temporarily hidden\r\n    MouseFollower.prototype.show = function () {\r\n        if (this.isHidden) {\r\n            this.isHidden = false;\r\n            this.updatePosition();\r\n            this.getEl().show();\r\n        }\r\n    };\r\n    return MouseFollower;\r\n}());\r\nexports.default = MouseFollower;\r\nListenerMixin_1.default.mixInto(MouseFollower);\r\n\n\n/***/ }),\n/* 227 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* A rectangular panel that is absolutely positioned over other content\r\n------------------------------------------------------------------------------------------------------------------------\r\nOptions:\r\n  - className (string)\r\n  - content (HTML string or jQuery element set)\r\n  - parentEl\r\n  - top\r\n  - left\r\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\r\n  - autoHide (boolean)\r\n  - show (callback)\r\n  - hide (callback)\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nvar Popover = /** @class */ (function () {\r\n    function Popover(options) {\r\n        this.isHidden = true;\r\n        this.margin = 10; // the space required between the popover and the edges of the scroll container\r\n        this.options = options || {};\r\n    }\r\n    // Shows the popover on the specified position. Renders it if not already\r\n    Popover.prototype.show = function () {\r\n        if (this.isHidden) {\r\n            if (!this.el) {\r\n                this.render();\r\n            }\r\n            this.el.show();\r\n            this.position();\r\n            this.isHidden = false;\r\n            this.trigger('show');\r\n        }\r\n    };\r\n    // Hides the popover, through CSS, but does not remove it from the DOM\r\n    Popover.prototype.hide = function () {\r\n        if (!this.isHidden) {\r\n            this.el.hide();\r\n            this.isHidden = true;\r\n            this.trigger('hide');\r\n        }\r\n    };\r\n    // Creates `this.el` and renders content inside of it\r\n    Popover.prototype.render = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        this.el = $('<div class=\"fc-popover\"/>')\r\n            .addClass(options.className || '')\r\n            .css({\r\n            // position initially to the top left to avoid creating scrollbars\r\n            top: 0,\r\n            left: 0\r\n        })\r\n            .append(options.content)\r\n            .appendTo(options.parentEl);\r\n        // when a click happens on anything inside with a 'fc-close' className, hide the popover\r\n        this.el.on('click', '.fc-close', function () {\r\n            _this.hide();\r\n        });\r\n        if (options.autoHide) {\r\n            this.listenTo($(document), 'mousedown', this.documentMousedown);\r\n        }\r\n    };\r\n    // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\r\n    Popover.prototype.documentMousedown = function (ev) {\r\n        // only hide the popover if the click happened outside the popover\r\n        if (this.el && !$(ev.target).closest(this.el).length) {\r\n            this.hide();\r\n        }\r\n    };\r\n    // Hides and unregisters any handlers\r\n    Popover.prototype.removeElement = function () {\r\n        this.hide();\r\n        if (this.el) {\r\n            this.el.remove();\r\n            this.el = null;\r\n        }\r\n        this.stopListeningTo($(document), 'mousedown');\r\n    };\r\n    // Positions the popover optimally, using the top/left/right options\r\n    Popover.prototype.position = function () {\r\n        var options = this.options;\r\n        var origin = this.el.offsetParent().offset();\r\n        var width = this.el.outerWidth();\r\n        var height = this.el.outerHeight();\r\n        var windowEl = $(window);\r\n        var viewportEl = util_1.getScrollParent(this.el);\r\n        var viewportTop;\r\n        var viewportLeft;\r\n        var viewportOffset;\r\n        var top; // the \"position\" (not \"offset\") values for the popover\r\n        var left; //\r\n        // compute top and left\r\n        top = options.top || 0;\r\n        if (options.left !== undefined) {\r\n            left = options.left;\r\n        }\r\n        else if (options.right !== undefined) {\r\n            left = options.right - width; // derive the left value from the right value\r\n        }\r\n        else {\r\n            left = 0;\r\n        }\r\n        if (viewportEl.is(window) || viewportEl.is(document)) { // normalize getScrollParent's result\r\n            viewportEl = windowEl;\r\n            viewportTop = 0; // the window is always at the top left\r\n            viewportLeft = 0; // (and .offset() won't work if called here)\r\n        }\r\n        else {\r\n            viewportOffset = viewportEl.offset();\r\n            viewportTop = viewportOffset.top;\r\n            viewportLeft = viewportOffset.left;\r\n        }\r\n        // if the window is scrolled, it causes the visible area to be further down\r\n        viewportTop += windowEl.scrollTop();\r\n        viewportLeft += windowEl.scrollLeft();\r\n        // constrain to the view port. if constrained by two edges, give precedence to top/left\r\n        if (options.viewportConstrain !== false) {\r\n            top = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin);\r\n            top = Math.max(top, viewportTop + this.margin);\r\n            left = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin);\r\n            left = Math.max(left, viewportLeft + this.margin);\r\n        }\r\n        this.el.css({\r\n            top: top - origin.top,\r\n            left: left - origin.left\r\n        });\r\n    };\r\n    // Triggers a callback. Calls a function in the option hash of the same name.\r\n    // Arguments beyond the first `name` are forwarded on.\r\n    // TODO: better code reuse for this. Repeat code\r\n    Popover.prototype.trigger = function (name) {\r\n        if (this.options[name]) {\r\n            this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n    };\r\n    return Popover;\r\n}());\r\nexports.default = Popover;\r\nListenerMixin_1.default.mixInto(Popover);\r\n\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nvar TaskQueue = /** @class */ (function () {\r\n    function TaskQueue() {\r\n        this.q = [];\r\n        this.isPaused = false;\r\n        this.isRunning = false;\r\n    }\r\n    TaskQueue.prototype.queue = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.q.push.apply(this.q, args); // append\r\n        this.tryStart();\r\n    };\r\n    TaskQueue.prototype.pause = function () {\r\n        this.isPaused = true;\r\n    };\r\n    TaskQueue.prototype.resume = function () {\r\n        this.isPaused = false;\r\n        this.tryStart();\r\n    };\r\n    TaskQueue.prototype.getIsIdle = function () {\r\n        return !this.isRunning && !this.isPaused;\r\n    };\r\n    TaskQueue.prototype.tryStart = function () {\r\n        if (!this.isRunning && this.canRunNext()) {\r\n            this.isRunning = true;\r\n            this.trigger('start');\r\n            this.runRemaining();\r\n        }\r\n    };\r\n    TaskQueue.prototype.canRunNext = function () {\r\n        return !this.isPaused && this.q.length;\r\n    };\r\n    TaskQueue.prototype.runRemaining = function () {\r\n        var _this = this;\r\n        var task;\r\n        var res;\r\n        do {\r\n            task = this.q.shift(); // always freshly reference q. might have been reassigned.\r\n            res = this.runTask(task);\r\n            if (res && res.then) {\r\n                res.then(function () {\r\n                    if (_this.canRunNext()) {\r\n                        _this.runRemaining();\r\n                    }\r\n                });\r\n                return; // prevent marking as stopped\r\n            }\r\n        } while (this.canRunNext());\r\n        this.trigger('stop'); // not really a 'stop' ... more of a 'drained'\r\n        this.isRunning = false;\r\n        // if 'stop' handler added more tasks.... TODO: write test for this\r\n        this.tryStart();\r\n    };\r\n    TaskQueue.prototype.runTask = function (task) {\r\n        return task(); // task *is* the function, but subclasses can change the format of a task\r\n    };\r\n    return TaskQueue;\r\n}());\r\nexports.default = TaskQueue;\r\nEmitterMixin_1.default.mixInto(TaskQueue);\r\n\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar TaskQueue_1 = __webpack_require__(228);\r\nvar RenderQueue = /** @class */ (function (_super) {\r\n    tslib_1.__extends(RenderQueue, _super);\r\n    function RenderQueue(waitsByNamespace) {\r\n        var _this = _super.call(this) || this;\r\n        _this.waitsByNamespace = waitsByNamespace || {};\r\n        return _this;\r\n    }\r\n    RenderQueue.prototype.queue = function (taskFunc, namespace, type) {\r\n        var task = {\r\n            func: taskFunc,\r\n            namespace: namespace,\r\n            type: type\r\n        };\r\n        var waitMs;\r\n        if (namespace) {\r\n            waitMs = this.waitsByNamespace[namespace];\r\n        }\r\n        if (this.waitNamespace) {\r\n            if (namespace === this.waitNamespace && waitMs != null) {\r\n                this.delayWait(waitMs);\r\n            }\r\n            else {\r\n                this.clearWait();\r\n                this.tryStart();\r\n            }\r\n        }\r\n        if (this.compoundTask(task)) { // appended to queue?\r\n            if (!this.waitNamespace && waitMs != null) {\r\n                this.startWait(namespace, waitMs);\r\n            }\r\n            else {\r\n                this.tryStart();\r\n            }\r\n        }\r\n    };\r\n    RenderQueue.prototype.startWait = function (namespace, waitMs) {\r\n        this.waitNamespace = namespace;\r\n        this.spawnWait(waitMs);\r\n    };\r\n    RenderQueue.prototype.delayWait = function (waitMs) {\r\n        clearTimeout(this.waitId);\r\n        this.spawnWait(waitMs);\r\n    };\r\n    RenderQueue.prototype.spawnWait = function (waitMs) {\r\n        var _this = this;\r\n        this.waitId = setTimeout(function () {\r\n            _this.waitNamespace = null;\r\n            _this.tryStart();\r\n        }, waitMs);\r\n    };\r\n    RenderQueue.prototype.clearWait = function () {\r\n        if (this.waitNamespace) {\r\n            clearTimeout(this.waitId);\r\n            this.waitId = null;\r\n            this.waitNamespace = null;\r\n        }\r\n    };\r\n    RenderQueue.prototype.canRunNext = function () {\r\n        if (!_super.prototype.canRunNext.call(this)) {\r\n            return false;\r\n        }\r\n        // waiting for a certain namespace to stop receiving tasks?\r\n        if (this.waitNamespace) {\r\n            var q = this.q;\r\n            // if there was a different namespace task in the meantime,\r\n            // that forces all previously-waiting tasks to suddenly execute.\r\n            // TODO: find a way to do this in constant time.\r\n            for (var i = 0; i < q.length; i++) {\r\n                if (q[i].namespace !== this.waitNamespace) {\r\n                    return true; // allow execution\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    RenderQueue.prototype.runTask = function (task) {\r\n        task.func();\r\n    };\r\n    RenderQueue.prototype.compoundTask = function (newTask) {\r\n        var q = this.q;\r\n        var shouldAppend = true;\r\n        var i;\r\n        var task;\r\n        if (newTask.namespace && newTask.type === 'destroy') {\r\n            // remove all init/add/remove ops with same namespace, regardless of order\r\n            for (i = q.length - 1; i >= 0; i--) {\r\n                task = q[i];\r\n                if (task.namespace === newTask.namespace) {\r\n                    switch (task.type) {\r\n                        case 'init':\r\n                            shouldAppend = false;\r\n                        // the latest destroy is cancelled out by not doing the init\r\n                        /* falls through */\r\n                        case 'add':\r\n                        /* falls through */\r\n                        case 'remove':\r\n                            q.splice(i, 1); // remove task\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (shouldAppend) {\r\n            q.push(newTask);\r\n        }\r\n        return shouldAppend;\r\n    };\r\n    return RenderQueue;\r\n}(TaskQueue_1.default));\r\nexports.default = RenderQueue;\r\n\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Model_1 = __webpack_require__(51);\r\nvar Component = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Component, _super);\r\n    function Component() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Component.prototype.setElement = function (el) {\r\n        this.el = el;\r\n        this.bindGlobalHandlers();\r\n        this.renderSkeleton();\r\n        this.set('isInDom', true);\r\n    };\r\n    Component.prototype.removeElement = function () {\r\n        this.unset('isInDom');\r\n        this.unrenderSkeleton();\r\n        this.unbindGlobalHandlers();\r\n        this.el.remove();\r\n        // NOTE: don't null-out this.el in case the View was destroyed within an API callback.\r\n        // We don't null-out the View's other jQuery element references upon destroy,\r\n        //  so we shouldn't kill this.el either.\r\n    };\r\n    Component.prototype.bindGlobalHandlers = function () {\r\n        // subclasses can override\r\n    };\r\n    Component.prototype.unbindGlobalHandlers = function () {\r\n        // subclasses can override\r\n    };\r\n    /*\r\n    NOTE: Can't have a `render` method. Read the deprecation notice in View::executeDateRender\r\n    */\r\n    // Renders the basic structure of the view before any content is rendered\r\n    Component.prototype.renderSkeleton = function () {\r\n        // subclasses should implement\r\n    };\r\n    // Unrenders the basic structure of the view\r\n    Component.prototype.unrenderSkeleton = function () {\r\n        // subclasses should implement\r\n    };\r\n    return Component;\r\n}(Model_1.default));\r\nexports.default = Component;\r\n\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar moment_ext_1 = __webpack_require__(11);\r\nvar date_formatting_1 = __webpack_require__(49);\r\nvar Component_1 = __webpack_require__(230);\r\nvar util_2 = __webpack_require__(19);\r\nvar DateComponent = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DateComponent, _super);\r\n    function DateComponent(_view, _options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isRTL = false; // frequently accessed options\r\n        _this.hitsNeededDepth = 0; // necessary because multiple callers might need the same hits\r\n        _this.hasAllDayBusinessHours = false; // TODO: unify with largeUnit and isTimeScale?\r\n        _this.isDatesRendered = false;\r\n        // hack to set options prior to the this.opt calls\r\n        if (_view) {\r\n            _this['view'] = _view;\r\n        }\r\n        if (_options) {\r\n            _this['options'] = _options;\r\n        }\r\n        _this.uid = String(DateComponent.guid++);\r\n        _this.childrenByUid = {};\r\n        _this.nextDayThreshold = moment.duration(_this.opt('nextDayThreshold'));\r\n        _this.isRTL = _this.opt('isRTL');\r\n        if (_this.fillRendererClass) {\r\n            _this.fillRenderer = new _this.fillRendererClass(_this);\r\n        }\r\n        if (_this.eventRendererClass) { // fillRenderer is optional -----v\r\n            _this.eventRenderer = new _this.eventRendererClass(_this, _this.fillRenderer);\r\n        }\r\n        if (_this.helperRendererClass && _this.eventRenderer) {\r\n            _this.helperRenderer = new _this.helperRendererClass(_this, _this.eventRenderer);\r\n        }\r\n        if (_this.businessHourRendererClass && _this.fillRenderer) {\r\n            _this.businessHourRenderer = new _this.businessHourRendererClass(_this, _this.fillRenderer);\r\n        }\r\n        return _this;\r\n    }\r\n    DateComponent.prototype.addChild = function (child) {\r\n        if (!this.childrenByUid[child.uid]) {\r\n            this.childrenByUid[child.uid] = child;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    DateComponent.prototype.removeChild = function (child) {\r\n        if (this.childrenByUid[child.uid]) {\r\n            delete this.childrenByUid[child.uid];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    // TODO: only do if isInDom?\r\n    // TODO: make part of Component, along with children/batch-render system?\r\n    DateComponent.prototype.updateSize = function (totalHeight, isAuto, isResize) {\r\n        this.callChildren('updateSize', arguments);\r\n    };\r\n    // Options\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DateComponent.prototype.opt = function (name) {\r\n        return this._getView().opt(name); // default implementation\r\n    };\r\n    DateComponent.prototype.publiclyTrigger = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var calendar = this._getCalendar();\r\n        return calendar.publiclyTrigger.apply(calendar, args);\r\n    };\r\n    DateComponent.prototype.hasPublicHandlers = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var calendar = this._getCalendar();\r\n        return calendar.hasPublicHandlers.apply(calendar, args);\r\n    };\r\n    // Date\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DateComponent.prototype.executeDateRender = function (dateProfile) {\r\n        this.dateProfile = dateProfile; // for rendering\r\n        this.renderDates(dateProfile);\r\n        this.isDatesRendered = true;\r\n        this.callChildren('executeDateRender', arguments);\r\n    };\r\n    DateComponent.prototype.executeDateUnrender = function () {\r\n        this.callChildren('executeDateUnrender', arguments);\r\n        this.dateProfile = null;\r\n        this.unrenderDates();\r\n        this.isDatesRendered = false;\r\n    };\r\n    // date-cell content only\r\n    DateComponent.prototype.renderDates = function (dateProfile) {\r\n        // subclasses should implement\r\n    };\r\n    // date-cell content only\r\n    DateComponent.prototype.unrenderDates = function () {\r\n        // subclasses should override\r\n    };\r\n    // Now-Indicator\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // Returns a string unit, like 'second' or 'minute' that defined how often the current time indicator\r\n    // should be refreshed. If something falsy is returned, no time indicator is rendered at all.\r\n    DateComponent.prototype.getNowIndicatorUnit = function () {\r\n        // subclasses should implement\r\n    };\r\n    // Renders a current time indicator at the given datetime\r\n    DateComponent.prototype.renderNowIndicator = function (date) {\r\n        this.callChildren('renderNowIndicator', arguments);\r\n    };\r\n    // Undoes the rendering actions from renderNowIndicator\r\n    DateComponent.prototype.unrenderNowIndicator = function () {\r\n        this.callChildren('unrenderNowIndicator', arguments);\r\n    };\r\n    // Business Hours\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    DateComponent.prototype.renderBusinessHours = function (businessHourGenerator) {\r\n        if (this.businessHourRenderer) {\r\n            this.businessHourRenderer.render(businessHourGenerator);\r\n        }\r\n        this.callChildren('renderBusinessHours', arguments);\r\n    };\r\n    // Unrenders previously-rendered business-hours\r\n    DateComponent.prototype.unrenderBusinessHours = function () {\r\n        this.callChildren('unrenderBusinessHours', arguments);\r\n        if (this.businessHourRenderer) {\r\n            this.businessHourRenderer.unrender();\r\n        }\r\n    };\r\n    // Event Displaying\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DateComponent.prototype.executeEventRender = function (eventsPayload) {\r\n        if (this.eventRenderer) {\r\n            this.eventRenderer.rangeUpdated(); // poorly named now\r\n            this.eventRenderer.render(eventsPayload);\r\n        }\r\n        else if (this['renderEvents']) { // legacy\r\n            this['renderEvents'](convertEventsPayloadToLegacyArray(eventsPayload));\r\n        }\r\n        this.callChildren('executeEventRender', arguments);\r\n    };\r\n    DateComponent.prototype.executeEventUnrender = function () {\r\n        this.callChildren('executeEventUnrender', arguments);\r\n        if (this.eventRenderer) {\r\n            this.eventRenderer.unrender();\r\n        }\r\n        else if (this['destroyEvents']) { // legacy\r\n            this['destroyEvents']();\r\n        }\r\n    };\r\n    DateComponent.prototype.getBusinessHourSegs = function () {\r\n        var segs = this.getOwnBusinessHourSegs();\r\n        this.iterChildren(function (child) {\r\n            segs.push.apply(segs, child.getBusinessHourSegs());\r\n        });\r\n        return segs;\r\n    };\r\n    DateComponent.prototype.getOwnBusinessHourSegs = function () {\r\n        if (this.businessHourRenderer) {\r\n            return this.businessHourRenderer.getSegs();\r\n        }\r\n        return [];\r\n    };\r\n    DateComponent.prototype.getEventSegs = function () {\r\n        var segs = this.getOwnEventSegs();\r\n        this.iterChildren(function (child) {\r\n            segs.push.apply(segs, child.getEventSegs());\r\n        });\r\n        return segs;\r\n    };\r\n    DateComponent.prototype.getOwnEventSegs = function () {\r\n        if (this.eventRenderer) {\r\n            return this.eventRenderer.getSegs();\r\n        }\r\n        return [];\r\n    };\r\n    // Event Rendering Triggering\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    DateComponent.prototype.triggerAfterEventsRendered = function () {\r\n        this.triggerAfterEventSegsRendered(this.getEventSegs());\r\n        this.publiclyTrigger('eventAfterAllRender', {\r\n            context: this,\r\n            args: [this]\r\n        });\r\n    };\r\n    DateComponent.prototype.triggerAfterEventSegsRendered = function (segs) {\r\n        var _this = this;\r\n        // an optimization, because getEventLegacy is expensive\r\n        if (this.hasPublicHandlers('eventAfterRender')) {\r\n            segs.forEach(function (seg) {\r\n                var legacy;\r\n                if (seg.el) { // necessary?\r\n                    legacy = seg.footprint.getEventLegacy();\r\n                    _this.publiclyTrigger('eventAfterRender', {\r\n                        context: legacy,\r\n                        args: [legacy, seg.el, _this]\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    DateComponent.prototype.triggerBeforeEventsDestroyed = function () {\r\n        this.triggerBeforeEventSegsDestroyed(this.getEventSegs());\r\n    };\r\n    DateComponent.prototype.triggerBeforeEventSegsDestroyed = function (segs) {\r\n        var _this = this;\r\n        if (this.hasPublicHandlers('eventDestroy')) {\r\n            segs.forEach(function (seg) {\r\n                var legacy;\r\n                if (seg.el) { // necessary?\r\n                    legacy = seg.footprint.getEventLegacy();\r\n                    _this.publiclyTrigger('eventDestroy', {\r\n                        context: legacy,\r\n                        args: [legacy, seg.el, _this]\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    // Event Rendering Utils\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // Hides all rendered event segments linked to the given event\r\n    // RECURSIVE with subcomponents\r\n    DateComponent.prototype.showEventsWithId = function (eventDefId) {\r\n        this.getEventSegs().forEach(function (seg) {\r\n            if (seg.footprint.eventDef.id === eventDefId &&\r\n                seg.el // necessary?\r\n            ) {\r\n                seg.el.css('visibility', '');\r\n            }\r\n        });\r\n        this.callChildren('showEventsWithId', arguments);\r\n    };\r\n    // Shows all rendered event segments linked to the given event\r\n    // RECURSIVE with subcomponents\r\n    DateComponent.prototype.hideEventsWithId = function (eventDefId) {\r\n        this.getEventSegs().forEach(function (seg) {\r\n            if (seg.footprint.eventDef.id === eventDefId &&\r\n                seg.el // necessary?\r\n            ) {\r\n                seg.el.css('visibility', 'hidden');\r\n            }\r\n        });\r\n        this.callChildren('hideEventsWithId', arguments);\r\n    };\r\n    // Drag-n-Drop Rendering (for both events and external elements)\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Renders a visual indication of a event or external-element drag over the given drop zone.\r\n    // If an external-element, seg will be `null`.\r\n    // Must return elements used for any mock events.\r\n    DateComponent.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\r\n        var renderedHelper = false;\r\n        this.iterChildren(function (child) {\r\n            if (child.renderDrag(eventFootprints, seg, isTouch)) {\r\n                renderedHelper = true;\r\n            }\r\n        });\r\n        return renderedHelper;\r\n    };\r\n    // Unrenders a visual indication of an event or external-element being dragged.\r\n    DateComponent.prototype.unrenderDrag = function () {\r\n        this.callChildren('unrenderDrag', arguments);\r\n    };\r\n    // Event Resizing\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Renders a visual indication of an event being resized.\r\n    DateComponent.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\r\n        this.callChildren('renderEventResize', arguments);\r\n    };\r\n    // Unrenders a visual indication of an event being resized.\r\n    DateComponent.prototype.unrenderEventResize = function () {\r\n        this.callChildren('unrenderEventResize', arguments);\r\n    };\r\n    // Selection\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Renders a visual indication of the selection\r\n    // TODO: rename to `renderSelection` after legacy is gone\r\n    DateComponent.prototype.renderSelectionFootprint = function (componentFootprint) {\r\n        this.renderHighlight(componentFootprint);\r\n        this.callChildren('renderSelectionFootprint', arguments);\r\n    };\r\n    // Unrenders a visual indication of selection\r\n    DateComponent.prototype.unrenderSelection = function () {\r\n        this.unrenderHighlight();\r\n        this.callChildren('unrenderSelection', arguments);\r\n    };\r\n    // Highlight\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // Renders an emphasis on the given date range. Given a span (unzoned start/end and other misc data)\r\n    DateComponent.prototype.renderHighlight = function (componentFootprint) {\r\n        if (this.fillRenderer) {\r\n            this.fillRenderer.renderFootprint('highlight', componentFootprint, {\r\n                getClasses: function () {\r\n                    return ['fc-highlight'];\r\n                }\r\n            });\r\n        }\r\n        this.callChildren('renderHighlight', arguments);\r\n    };\r\n    // Unrenders the emphasis on a date range\r\n    DateComponent.prototype.unrenderHighlight = function () {\r\n        if (this.fillRenderer) {\r\n            this.fillRenderer.unrender('highlight');\r\n        }\r\n        this.callChildren('unrenderHighlight', arguments);\r\n    };\r\n    // Hit Areas\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    // just because all DateComponents support this interface\r\n    // doesn't mean they need to have their own internal coord system. they can defer to sub-components.\r\n    DateComponent.prototype.hitsNeeded = function () {\r\n        if (!(this.hitsNeededDepth++)) {\r\n            this.prepareHits();\r\n        }\r\n        this.callChildren('hitsNeeded', arguments);\r\n    };\r\n    DateComponent.prototype.hitsNotNeeded = function () {\r\n        if (this.hitsNeededDepth && !(--this.hitsNeededDepth)) {\r\n            this.releaseHits();\r\n        }\r\n        this.callChildren('hitsNotNeeded', arguments);\r\n    };\r\n    DateComponent.prototype.prepareHits = function () {\r\n        // subclasses can implement\r\n    };\r\n    DateComponent.prototype.releaseHits = function () {\r\n        // subclasses can implement\r\n    };\r\n    // Given coordinates from the topleft of the document, return data about the date-related area underneath.\r\n    // Can return an object with arbitrary properties (although top/right/left/bottom are encouraged).\r\n    // Must have a `grid` property, a reference to this current grid. TODO: avoid this\r\n    // The returned object will be processed by getHitFootprint and getHitEl.\r\n    DateComponent.prototype.queryHit = function (leftOffset, topOffset) {\r\n        var childrenByUid = this.childrenByUid;\r\n        var uid;\r\n        var hit;\r\n        for (uid in childrenByUid) {\r\n            hit = childrenByUid[uid].queryHit(leftOffset, topOffset);\r\n            if (hit) {\r\n                break;\r\n            }\r\n        }\r\n        return hit;\r\n    };\r\n    DateComponent.prototype.getSafeHitFootprint = function (hit) {\r\n        var footprint = this.getHitFootprint(hit);\r\n        if (!this.dateProfile.activeUnzonedRange.containsRange(footprint.unzonedRange)) {\r\n            return null;\r\n        }\r\n        return footprint;\r\n    };\r\n    DateComponent.prototype.getHitFootprint = function (hit) {\r\n        // what about being abstract!?\r\n    };\r\n    // Given position-level information about a date-related area within the grid,\r\n    // should return a jQuery element that best represents it. passed to dayClick callback.\r\n    DateComponent.prototype.getHitEl = function (hit) {\r\n        // what about being abstract!?\r\n    };\r\n    /* Converting eventRange -> eventFootprint\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DateComponent.prototype.eventRangesToEventFootprints = function (eventRanges) {\r\n        var eventFootprints = [];\r\n        var i;\r\n        for (i = 0; i < eventRanges.length; i++) {\r\n            eventFootprints.push.apply(// append\r\n            eventFootprints, this.eventRangeToEventFootprints(eventRanges[i]));\r\n        }\r\n        return eventFootprints;\r\n    };\r\n    DateComponent.prototype.eventRangeToEventFootprints = function (eventRange) {\r\n        return [util_2.eventRangeToEventFootprint(eventRange)];\r\n    };\r\n    /* Converting componentFootprint/eventFootprint -> segs\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DateComponent.prototype.eventFootprintsToSegs = function (eventFootprints) {\r\n        var segs = [];\r\n        var i;\r\n        for (i = 0; i < eventFootprints.length; i++) {\r\n            segs.push.apply(segs, this.eventFootprintToSegs(eventFootprints[i]));\r\n        }\r\n        return segs;\r\n    };\r\n    // Given an event's span (unzoned start/end and other misc data), and the event itself,\r\n    // slices into segments and attaches event-derived properties to them.\r\n    // eventSpan - { start, end, isStart, isEnd, otherthings... }\r\n    DateComponent.prototype.eventFootprintToSegs = function (eventFootprint) {\r\n        var unzonedRange = eventFootprint.componentFootprint.unzonedRange;\r\n        var segs;\r\n        var i;\r\n        var seg;\r\n        segs = this.componentFootprintToSegs(eventFootprint.componentFootprint);\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            if (!unzonedRange.isStart) {\r\n                seg.isStart = false;\r\n            }\r\n            if (!unzonedRange.isEnd) {\r\n                seg.isEnd = false;\r\n            }\r\n            seg.footprint = eventFootprint;\r\n            // TODO: rename to seg.eventFootprint\r\n        }\r\n        return segs;\r\n    };\r\n    DateComponent.prototype.componentFootprintToSegs = function (componentFootprint) {\r\n        return [];\r\n    };\r\n    // Utils\r\n    // ---------------------------------------------------------------------------------------------------------------\r\n    DateComponent.prototype.callChildren = function (methodName, args) {\r\n        this.iterChildren(function (child) {\r\n            child[methodName].apply(child, args);\r\n        });\r\n    };\r\n    DateComponent.prototype.iterChildren = function (func) {\r\n        var childrenByUid = this.childrenByUid;\r\n        var uid;\r\n        for (uid in childrenByUid) {\r\n            func(childrenByUid[uid]);\r\n        }\r\n    };\r\n    DateComponent.prototype._getCalendar = function () {\r\n        var t = this;\r\n        return t.calendar || t.view.calendar;\r\n    };\r\n    DateComponent.prototype._getView = function () {\r\n        return this.view;\r\n    };\r\n    DateComponent.prototype._getDateProfile = function () {\r\n        return this._getView().get('dateProfile');\r\n    };\r\n    // Generates HTML for an anchor to another view into the calendar.\r\n    // Will either generate an <a> tag or a non-clickable <span> tag, depending on enabled settings.\r\n    // `gotoOptions` can either be a moment input, or an object with the form:\r\n    // { date, type, forceOff }\r\n    // `type` is a view-type like \"day\" or \"week\". default value is \"day\".\r\n    // `attrs` and `innerHtml` are use to generate the rest of the HTML tag.\r\n    DateComponent.prototype.buildGotoAnchorHtml = function (gotoOptions, attrs, innerHtml) {\r\n        var date;\r\n        var type;\r\n        var forceOff;\r\n        var finalOptions;\r\n        if ($.isPlainObject(gotoOptions)) {\r\n            date = gotoOptions.date;\r\n            type = gotoOptions.type;\r\n            forceOff = gotoOptions.forceOff;\r\n        }\r\n        else {\r\n            date = gotoOptions; // a single moment input\r\n        }\r\n        date = moment_ext_1.default(date); // if a string, parse it\r\n        finalOptions = {\r\n            date: date.format('YYYY-MM-DD'),\r\n            type: type || 'day'\r\n        };\r\n        if (typeof attrs === 'string') {\r\n            innerHtml = attrs;\r\n            attrs = null;\r\n        }\r\n        attrs = attrs ? ' ' + util_1.attrsToStr(attrs) : ''; // will have a leading space\r\n        innerHtml = innerHtml || '';\r\n        if (!forceOff && this.opt('navLinks')) {\r\n            return '<a' + attrs +\r\n                ' data-goto=\"' + util_1.htmlEscape(JSON.stringify(finalOptions)) + '\">' +\r\n                innerHtml +\r\n                '</a>';\r\n        }\r\n        else {\r\n            return '<span' + attrs + '>' +\r\n                innerHtml +\r\n                '</span>';\r\n        }\r\n    };\r\n    DateComponent.prototype.getAllDayHtml = function () {\r\n        return this.opt('allDayHtml') || util_1.htmlEscape(this.opt('allDayText'));\r\n    };\r\n    // Computes HTML classNames for a single-day element\r\n    DateComponent.prototype.getDayClasses = function (date, noThemeHighlight) {\r\n        var view = this._getView();\r\n        var classes = [];\r\n        var today;\r\n        if (!this.dateProfile.activeUnzonedRange.containsDate(date)) {\r\n            classes.push('fc-disabled-day'); // TODO: jQuery UI theme?\r\n        }\r\n        else {\r\n            classes.push('fc-' + util_1.dayIDs[date.day()]);\r\n            if (view.isDateInOtherMonth(date, this.dateProfile)) { // TODO: use DateComponent subclass somehow\r\n                classes.push('fc-other-month');\r\n            }\r\n            today = view.calendar.getNow();\r\n            if (date.isSame(today, 'day')) {\r\n                classes.push('fc-today');\r\n                if (noThemeHighlight !== true) {\r\n                    classes.push(view.calendar.theme.getClass('today'));\r\n                }\r\n            }\r\n            else if (date < today) {\r\n                classes.push('fc-past');\r\n            }\r\n            else {\r\n                classes.push('fc-future');\r\n            }\r\n        }\r\n        return classes;\r\n    };\r\n    // Utility for formatting a range. Accepts a range object, formatting string, and optional separator.\r\n    // Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.\r\n    // The timezones of the dates within `range` will be respected.\r\n    DateComponent.prototype.formatRange = function (range, isAllDay, formatStr, separator) {\r\n        var end = range.end;\r\n        if (isAllDay) {\r\n            end = end.clone().subtract(1); // convert to inclusive. last ms of previous day\r\n        }\r\n        return date_formatting_1.formatRange(range.start, end, formatStr, separator, this.isRTL);\r\n    };\r\n    // Compute the number of the give units in the \"current\" range.\r\n    // Will return a floating-point number. Won't round.\r\n    DateComponent.prototype.currentRangeAs = function (unit) {\r\n        return this._getDateProfile().currentUnzonedRange.as(unit);\r\n    };\r\n    // Returns the date range of the full days the given range visually appears to occupy.\r\n    // Returns a plain object with start/end, NOT an UnzonedRange!\r\n    DateComponent.prototype.computeDayRange = function (unzonedRange) {\r\n        var calendar = this._getCalendar();\r\n        var startDay = calendar.msToUtcMoment(unzonedRange.startMs, true); // the beginning of the day the range starts\r\n        var end = calendar.msToUtcMoment(unzonedRange.endMs);\r\n        var endTimeMS = +end.time(); // # of milliseconds into `endDay`\r\n        var endDay = end.clone().stripTime(); // the beginning of the day the range exclusively ends\r\n        // If the end time is actually inclusively part of the next day and is equal to or\r\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\r\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\r\n        if (endTimeMS && endTimeMS >= this.nextDayThreshold) {\r\n            endDay.add(1, 'days');\r\n        }\r\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\r\n        if (endDay <= startDay) {\r\n            endDay = startDay.clone().add(1, 'days');\r\n        }\r\n        return { start: startDay, end: endDay };\r\n    };\r\n    // Does the given range visually appear to occupy more than one day?\r\n    DateComponent.prototype.isMultiDayRange = function (unzonedRange) {\r\n        var dayRange = this.computeDayRange(unzonedRange);\r\n        return dayRange.end.diff(dayRange.start, 'days') > 1;\r\n    };\r\n    DateComponent.guid = 0; // TODO: better system for this?\r\n    return DateComponent;\r\n}(Component_1.default));\r\nexports.default = DateComponent;\r\n// legacy\r\nfunction convertEventsPayloadToLegacyArray(eventsPayload) {\r\n    var eventDefId;\r\n    var eventInstances;\r\n    var legacyEvents = [];\r\n    var i;\r\n    for (eventDefId in eventsPayload) {\r\n        eventInstances = eventsPayload[eventDefId].eventInstances;\r\n        for (i = 0; i < eventInstances.length; i++) {\r\n            legacyEvents.push(eventInstances[i].toLegacy());\r\n        }\r\n    }\r\n    return legacyEvents;\r\n}\r\n\n\n/***/ }),\n/* 232 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar options_1 = __webpack_require__(33);\r\nvar Iterator_1 = __webpack_require__(225);\r\nvar GlobalEmitter_1 = __webpack_require__(23);\r\nvar EmitterMixin_1 = __webpack_require__(13);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nvar Toolbar_1 = __webpack_require__(257);\r\nvar OptionsManager_1 = __webpack_require__(258);\r\nvar ViewSpecManager_1 = __webpack_require__(259);\r\nvar Constraints_1 = __webpack_require__(217);\r\nvar locale_1 = __webpack_require__(32);\r\nvar moment_ext_1 = __webpack_require__(11);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nvar EventDateProfile_1 = __webpack_require__(16);\r\nvar EventManager_1 = __webpack_require__(220);\r\nvar BusinessHourGenerator_1 = __webpack_require__(218);\r\nvar EventSourceParser_1 = __webpack_require__(38);\r\nvar EventDefParser_1 = __webpack_require__(36);\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar EventDefMutation_1 = __webpack_require__(39);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar ThemeRegistry_1 = __webpack_require__(57);\r\nvar Calendar = /** @class */ (function () {\r\n    function Calendar(el, overrides) {\r\n        this.loadingLevel = 0; // number of simultaneous loading tasks\r\n        this.ignoreUpdateViewSize = 0;\r\n        this.freezeContentHeightDepth = 0;\r\n        // declare the current calendar instance relies on GlobalEmitter. needed for garbage collection.\r\n        // unneeded() is called in destroy.\r\n        GlobalEmitter_1.default.needed();\r\n        this.el = el;\r\n        this.viewsByType = {};\r\n        this.optionsManager = new OptionsManager_1.default(this, overrides);\r\n        this.viewSpecManager = new ViewSpecManager_1.default(this.optionsManager, this);\r\n        this.initMomentInternals(); // needs to happen after options hash initialized\r\n        this.initCurrentDate();\r\n        this.initEventManager();\r\n        this.constraints = new Constraints_1.default(this.eventManager, this);\r\n        this.constructed();\r\n    }\r\n    Calendar.prototype.constructed = function () {\r\n        // useful for monkeypatching. used?\r\n    };\r\n    Calendar.prototype.getView = function () {\r\n        return this.view;\r\n    };\r\n    Calendar.prototype.publiclyTrigger = function (name, triggerInfo) {\r\n        var optHandler = this.opt(name);\r\n        var context;\r\n        var args;\r\n        if ($.isPlainObject(triggerInfo)) {\r\n            context = triggerInfo.context;\r\n            args = triggerInfo.args;\r\n        }\r\n        else if ($.isArray(triggerInfo)) {\r\n            args = triggerInfo;\r\n        }\r\n        if (context == null) {\r\n            context = this.el[0]; // fallback context\r\n        }\r\n        if (!args) {\r\n            args = [];\r\n        }\r\n        this.triggerWith(name, context, args); // Emitter's method\r\n        if (optHandler) {\r\n            return optHandler.apply(context, args);\r\n        }\r\n    };\r\n    Calendar.prototype.hasPublicHandlers = function (name) {\r\n        return this.hasHandlers(name) ||\r\n            this.opt(name); // handler specified in options\r\n    };\r\n    // Options Public API\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // public getter/setter\r\n    Calendar.prototype.option = function (name, value) {\r\n        var newOptionHash;\r\n        if (typeof name === 'string') {\r\n            if (value === undefined) { // getter\r\n                return this.optionsManager.get(name);\r\n            }\r\n            else { // setter for individual option\r\n                newOptionHash = {};\r\n                newOptionHash[name] = value;\r\n                this.optionsManager.add(newOptionHash);\r\n            }\r\n        }\r\n        else if (typeof name === 'object') { // compound setter with object input\r\n            this.optionsManager.add(name);\r\n        }\r\n    };\r\n    // private getter\r\n    Calendar.prototype.opt = function (name) {\r\n        return this.optionsManager.get(name);\r\n    };\r\n    // View\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // Given a view name for a custom view or a standard view, creates a ready-to-go View object\r\n    Calendar.prototype.instantiateView = function (viewType) {\r\n        var spec = this.viewSpecManager.getViewSpec(viewType);\r\n        if (!spec) {\r\n            throw new Error(\"View type \\\"\" + viewType + \"\\\" is not valid\");\r\n        }\r\n        return new spec['class'](this, spec);\r\n    };\r\n    // Returns a boolean about whether the view is okay to instantiate at some point\r\n    Calendar.prototype.isValidViewType = function (viewType) {\r\n        return Boolean(this.viewSpecManager.getViewSpec(viewType));\r\n    };\r\n    Calendar.prototype.changeView = function (viewName, dateOrRange) {\r\n        if (dateOrRange) {\r\n            if (dateOrRange.start && dateOrRange.end) { // a range\r\n                this.optionsManager.recordOverrides({\r\n                    visibleRange: dateOrRange\r\n                });\r\n            }\r\n            else { // a date\r\n                this.currentDate = this.moment(dateOrRange).stripZone(); // just like gotoDate\r\n            }\r\n        }\r\n        this.renderView(viewName);\r\n    };\r\n    // Forces navigation to a view for the given date.\r\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\r\n    Calendar.prototype.zoomTo = function (newDate, viewType) {\r\n        var spec;\r\n        viewType = viewType || 'day'; // day is default zoom\r\n        spec = this.viewSpecManager.getViewSpec(viewType) ||\r\n            this.viewSpecManager.getUnitViewSpec(viewType);\r\n        this.currentDate = newDate.clone();\r\n        this.renderView(spec ? spec.type : null);\r\n    };\r\n    // Current Date\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Calendar.prototype.initCurrentDate = function () {\r\n        var defaultDateInput = this.opt('defaultDate');\r\n        // compute the initial ambig-timezone date\r\n        if (defaultDateInput != null) {\r\n            this.currentDate = this.moment(defaultDateInput).stripZone();\r\n        }\r\n        else {\r\n            this.currentDate = this.getNow(); // getNow already returns unzoned\r\n        }\r\n    };\r\n    Calendar.prototype.prev = function () {\r\n        var view = this.view;\r\n        var prevInfo = view.dateProfileGenerator.buildPrev(view.get('dateProfile'));\r\n        if (prevInfo.isValid) {\r\n            this.currentDate = prevInfo.date;\r\n            this.renderView();\r\n        }\r\n    };\r\n    Calendar.prototype.next = function () {\r\n        var view = this.view;\r\n        var nextInfo = view.dateProfileGenerator.buildNext(view.get('dateProfile'));\r\n        if (nextInfo.isValid) {\r\n            this.currentDate = nextInfo.date;\r\n            this.renderView();\r\n        }\r\n    };\r\n    Calendar.prototype.prevYear = function () {\r\n        this.currentDate.add(-1, 'years');\r\n        this.renderView();\r\n    };\r\n    Calendar.prototype.nextYear = function () {\r\n        this.currentDate.add(1, 'years');\r\n        this.renderView();\r\n    };\r\n    Calendar.prototype.today = function () {\r\n        this.currentDate = this.getNow(); // should deny like prev/next?\r\n        this.renderView();\r\n    };\r\n    Calendar.prototype.gotoDate = function (zonedDateInput) {\r\n        this.currentDate = this.moment(zonedDateInput).stripZone();\r\n        this.renderView();\r\n    };\r\n    Calendar.prototype.incrementDate = function (delta) {\r\n        this.currentDate.add(moment.duration(delta));\r\n        this.renderView();\r\n    };\r\n    // for external API\r\n    Calendar.prototype.getDate = function () {\r\n        return this.applyTimezone(this.currentDate); // infuse the calendar's timezone\r\n    };\r\n    // Loading Triggering\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // Should be called when any type of async data fetching begins\r\n    Calendar.prototype.pushLoading = function () {\r\n        if (!(this.loadingLevel++)) {\r\n            this.publiclyTrigger('loading', [true, this.view]);\r\n        }\r\n    };\r\n    // Should be called when any type of async data fetching completes\r\n    Calendar.prototype.popLoading = function () {\r\n        if (!(--this.loadingLevel)) {\r\n            this.publiclyTrigger('loading', [false, this.view]);\r\n        }\r\n    };\r\n    // High-level Rendering\r\n    // -----------------------------------------------------------------------------------\r\n    Calendar.prototype.render = function () {\r\n        if (!this.contentEl) {\r\n            this.initialRender();\r\n        }\r\n        else if (this.elementVisible()) {\r\n            // mainly for the public API\r\n            this.calcSize();\r\n            this.updateViewSize();\r\n        }\r\n    };\r\n    Calendar.prototype.initialRender = function () {\r\n        var _this = this;\r\n        var el = this.el;\r\n        el.addClass('fc');\r\n        // event delegation for nav links\r\n        el.on('click.fc', 'a[data-goto]', function (ev) {\r\n            var anchorEl = $(ev.currentTarget);\r\n            var gotoOptions = anchorEl.data('goto'); // will automatically parse JSON\r\n            var date = _this.moment(gotoOptions.date);\r\n            var viewType = gotoOptions.type;\r\n            // property like \"navLinkDayClick\". might be a string or a function\r\n            var customAction = _this.view.opt('navLink' + util_1.capitaliseFirstLetter(viewType) + 'Click');\r\n            if (typeof customAction === 'function') {\r\n                customAction(date, ev);\r\n            }\r\n            else {\r\n                if (typeof customAction === 'string') {\r\n                    viewType = customAction;\r\n                }\r\n                _this.zoomTo(date, viewType);\r\n            }\r\n        });\r\n        // called immediately, and upon option change\r\n        this.optionsManager.watch('settingTheme', ['?theme', '?themeSystem'], function (opts) {\r\n            var themeClass = ThemeRegistry_1.getThemeSystemClass(opts.themeSystem || opts.theme);\r\n            var theme = new themeClass(_this.optionsManager);\r\n            var widgetClass = theme.getClass('widget');\r\n            _this.theme = theme;\r\n            if (widgetClass) {\r\n                el.addClass(widgetClass);\r\n            }\r\n        }, function () {\r\n            var widgetClass = _this.theme.getClass('widget');\r\n            _this.theme = null;\r\n            if (widgetClass) {\r\n                el.removeClass(widgetClass);\r\n            }\r\n        });\r\n        this.optionsManager.watch('settingBusinessHourGenerator', ['?businessHours'], function (deps) {\r\n            _this.businessHourGenerator = new BusinessHourGenerator_1.default(deps.businessHours, _this);\r\n            if (_this.view) {\r\n                _this.view.set('businessHourGenerator', _this.businessHourGenerator);\r\n            }\r\n        }, function () {\r\n            _this.businessHourGenerator = null;\r\n        });\r\n        // called immediately, and upon option change.\r\n        // HACK: locale often affects isRTL, so we explicitly listen to that too.\r\n        this.optionsManager.watch('applyingDirClasses', ['?isRTL', '?locale'], function (opts) {\r\n            el.toggleClass('fc-ltr', !opts.isRTL);\r\n            el.toggleClass('fc-rtl', opts.isRTL);\r\n        });\r\n        this.contentEl = $(\"<div class='fc-view-container'/>\").prependTo(el);\r\n        this.initToolbars();\r\n        this.renderHeader();\r\n        this.renderFooter();\r\n        this.renderView(this.opt('defaultView'));\r\n        if (this.opt('handleWindowResize')) {\r\n            $(window).resize(this.windowResizeProxy = util_1.debounce(// prevents rapid calls\r\n            this.windowResize.bind(this), this.opt('windowResizeDelay')));\r\n        }\r\n    };\r\n    Calendar.prototype.destroy = function () {\r\n        if (this.view) {\r\n            this.clearView();\r\n        }\r\n        this.toolbarsManager.proxyCall('removeElement');\r\n        this.contentEl.remove();\r\n        this.el.removeClass('fc fc-ltr fc-rtl');\r\n        // removes theme-related root className\r\n        this.optionsManager.unwatch('settingTheme');\r\n        this.optionsManager.unwatch('settingBusinessHourGenerator');\r\n        this.el.off('.fc'); // unbind nav link handlers\r\n        if (this.windowResizeProxy) {\r\n            $(window).unbind('resize', this.windowResizeProxy);\r\n            this.windowResizeProxy = null;\r\n        }\r\n        GlobalEmitter_1.default.unneeded();\r\n    };\r\n    Calendar.prototype.elementVisible = function () {\r\n        return this.el.is(':visible');\r\n    };\r\n    // Render Queue\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Calendar.prototype.bindViewHandlers = function (view) {\r\n        var _this = this;\r\n        view.watch('titleForCalendar', ['title'], function (deps) {\r\n            if (view === _this.view) { // hack\r\n                _this.setToolbarsTitle(deps.title);\r\n            }\r\n        });\r\n        view.watch('dateProfileForCalendar', ['dateProfile'], function (deps) {\r\n            if (view === _this.view) { // hack\r\n                _this.currentDate = deps.dateProfile.date; // might have been constrained by view dates\r\n                _this.updateToolbarButtons(deps.dateProfile);\r\n            }\r\n        });\r\n    };\r\n    Calendar.prototype.unbindViewHandlers = function (view) {\r\n        view.unwatch('titleForCalendar');\r\n        view.unwatch('dateProfileForCalendar');\r\n    };\r\n    // View Rendering\r\n    // -----------------------------------------------------------------------------------\r\n    // Renders a view because of a date change, view-type change, or for the first time.\r\n    // If not given a viewType, keep the current view but render different dates.\r\n    // Accepts an optional scroll state to restore to.\r\n    Calendar.prototype.renderView = function (viewType) {\r\n        var oldView = this.view;\r\n        var newView;\r\n        this.freezeContentHeight();\r\n        if (oldView && viewType && oldView.type !== viewType) {\r\n            this.clearView();\r\n        }\r\n        // if viewType changed, or the view was never created, create a fresh view\r\n        if (!this.view && viewType) {\r\n            newView = this.view =\r\n                this.viewsByType[viewType] ||\r\n                    (this.viewsByType[viewType] = this.instantiateView(viewType));\r\n            this.bindViewHandlers(newView);\r\n            newView.startBatchRender(); // so that setElement+setDate rendering are joined\r\n            newView.setElement($(\"<div class='fc-view fc-\" + viewType + \"-view' />\").appendTo(this.contentEl));\r\n            this.toolbarsManager.proxyCall('activateButton', viewType);\r\n        }\r\n        if (this.view) {\r\n            // prevent unnecessary change firing\r\n            if (this.view.get('businessHourGenerator') !== this.businessHourGenerator) {\r\n                this.view.set('businessHourGenerator', this.businessHourGenerator);\r\n            }\r\n            this.view.setDate(this.currentDate);\r\n            if (newView) {\r\n                newView.stopBatchRender();\r\n            }\r\n        }\r\n        this.thawContentHeight();\r\n    };\r\n    // Unrenders the current view and reflects this change in the Header.\r\n    // Unregsiters the `view`, but does not remove from viewByType hash.\r\n    Calendar.prototype.clearView = function () {\r\n        var currentView = this.view;\r\n        this.toolbarsManager.proxyCall('deactivateButton', currentView.type);\r\n        this.unbindViewHandlers(currentView);\r\n        currentView.removeElement();\r\n        currentView.unsetDate(); // so bindViewHandlers doesn't fire with old values next time\r\n        this.view = null;\r\n    };\r\n    // Destroys the view, including the view object. Then, re-instantiates it and renders it.\r\n    // Maintains the same scroll state.\r\n    // TODO: maintain any other user-manipulated state.\r\n    Calendar.prototype.reinitView = function () {\r\n        var oldView = this.view;\r\n        var scroll = oldView.queryScroll(); // wouldn't be so complicated if Calendar owned the scroll\r\n        this.freezeContentHeight();\r\n        this.clearView();\r\n        this.calcSize();\r\n        this.renderView(oldView.type); // needs the type to freshly render\r\n        this.view.applyScroll(scroll);\r\n        this.thawContentHeight();\r\n    };\r\n    // Resizing\r\n    // -----------------------------------------------------------------------------------\r\n    Calendar.prototype.getSuggestedViewHeight = function () {\r\n        if (this.suggestedViewHeight == null) {\r\n            this.calcSize();\r\n        }\r\n        return this.suggestedViewHeight;\r\n    };\r\n    Calendar.prototype.isHeightAuto = function () {\r\n        return this.opt('contentHeight') === 'auto' || this.opt('height') === 'auto';\r\n    };\r\n    Calendar.prototype.updateViewSize = function (isResize) {\r\n        if (isResize === void 0) { isResize = false; }\r\n        var view = this.view;\r\n        var scroll;\r\n        if (!this.ignoreUpdateViewSize && view) {\r\n            if (isResize) {\r\n                this.calcSize();\r\n                scroll = view.queryScroll();\r\n            }\r\n            this.ignoreUpdateViewSize++;\r\n            view.updateSize(this.getSuggestedViewHeight(), this.isHeightAuto(), isResize);\r\n            this.ignoreUpdateViewSize--;\r\n            if (isResize) {\r\n                view.applyScroll(scroll);\r\n            }\r\n            return true; // signal success\r\n        }\r\n    };\r\n    Calendar.prototype.calcSize = function () {\r\n        if (this.elementVisible()) {\r\n            this._calcSize();\r\n        }\r\n    };\r\n    Calendar.prototype._calcSize = function () {\r\n        var contentHeightInput = this.opt('contentHeight');\r\n        var heightInput = this.opt('height');\r\n        if (typeof contentHeightInput === 'number') { // exists and not 'auto'\r\n            this.suggestedViewHeight = contentHeightInput;\r\n        }\r\n        else if (typeof contentHeightInput === 'function') { // exists and is a function\r\n            this.suggestedViewHeight = contentHeightInput();\r\n        }\r\n        else if (typeof heightInput === 'number') { // exists and not 'auto'\r\n            this.suggestedViewHeight = heightInput - this.queryToolbarsHeight();\r\n        }\r\n        else if (typeof heightInput === 'function') { // exists and is a function\r\n            this.suggestedViewHeight = heightInput() - this.queryToolbarsHeight();\r\n        }\r\n        else if (heightInput === 'parent') { // set to height of parent element\r\n            this.suggestedViewHeight = this.el.parent().height() - this.queryToolbarsHeight();\r\n        }\r\n        else {\r\n            this.suggestedViewHeight = Math.round(this.contentEl.width() /\r\n                Math.max(this.opt('aspectRatio'), .5));\r\n        }\r\n    };\r\n    Calendar.prototype.windowResize = function (ev) {\r\n        if (\r\n        // the purpose: so we don't process jqui \"resize\" events that have bubbled up\r\n        // cast to any because .target, which is Element, can't be compared to window for some reason.\r\n        ev.target === window &&\r\n            this.view &&\r\n            this.view.isDatesRendered) {\r\n            if (this.updateViewSize(true)) { // isResize=true, returns true on success\r\n                this.publiclyTrigger('windowResize', [this.view]);\r\n            }\r\n        }\r\n    };\r\n    /* Height \"Freezing\"\r\n    -----------------------------------------------------------------------------*/\r\n    Calendar.prototype.freezeContentHeight = function () {\r\n        if (!(this.freezeContentHeightDepth++)) {\r\n            this.forceFreezeContentHeight();\r\n        }\r\n    };\r\n    Calendar.prototype.forceFreezeContentHeight = function () {\r\n        this.contentEl.css({\r\n            width: '100%',\r\n            height: this.contentEl.height(),\r\n            overflow: 'hidden'\r\n        });\r\n    };\r\n    Calendar.prototype.thawContentHeight = function () {\r\n        this.freezeContentHeightDepth--;\r\n        // always bring back to natural height\r\n        this.contentEl.css({\r\n            width: '',\r\n            height: '',\r\n            overflow: ''\r\n        });\r\n        // but if there are future thaws, re-freeze\r\n        if (this.freezeContentHeightDepth) {\r\n            this.forceFreezeContentHeight();\r\n        }\r\n    };\r\n    // Toolbar\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Calendar.prototype.initToolbars = function () {\r\n        this.header = new Toolbar_1.default(this, this.computeHeaderOptions());\r\n        this.footer = new Toolbar_1.default(this, this.computeFooterOptions());\r\n        this.toolbarsManager = new Iterator_1.default([this.header, this.footer]);\r\n    };\r\n    Calendar.prototype.computeHeaderOptions = function () {\r\n        return {\r\n            extraClasses: 'fc-header-toolbar',\r\n            layout: this.opt('header')\r\n        };\r\n    };\r\n    Calendar.prototype.computeFooterOptions = function () {\r\n        return {\r\n            extraClasses: 'fc-footer-toolbar',\r\n            layout: this.opt('footer')\r\n        };\r\n    };\r\n    // can be called repeatedly and Header will rerender\r\n    Calendar.prototype.renderHeader = function () {\r\n        var header = this.header;\r\n        header.setToolbarOptions(this.computeHeaderOptions());\r\n        header.render();\r\n        if (header.el) {\r\n            this.el.prepend(header.el);\r\n        }\r\n    };\r\n    // can be called repeatedly and Footer will rerender\r\n    Calendar.prototype.renderFooter = function () {\r\n        var footer = this.footer;\r\n        footer.setToolbarOptions(this.computeFooterOptions());\r\n        footer.render();\r\n        if (footer.el) {\r\n            this.el.append(footer.el);\r\n        }\r\n    };\r\n    Calendar.prototype.setToolbarsTitle = function (title) {\r\n        this.toolbarsManager.proxyCall('updateTitle', title);\r\n    };\r\n    Calendar.prototype.updateToolbarButtons = function (dateProfile) {\r\n        var now = this.getNow();\r\n        var view = this.view;\r\n        var todayInfo = view.dateProfileGenerator.build(now);\r\n        var prevInfo = view.dateProfileGenerator.buildPrev(view.get('dateProfile'));\r\n        var nextInfo = view.dateProfileGenerator.buildNext(view.get('dateProfile'));\r\n        this.toolbarsManager.proxyCall((todayInfo.isValid && !dateProfile.currentUnzonedRange.containsDate(now)) ?\r\n            'enableButton' :\r\n            'disableButton', 'today');\r\n        this.toolbarsManager.proxyCall(prevInfo.isValid ?\r\n            'enableButton' :\r\n            'disableButton', 'prev');\r\n        this.toolbarsManager.proxyCall(nextInfo.isValid ?\r\n            'enableButton' :\r\n            'disableButton', 'next');\r\n    };\r\n    Calendar.prototype.queryToolbarsHeight = function () {\r\n        return this.toolbarsManager.items.reduce(function (accumulator, toolbar) {\r\n            var toolbarHeight = toolbar.el ? toolbar.el.outerHeight(true) : 0; // includes margin\r\n            return accumulator + toolbarHeight;\r\n        }, 0);\r\n    };\r\n    // Selection\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    // this public method receives start/end dates in any format, with any timezone\r\n    Calendar.prototype.select = function (zonedStartInput, zonedEndInput) {\r\n        this.view.select(this.buildSelectFootprint.apply(this, arguments));\r\n    };\r\n    Calendar.prototype.unselect = function () {\r\n        if (this.view) {\r\n            this.view.unselect();\r\n        }\r\n    };\r\n    // Given arguments to the select method in the API, returns a span (unzoned start/end and other info)\r\n    Calendar.prototype.buildSelectFootprint = function (zonedStartInput, zonedEndInput) {\r\n        var start = this.moment(zonedStartInput).stripZone();\r\n        var end;\r\n        if (zonedEndInput) {\r\n            end = this.moment(zonedEndInput).stripZone();\r\n        }\r\n        else if (start.hasTime()) {\r\n            end = start.clone().add(this.defaultTimedEventDuration);\r\n        }\r\n        else {\r\n            end = start.clone().add(this.defaultAllDayEventDuration);\r\n        }\r\n        return new ComponentFootprint_1.default(new UnzonedRange_1.default(start, end), !start.hasTime());\r\n    };\r\n    // Date Utils\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Calendar.prototype.initMomentInternals = function () {\r\n        var _this = this;\r\n        this.defaultAllDayEventDuration = moment.duration(this.opt('defaultAllDayEventDuration'));\r\n        this.defaultTimedEventDuration = moment.duration(this.opt('defaultTimedEventDuration'));\r\n        // Called immediately, and when any of the options change.\r\n        // Happens before any internal objects rebuild or rerender, because this is very core.\r\n        this.optionsManager.watch('buildingMomentLocale', [\r\n            '?locale', '?monthNames', '?monthNamesShort', '?dayNames', '?dayNamesShort',\r\n            '?firstDay', '?weekNumberCalculation'\r\n        ], function (opts) {\r\n            var weekNumberCalculation = opts.weekNumberCalculation;\r\n            var firstDay = opts.firstDay;\r\n            var _week;\r\n            // normalize\r\n            if (weekNumberCalculation === 'iso') {\r\n                weekNumberCalculation = 'ISO'; // normalize\r\n            }\r\n            var localeData = Object.create(// make a cheap copy\r\n            locale_1.getMomentLocaleData(opts.locale) // will fall back to en\r\n            );\r\n            if (opts.monthNames) {\r\n                localeData._months = opts.monthNames;\r\n            }\r\n            if (opts.monthNamesShort) {\r\n                localeData._monthsShort = opts.monthNamesShort;\r\n            }\r\n            if (opts.dayNames) {\r\n                localeData._weekdays = opts.dayNames;\r\n            }\r\n            if (opts.dayNamesShort) {\r\n                localeData._weekdaysShort = opts.dayNamesShort;\r\n            }\r\n            if (firstDay == null && weekNumberCalculation === 'ISO') {\r\n                firstDay = 1;\r\n            }\r\n            if (firstDay != null) {\r\n                _week = Object.create(localeData._week); // _week: { dow: # }\r\n                _week.dow = firstDay;\r\n                localeData._week = _week;\r\n            }\r\n            if ( // whitelist certain kinds of input\r\n            weekNumberCalculation === 'ISO' ||\r\n                weekNumberCalculation === 'local' ||\r\n                typeof weekNumberCalculation === 'function') {\r\n                localeData._fullCalendar_weekCalc = weekNumberCalculation; // moment-ext will know what to do with it\r\n            }\r\n            _this.localeData = localeData;\r\n            // If the internal current date object already exists, move to new locale.\r\n            // We do NOT need to do this technique for event dates, because this happens when converting to \"segments\".\r\n            if (_this.currentDate) {\r\n                _this.localizeMoment(_this.currentDate); // sets to localeData\r\n            }\r\n        });\r\n    };\r\n    // Builds a moment using the settings of the current calendar: timezone and locale.\r\n    // Accepts anything the vanilla moment() constructor accepts.\r\n    Calendar.prototype.moment = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var mom;\r\n        if (this.opt('timezone') === 'local') {\r\n            mom = moment_ext_1.default.apply(null, args);\r\n            // Force the moment to be local, because momentExt doesn't guarantee it.\r\n            if (mom.hasTime()) { // don't give ambiguously-timed moments a local zone\r\n                mom.local();\r\n            }\r\n        }\r\n        else if (this.opt('timezone') === 'UTC') {\r\n            mom = moment_ext_1.default.utc.apply(null, args); // process as UTC\r\n        }\r\n        else {\r\n            mom = moment_ext_1.default.parseZone.apply(null, args); // let the input decide the zone\r\n        }\r\n        this.localizeMoment(mom); // TODO\r\n        return mom;\r\n    };\r\n    Calendar.prototype.msToMoment = function (ms, forceAllDay) {\r\n        var mom = moment_ext_1.default.utc(ms); // TODO: optimize by using Date.UTC\r\n        if (forceAllDay) {\r\n            mom.stripTime();\r\n        }\r\n        else {\r\n            mom = this.applyTimezone(mom); // may or may not apply locale\r\n        }\r\n        this.localizeMoment(mom);\r\n        return mom;\r\n    };\r\n    Calendar.prototype.msToUtcMoment = function (ms, forceAllDay) {\r\n        var mom = moment_ext_1.default.utc(ms); // TODO: optimize by using Date.UTC\r\n        if (forceAllDay) {\r\n            mom.stripTime();\r\n        }\r\n        this.localizeMoment(mom);\r\n        return mom;\r\n    };\r\n    // Updates the given moment's locale settings to the current calendar locale settings.\r\n    Calendar.prototype.localizeMoment = function (mom) {\r\n        mom._locale = this.localeData;\r\n    };\r\n    // Returns a boolean about whether or not the calendar knows how to calculate\r\n    // the timezone offset of arbitrary dates in the current timezone.\r\n    Calendar.prototype.getIsAmbigTimezone = function () {\r\n        return this.opt('timezone') !== 'local' && this.opt('timezone') !== 'UTC';\r\n    };\r\n    // Returns a copy of the given date in the current timezone. Has no effect on dates without times.\r\n    Calendar.prototype.applyTimezone = function (date) {\r\n        if (!date.hasTime()) {\r\n            return date.clone();\r\n        }\r\n        var zonedDate = this.moment(date.toArray());\r\n        var timeAdjust = date.time().asMilliseconds() - zonedDate.time().asMilliseconds();\r\n        var adjustedZonedDate;\r\n        // Safari sometimes has problems with this coersion when near DST. Adjust if necessary. (bug #2396)\r\n        if (timeAdjust) { // is the time result different than expected?\r\n            adjustedZonedDate = zonedDate.clone().add(timeAdjust); // add milliseconds\r\n            if (date.time().asMilliseconds() - adjustedZonedDate.time().asMilliseconds() === 0) { // does it match perfectly now?\r\n                zonedDate = adjustedZonedDate;\r\n            }\r\n        }\r\n        return zonedDate;\r\n    };\r\n    /*\r\n    Assumes the footprint is non-open-ended.\r\n    */\r\n    Calendar.prototype.footprintToDateProfile = function (componentFootprint, ignoreEnd) {\r\n        if (ignoreEnd === void 0) { ignoreEnd = false; }\r\n        var start = moment_ext_1.default.utc(componentFootprint.unzonedRange.startMs);\r\n        var end;\r\n        if (!ignoreEnd) {\r\n            end = moment_ext_1.default.utc(componentFootprint.unzonedRange.endMs);\r\n        }\r\n        if (componentFootprint.isAllDay) {\r\n            start.stripTime();\r\n            if (end) {\r\n                end.stripTime();\r\n            }\r\n        }\r\n        else {\r\n            start = this.applyTimezone(start);\r\n            if (end) {\r\n                end = this.applyTimezone(end);\r\n            }\r\n        }\r\n        this.localizeMoment(start);\r\n        if (end) {\r\n            this.localizeMoment(end);\r\n        }\r\n        return new EventDateProfile_1.default(start, end, this);\r\n    };\r\n    // Returns a moment for the current date, as defined by the client's computer or from the `now` option.\r\n    // Will return an moment with an ambiguous timezone.\r\n    Calendar.prototype.getNow = function () {\r\n        var now = this.opt('now');\r\n        if (typeof now === 'function') {\r\n            now = now();\r\n        }\r\n        return this.moment(now).stripZone();\r\n    };\r\n    // Produces a human-readable string for the given duration.\r\n    // Side-effect: changes the locale of the given duration.\r\n    Calendar.prototype.humanizeDuration = function (duration) {\r\n        return duration.locale(this.opt('locale')).humanize();\r\n    };\r\n    // will return `null` if invalid range\r\n    Calendar.prototype.parseUnzonedRange = function (rangeInput) {\r\n        var start = null;\r\n        var end = null;\r\n        if (rangeInput.start) {\r\n            start = this.moment(rangeInput.start).stripZone();\r\n        }\r\n        if (rangeInput.end) {\r\n            end = this.moment(rangeInput.end).stripZone();\r\n        }\r\n        if (!start && !end) {\r\n            return null;\r\n        }\r\n        if (start && end && end.isBefore(start)) {\r\n            return null;\r\n        }\r\n        return new UnzonedRange_1.default(start, end);\r\n    };\r\n    // Event-Date Utilities\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Calendar.prototype.initEventManager = function () {\r\n        var _this = this;\r\n        var eventManager = new EventManager_1.default(this);\r\n        var rawSources = this.opt('eventSources') || [];\r\n        var singleRawSource = this.opt('events');\r\n        this.eventManager = eventManager;\r\n        if (singleRawSource) {\r\n            rawSources.unshift(singleRawSource);\r\n        }\r\n        eventManager.on('release', function (eventsPayload) {\r\n            _this.trigger('eventsReset', eventsPayload);\r\n        });\r\n        eventManager.freeze();\r\n        rawSources.forEach(function (rawSource) {\r\n            var source = EventSourceParser_1.default.parse(rawSource, _this);\r\n            if (source) {\r\n                eventManager.addSource(source);\r\n            }\r\n        });\r\n        eventManager.thaw();\r\n    };\r\n    Calendar.prototype.requestEvents = function (start, end) {\r\n        return this.eventManager.requestEvents(start, end, this.opt('timezone'), !this.opt('lazyFetching'));\r\n    };\r\n    // Get an event's normalized end date. If not present, calculate it from the defaults.\r\n    Calendar.prototype.getEventEnd = function (event) {\r\n        if (event.end) {\r\n            return event.end.clone();\r\n        }\r\n        else {\r\n            return this.getDefaultEventEnd(event.allDay, event.start);\r\n        }\r\n    };\r\n    // Given an event's allDay status and start date, return what its fallback end date should be.\r\n    // TODO: rename to computeDefaultEventEnd\r\n    Calendar.prototype.getDefaultEventEnd = function (allDay, zonedStart) {\r\n        var end = zonedStart.clone();\r\n        if (allDay) {\r\n            end.stripTime().add(this.defaultAllDayEventDuration);\r\n        }\r\n        else {\r\n            end.add(this.defaultTimedEventDuration);\r\n        }\r\n        if (this.getIsAmbigTimezone()) {\r\n            end.stripZone(); // we don't know what the tzo should be\r\n        }\r\n        return end;\r\n    };\r\n    // Public Events API\r\n    // -----------------------------------------------------------------------------------------------------------------\r\n    Calendar.prototype.rerenderEvents = function () {\r\n        this.view.flash('displayingEvents');\r\n    };\r\n    Calendar.prototype.refetchEvents = function () {\r\n        this.eventManager.refetchAllSources();\r\n    };\r\n    Calendar.prototype.renderEvents = function (eventInputs, isSticky) {\r\n        this.eventManager.freeze();\r\n        for (var i = 0; i < eventInputs.length; i++) {\r\n            this.renderEvent(eventInputs[i], isSticky);\r\n        }\r\n        this.eventManager.thaw();\r\n    };\r\n    Calendar.prototype.renderEvent = function (eventInput, isSticky) {\r\n        if (isSticky === void 0) { isSticky = false; }\r\n        var eventManager = this.eventManager;\r\n        var eventDef = EventDefParser_1.default.parse(eventInput, eventInput.source || eventManager.stickySource);\r\n        if (eventDef) {\r\n            eventManager.addEventDef(eventDef, isSticky);\r\n        }\r\n    };\r\n    // legacyQuery operates on legacy event instance objects\r\n    Calendar.prototype.removeEvents = function (legacyQuery) {\r\n        var eventManager = this.eventManager;\r\n        var legacyInstances = [];\r\n        var idMap = {};\r\n        var eventDef;\r\n        var i;\r\n        if (legacyQuery == null) { // shortcut for removing all\r\n            eventManager.removeAllEventDefs(); // persist=true\r\n        }\r\n        else {\r\n            eventManager.getEventInstances().forEach(function (eventInstance) {\r\n                legacyInstances.push(eventInstance.toLegacy());\r\n            });\r\n            legacyInstances = filterLegacyEventInstances(legacyInstances, legacyQuery);\r\n            // compute unique IDs\r\n            for (i = 0; i < legacyInstances.length; i++) {\r\n                eventDef = this.eventManager.getEventDefByUid(legacyInstances[i]._id);\r\n                idMap[eventDef.id] = true;\r\n            }\r\n            eventManager.freeze();\r\n            for (i in idMap) { // reuse `i` as an \"id\"\r\n                eventManager.removeEventDefsById(i); // persist=true\r\n            }\r\n            eventManager.thaw();\r\n        }\r\n    };\r\n    // legacyQuery operates on legacy event instance objects\r\n    Calendar.prototype.clientEvents = function (legacyQuery) {\r\n        var legacyEventInstances = [];\r\n        this.eventManager.getEventInstances().forEach(function (eventInstance) {\r\n            legacyEventInstances.push(eventInstance.toLegacy());\r\n        });\r\n        return filterLegacyEventInstances(legacyEventInstances, legacyQuery);\r\n    };\r\n    Calendar.prototype.updateEvents = function (eventPropsArray) {\r\n        this.eventManager.freeze();\r\n        for (var i = 0; i < eventPropsArray.length; i++) {\r\n            this.updateEvent(eventPropsArray[i]);\r\n        }\r\n        this.eventManager.thaw();\r\n    };\r\n    Calendar.prototype.updateEvent = function (eventProps) {\r\n        var eventDef = this.eventManager.getEventDefByUid(eventProps._id);\r\n        var eventInstance;\r\n        var eventDefMutation;\r\n        if (eventDef instanceof SingleEventDef_1.default) {\r\n            eventInstance = eventDef.buildInstance();\r\n            eventDefMutation = EventDefMutation_1.default.createFromRawProps(eventInstance, eventProps, // raw props\r\n            null // largeUnit -- who uses it?\r\n            );\r\n            this.eventManager.mutateEventsWithId(eventDef.id, eventDefMutation); // will release\r\n        }\r\n    };\r\n    // Public Event Sources API\r\n    // ------------------------------------------------------------------------------------\r\n    Calendar.prototype.getEventSources = function () {\r\n        return this.eventManager.otherSources.slice(); // clone\r\n    };\r\n    Calendar.prototype.getEventSourceById = function (id) {\r\n        return this.eventManager.getSourceById(EventSource_1.default.normalizeId(id));\r\n    };\r\n    Calendar.prototype.addEventSource = function (sourceInput) {\r\n        var source = EventSourceParser_1.default.parse(sourceInput, this);\r\n        if (source) {\r\n            this.eventManager.addSource(source);\r\n        }\r\n    };\r\n    Calendar.prototype.removeEventSources = function (sourceMultiQuery) {\r\n        var eventManager = this.eventManager;\r\n        var sources;\r\n        var i;\r\n        if (sourceMultiQuery == null) {\r\n            this.eventManager.removeAllSources();\r\n        }\r\n        else {\r\n            sources = eventManager.multiQuerySources(sourceMultiQuery);\r\n            eventManager.freeze();\r\n            for (i = 0; i < sources.length; i++) {\r\n                eventManager.removeSource(sources[i]);\r\n            }\r\n            eventManager.thaw();\r\n        }\r\n    };\r\n    Calendar.prototype.removeEventSource = function (sourceQuery) {\r\n        var eventManager = this.eventManager;\r\n        var sources = eventManager.querySources(sourceQuery);\r\n        var i;\r\n        eventManager.freeze();\r\n        for (i = 0; i < sources.length; i++) {\r\n            eventManager.removeSource(sources[i]);\r\n        }\r\n        eventManager.thaw();\r\n    };\r\n    Calendar.prototype.refetchEventSources = function (sourceMultiQuery) {\r\n        var eventManager = this.eventManager;\r\n        var sources = eventManager.multiQuerySources(sourceMultiQuery);\r\n        var i;\r\n        eventManager.freeze();\r\n        for (i = 0; i < sources.length; i++) {\r\n            eventManager.refetchSource(sources[i]);\r\n        }\r\n        eventManager.thaw();\r\n    };\r\n    // not for internal use. use options module directly instead.\r\n    Calendar.defaults = options_1.globalDefaults;\r\n    Calendar.englishDefaults = options_1.englishDefaults;\r\n    Calendar.rtlDefaults = options_1.rtlDefaults;\r\n    return Calendar;\r\n}());\r\nexports.default = Calendar;\r\nEmitterMixin_1.default.mixInto(Calendar);\r\nListenerMixin_1.default.mixInto(Calendar);\r\nfunction filterLegacyEventInstances(legacyEventInstances, legacyQuery) {\r\n    if (legacyQuery == null) {\r\n        return legacyEventInstances;\r\n    }\r\n    else if ($.isFunction(legacyQuery)) {\r\n        return legacyEventInstances.filter(legacyQuery);\r\n    }\r\n    else { // an event ID\r\n        legacyQuery += ''; // normalize to string\r\n        return legacyEventInstances.filter(function (legacyEventInstance) {\r\n            // soft comparison because id not be normalized to string\r\n            // tslint:disable-next-line\r\n            return legacyEventInstance.id == legacyQuery ||\r\n                legacyEventInstance._id === legacyQuery; // can specify internal id, but must exactly match\r\n        });\r\n    }\r\n}\r\n\n\n/***/ }),\n/* 233 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar exportHooks = __webpack_require__(18);\r\nvar util_1 = __webpack_require__(4);\r\nvar moment_ext_1 = __webpack_require__(11);\r\nvar ListenerMixin_1 = __webpack_require__(7);\r\nvar HitDragListener_1 = __webpack_require__(17);\r\nvar SingleEventDef_1 = __webpack_require__(9);\r\nvar EventInstanceGroup_1 = __webpack_require__(20);\r\nvar EventSource_1 = __webpack_require__(6);\r\nvar Interaction_1 = __webpack_require__(14);\r\nvar ExternalDropping = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ExternalDropping, _super);\r\n    function ExternalDropping() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isDragging = false; // jqui-dragging an external element? boolean\r\n        return _this;\r\n    }\r\n    /*\r\n    component impements:\r\n      - eventRangesToEventFootprints\r\n      - isEventInstanceGroupAllowed\r\n      - isExternalInstanceGroupAllowed\r\n      - renderDrag\r\n      - unrenderDrag\r\n    */\r\n    ExternalDropping.prototype.end = function () {\r\n        if (this.dragListener) {\r\n            this.dragListener.endInteraction();\r\n        }\r\n    };\r\n    ExternalDropping.prototype.bindToDocument = function () {\r\n        this.listenTo($(document), {\r\n            dragstart: this.handleDragStart,\r\n            sortstart: this.handleDragStart // jqui\r\n        });\r\n    };\r\n    ExternalDropping.prototype.unbindFromDocument = function () {\r\n        this.stopListeningTo($(document));\r\n    };\r\n    // Called when a jQuery UI drag is initiated anywhere in the DOM\r\n    ExternalDropping.prototype.handleDragStart = function (ev, ui) {\r\n        var el;\r\n        var accept;\r\n        if (this.opt('droppable')) { // only listen if this setting is on\r\n            el = $((ui ? ui.item : null) || ev.target);\r\n            // Test that the dragged element passes the dropAccept selector or filter function.\r\n            // FYI, the default is \"*\" (matches all)\r\n            accept = this.opt('dropAccept');\r\n            if ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {\r\n                if (!this.isDragging) { // prevent double-listening if fired twice\r\n                    this.listenToExternalDrag(el, ev, ui);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    // Called when a jQuery UI drag starts and it needs to be monitored for dropping\r\n    ExternalDropping.prototype.listenToExternalDrag = function (el, ev, ui) {\r\n        var _this = this;\r\n        var component = this.component;\r\n        var view = this.view;\r\n        var meta = getDraggedElMeta(el); // extra data about event drop, including possible event to create\r\n        var singleEventDef; // a null value signals an unsuccessful drag\r\n        // listener that tracks mouse movement over date-associated pixel regions\r\n        var dragListener = this.dragListener = new HitDragListener_1.default(component, {\r\n            interactionStart: function () {\r\n                _this.isDragging = true;\r\n            },\r\n            hitOver: function (hit) {\r\n                var isAllowed = true;\r\n                var hitFootprint = hit.component.getSafeHitFootprint(hit); // hit might not belong to this grid\r\n                var mutatedEventInstanceGroup;\r\n                if (hitFootprint) {\r\n                    singleEventDef = _this.computeExternalDrop(hitFootprint, meta);\r\n                    if (singleEventDef) {\r\n                        mutatedEventInstanceGroup = new EventInstanceGroup_1.default(singleEventDef.buildInstances());\r\n                        isAllowed = meta.eventProps ? // isEvent?\r\n                            component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup) :\r\n                            component.isExternalInstanceGroupAllowed(mutatedEventInstanceGroup);\r\n                    }\r\n                    else {\r\n                        isAllowed = false;\r\n                    }\r\n                }\r\n                else {\r\n                    isAllowed = false;\r\n                }\r\n                if (!isAllowed) {\r\n                    singleEventDef = null;\r\n                    util_1.disableCursor();\r\n                }\r\n                if (singleEventDef) {\r\n                    component.renderDrag(// called without a seg parameter\r\n                    component.eventRangesToEventFootprints(mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, view.calendar)));\r\n                }\r\n            },\r\n            hitOut: function () {\r\n                singleEventDef = null; // signal unsuccessful\r\n            },\r\n            hitDone: function () {\r\n                util_1.enableCursor();\r\n                component.unrenderDrag();\r\n            },\r\n            interactionEnd: function (ev) {\r\n                if (singleEventDef) { // element was dropped on a valid hit\r\n                    view.reportExternalDrop(singleEventDef, Boolean(meta.eventProps), // isEvent\r\n                    Boolean(meta.stick), // isSticky\r\n                    el, ev, ui);\r\n                }\r\n                _this.isDragging = false;\r\n                _this.dragListener = null;\r\n            }\r\n        });\r\n        dragListener.startDrag(ev); // start listening immediately\r\n    };\r\n    // Given a hit to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),\r\n    // returns the zoned start/end dates for the event that would result from the hypothetical drop. end might be null.\r\n    // Returning a null value signals an invalid drop hit.\r\n    // DOES NOT consider overlap/constraint.\r\n    // Assumes both footprints are non-open-ended.\r\n    ExternalDropping.prototype.computeExternalDrop = function (componentFootprint, meta) {\r\n        var calendar = this.view.calendar;\r\n        var start = moment_ext_1.default.utc(componentFootprint.unzonedRange.startMs).stripZone();\r\n        var end;\r\n        var eventDef;\r\n        if (componentFootprint.isAllDay) {\r\n            // if dropped on an all-day span, and element's metadata specified a time, set it\r\n            if (meta.startTime) {\r\n                start.time(meta.startTime);\r\n            }\r\n            else {\r\n                start.stripTime();\r\n            }\r\n        }\r\n        if (meta.duration) {\r\n            end = start.clone().add(meta.duration);\r\n        }\r\n        start = calendar.applyTimezone(start);\r\n        if (end) {\r\n            end = calendar.applyTimezone(end);\r\n        }\r\n        eventDef = SingleEventDef_1.default.parse($.extend({}, meta.eventProps, {\r\n            start: start,\r\n            end: end\r\n        }), new EventSource_1.default(calendar));\r\n        return eventDef;\r\n    };\r\n    return ExternalDropping;\r\n}(Interaction_1.default));\r\nexports.default = ExternalDropping;\r\nListenerMixin_1.default.mixInto(ExternalDropping);\r\n/* External-Dragging-Element Data\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// Require all HTML5 data-* attributes used by FullCalendar to have this prefix.\r\n// A value of '' will query attributes like data-event. A value of 'fc' will query attributes like data-fc-event.\r\nexportHooks.dataAttrPrefix = '';\r\n// Given a jQuery element that might represent a dragged FullCalendar event, returns an intermediate data structure\r\n// to be used for Event Object creation.\r\n// A defined `.eventProps`, even when empty, indicates that an event should be created.\r\nfunction getDraggedElMeta(el) {\r\n    var prefix = exportHooks.dataAttrPrefix;\r\n    var eventProps; // properties for creating the event, not related to date/time\r\n    var startTime; // a Duration\r\n    var duration;\r\n    var stick;\r\n    if (prefix) {\r\n        prefix += '-';\r\n    }\r\n    eventProps = el.data(prefix + 'event') || null;\r\n    if (eventProps) {\r\n        if (typeof eventProps === 'object') {\r\n            eventProps = $.extend({}, eventProps); // make a copy\r\n        }\r\n        else { // something like 1 or true. still signal event creation\r\n            eventProps = {};\r\n        }\r\n        // pluck special-cased date/time properties\r\n        startTime = eventProps.start;\r\n        if (startTime == null) {\r\n            startTime = eventProps.time;\r\n        } // accept 'time' as well\r\n        duration = eventProps.duration;\r\n        stick = eventProps.stick;\r\n        delete eventProps.start;\r\n        delete eventProps.time;\r\n        delete eventProps.duration;\r\n        delete eventProps.stick;\r\n    }\r\n    // fallback to standalone attribute values for each of the date/time properties\r\n    if (startTime == null) {\r\n        startTime = el.data(prefix + 'start');\r\n    }\r\n    if (startTime == null) {\r\n        startTime = el.data(prefix + 'time');\r\n    } // accept 'time' as well\r\n    if (duration == null) {\r\n        duration = el.data(prefix + 'duration');\r\n    }\r\n    if (stick == null) {\r\n        stick = el.data(prefix + 'stick');\r\n    }\r\n    // massage into correct data types\r\n    startTime = startTime != null ? moment.duration(startTime) : null;\r\n    duration = duration != null ? moment.duration(duration) : null;\r\n    stick = Boolean(stick);\r\n    return { eventProps: eventProps, startTime: startTime, duration: duration, stick: stick };\r\n}\r\n\n\n/***/ }),\n/* 234 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventDefMutation_1 = __webpack_require__(39);\r\nvar EventDefDateMutation_1 = __webpack_require__(40);\r\nvar HitDragListener_1 = __webpack_require__(17);\r\nvar Interaction_1 = __webpack_require__(14);\r\nvar EventResizing = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EventResizing, _super);\r\n    /*\r\n    component impements:\r\n      - bindSegHandlerToEl\r\n      - publiclyTrigger\r\n      - diffDates\r\n      - eventRangesToEventFootprints\r\n      - isEventInstanceGroupAllowed\r\n      - getSafeHitFootprint\r\n    */\r\n    function EventResizing(component, eventPointing) {\r\n        var _this = _super.call(this, component) || this;\r\n        _this.isResizing = false;\r\n        _this.eventPointing = eventPointing;\r\n        return _this;\r\n    }\r\n    EventResizing.prototype.end = function () {\r\n        if (this.dragListener) {\r\n            this.dragListener.endInteraction();\r\n        }\r\n    };\r\n    EventResizing.prototype.bindToEl = function (el) {\r\n        var component = this.component;\r\n        component.bindSegHandlerToEl(el, 'mousedown', this.handleMouseDown.bind(this));\r\n        component.bindSegHandlerToEl(el, 'touchstart', this.handleTouchStart.bind(this));\r\n    };\r\n    EventResizing.prototype.handleMouseDown = function (seg, ev) {\r\n        if (this.component.canStartResize(seg, ev)) {\r\n            this.buildDragListener(seg, $(ev.target).is('.fc-start-resizer'))\r\n                .startInteraction(ev, { distance: 5 });\r\n        }\r\n    };\r\n    EventResizing.prototype.handleTouchStart = function (seg, ev) {\r\n        if (this.component.canStartResize(seg, ev)) {\r\n            this.buildDragListener(seg, $(ev.target).is('.fc-start-resizer'))\r\n                .startInteraction(ev);\r\n        }\r\n    };\r\n    // Creates a listener that tracks the user as they resize an event segment.\r\n    // Generic enough to work with any type of Grid.\r\n    EventResizing.prototype.buildDragListener = function (seg, isStart) {\r\n        var _this = this;\r\n        var component = this.component;\r\n        var view = this.view;\r\n        var calendar = view.calendar;\r\n        var eventManager = calendar.eventManager;\r\n        var el = seg.el;\r\n        var eventDef = seg.footprint.eventDef;\r\n        var eventInstance = seg.footprint.eventInstance;\r\n        var isDragging;\r\n        var resizeMutation; // zoned event date properties. falsy if invalid resize\r\n        // Tracks mouse movement over the *grid's* coordinate map\r\n        var dragListener = this.dragListener = new HitDragListener_1.default(component, {\r\n            scroll: this.opt('dragScroll'),\r\n            subjectEl: el,\r\n            interactionStart: function () {\r\n                isDragging = false;\r\n            },\r\n            dragStart: function (ev) {\r\n                isDragging = true;\r\n                // ensure a mouseout on the manipulated event has been reported\r\n                _this.eventPointing.handleMouseout(seg, ev);\r\n                _this.segResizeStart(seg, ev);\r\n            },\r\n            hitOver: function (hit, isOrig, origHit) {\r\n                var isAllowed = true;\r\n                var origHitFootprint = component.getSafeHitFootprint(origHit);\r\n                var hitFootprint = component.getSafeHitFootprint(hit);\r\n                var mutatedEventInstanceGroup;\r\n                if (origHitFootprint && hitFootprint) {\r\n                    resizeMutation = isStart ?\r\n                        _this.computeEventStartResizeMutation(origHitFootprint, hitFootprint, seg.footprint) :\r\n                        _this.computeEventEndResizeMutation(origHitFootprint, hitFootprint, seg.footprint);\r\n                    if (resizeMutation) {\r\n                        mutatedEventInstanceGroup = eventManager.buildMutatedEventInstanceGroup(eventDef.id, resizeMutation);\r\n                        isAllowed = component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup);\r\n                    }\r\n                    else {\r\n                        isAllowed = false;\r\n                    }\r\n                }\r\n                else {\r\n                    isAllowed = false;\r\n                }\r\n                if (!isAllowed) {\r\n                    resizeMutation = null;\r\n                    util_1.disableCursor();\r\n                }\r\n                else if (resizeMutation.isEmpty()) {\r\n                    // no change. (FYI, event dates might have zones)\r\n                    resizeMutation = null;\r\n                }\r\n                if (resizeMutation) {\r\n                    view.hideEventsWithId(seg.footprint.eventDef.id);\r\n                    view.renderEventResize(component.eventRangesToEventFootprints(mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, calendar)), seg);\r\n                }\r\n            },\r\n            hitOut: function () {\r\n                resizeMutation = null;\r\n            },\r\n            hitDone: function () {\r\n                view.unrenderEventResize(seg);\r\n                view.showEventsWithId(seg.footprint.eventDef.id);\r\n                util_1.enableCursor();\r\n            },\r\n            interactionEnd: function (ev) {\r\n                if (isDragging) {\r\n                    _this.segResizeStop(seg, ev);\r\n                }\r\n                if (resizeMutation) { // valid date to resize to?\r\n                    // no need to re-show original, will rerender all anyways. esp important if eventRenderWait\r\n                    view.reportEventResize(eventInstance, resizeMutation, el, ev);\r\n                }\r\n                _this.dragListener = null;\r\n            }\r\n        });\r\n        return dragListener;\r\n    };\r\n    // Called before event segment resizing starts\r\n    EventResizing.prototype.segResizeStart = function (seg, ev) {\r\n        this.isResizing = true;\r\n        this.component.publiclyTrigger('eventResizeStart', {\r\n            context: seg.el[0],\r\n            args: [\r\n                seg.footprint.getEventLegacy(),\r\n                ev,\r\n                {},\r\n                this.view\r\n            ]\r\n        });\r\n    };\r\n    // Called after event segment resizing stops\r\n    EventResizing.prototype.segResizeStop = function (seg, ev) {\r\n        this.isResizing = false;\r\n        this.component.publiclyTrigger('eventResizeStop', {\r\n            context: seg.el[0],\r\n            args: [\r\n                seg.footprint.getEventLegacy(),\r\n                ev,\r\n                {},\r\n                this.view\r\n            ]\r\n        });\r\n    };\r\n    // Returns new date-information for an event segment being resized from its start\r\n    EventResizing.prototype.computeEventStartResizeMutation = function (startFootprint, endFootprint, origEventFootprint) {\r\n        var origRange = origEventFootprint.componentFootprint.unzonedRange;\r\n        var startDelta = this.component.diffDates(endFootprint.unzonedRange.getStart(), startFootprint.unzonedRange.getStart());\r\n        var dateMutation;\r\n        var eventDefMutation;\r\n        if (origRange.getStart().add(startDelta) < origRange.getEnd()) {\r\n            dateMutation = new EventDefDateMutation_1.default();\r\n            dateMutation.setStartDelta(startDelta);\r\n            eventDefMutation = new EventDefMutation_1.default();\r\n            eventDefMutation.setDateMutation(dateMutation);\r\n            return eventDefMutation;\r\n        }\r\n        return false;\r\n    };\r\n    // Returns new date-information for an event segment being resized from its end\r\n    EventResizing.prototype.computeEventEndResizeMutation = function (startFootprint, endFootprint, origEventFootprint) {\r\n        var origRange = origEventFootprint.componentFootprint.unzonedRange;\r\n        var endDelta = this.component.diffDates(endFootprint.unzonedRange.getEnd(), startFootprint.unzonedRange.getEnd());\r\n        var dateMutation;\r\n        var eventDefMutation;\r\n        if (origRange.getEnd().add(endDelta) > origRange.getStart()) {\r\n            dateMutation = new EventDefDateMutation_1.default();\r\n            dateMutation.setEndDelta(endDelta);\r\n            eventDefMutation = new EventDefMutation_1.default();\r\n            eventDefMutation.setDateMutation(dateMutation);\r\n            return eventDefMutation;\r\n        }\r\n        return false;\r\n    };\r\n    return EventResizing;\r\n}(Interaction_1.default));\r\nexports.default = EventResizing;\r\n\n\n/***/ }),\n/* 235 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventDefMutation_1 = __webpack_require__(39);\r\nvar EventDefDateMutation_1 = __webpack_require__(40);\r\nvar DragListener_1 = __webpack_require__(59);\r\nvar HitDragListener_1 = __webpack_require__(17);\r\nvar MouseFollower_1 = __webpack_require__(226);\r\nvar Interaction_1 = __webpack_require__(14);\r\nvar EventDragging = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EventDragging, _super);\r\n    /*\r\n    component implements:\r\n      - bindSegHandlerToEl\r\n      - publiclyTrigger\r\n      - diffDates\r\n      - eventRangesToEventFootprints\r\n      - isEventInstanceGroupAllowed\r\n    */\r\n    function EventDragging(component, eventPointing) {\r\n        var _this = _super.call(this, component) || this;\r\n        _this.isDragging = false;\r\n        _this.eventPointing = eventPointing;\r\n        return _this;\r\n    }\r\n    EventDragging.prototype.end = function () {\r\n        if (this.dragListener) {\r\n            this.dragListener.endInteraction();\r\n        }\r\n    };\r\n    EventDragging.prototype.getSelectionDelay = function () {\r\n        var delay = this.opt('eventLongPressDelay');\r\n        if (delay == null) {\r\n            delay = this.opt('longPressDelay'); // fallback\r\n        }\r\n        return delay;\r\n    };\r\n    EventDragging.prototype.bindToEl = function (el) {\r\n        var component = this.component;\r\n        component.bindSegHandlerToEl(el, 'mousedown', this.handleMousedown.bind(this));\r\n        component.bindSegHandlerToEl(el, 'touchstart', this.handleTouchStart.bind(this));\r\n    };\r\n    EventDragging.prototype.handleMousedown = function (seg, ev) {\r\n        if (!this.component.shouldIgnoreMouse() &&\r\n            this.component.canStartDrag(seg, ev)) {\r\n            this.buildDragListener(seg).startInteraction(ev, { distance: 5 });\r\n        }\r\n    };\r\n    EventDragging.prototype.handleTouchStart = function (seg, ev) {\r\n        var component = this.component;\r\n        var settings = {\r\n            delay: this.view.isEventDefSelected(seg.footprint.eventDef) ? // already selected?\r\n                0 : this.getSelectionDelay()\r\n        };\r\n        if (component.canStartDrag(seg, ev)) {\r\n            this.buildDragListener(seg).startInteraction(ev, settings);\r\n        }\r\n        else if (component.canStartSelection(seg, ev)) {\r\n            this.buildSelectListener(seg).startInteraction(ev, settings);\r\n        }\r\n    };\r\n    // seg isn't draggable, but let's use a generic DragListener\r\n    // simply for the delay, so it can be selected.\r\n    // Has side effect of setting/unsetting `dragListener`\r\n    EventDragging.prototype.buildSelectListener = function (seg) {\r\n        var _this = this;\r\n        var view = this.view;\r\n        var eventDef = seg.footprint.eventDef;\r\n        var eventInstance = seg.footprint.eventInstance; // null for inverse-background events\r\n        if (this.dragListener) {\r\n            return this.dragListener;\r\n        }\r\n        var dragListener = this.dragListener = new DragListener_1.default({\r\n            dragStart: function (ev) {\r\n                if (dragListener.isTouch &&\r\n                    !view.isEventDefSelected(eventDef) &&\r\n                    eventInstance) {\r\n                    // if not previously selected, will fire after a delay. then, select the event\r\n                    view.selectEventInstance(eventInstance);\r\n                }\r\n            },\r\n            interactionEnd: function (ev) {\r\n                _this.dragListener = null;\r\n            }\r\n        });\r\n        return dragListener;\r\n    };\r\n    // Builds a listener that will track user-dragging on an event segment.\r\n    // Generic enough to work with any type of Grid.\r\n    // Has side effect of setting/unsetting `dragListener`\r\n    EventDragging.prototype.buildDragListener = function (seg) {\r\n        var _this = this;\r\n        var component = this.component;\r\n        var view = this.view;\r\n        var calendar = view.calendar;\r\n        var eventManager = calendar.eventManager;\r\n        var el = seg.el;\r\n        var eventDef = seg.footprint.eventDef;\r\n        var eventInstance = seg.footprint.eventInstance; // null for inverse-background events\r\n        var isDragging;\r\n        var mouseFollower; // A clone of the original element that will move with the mouse\r\n        var eventDefMutation;\r\n        if (this.dragListener) {\r\n            return this.dragListener;\r\n        }\r\n        // Tracks mouse movement over the *view's* coordinate map. Allows dragging and dropping between subcomponents\r\n        // of the view.\r\n        var dragListener = this.dragListener = new HitDragListener_1.default(view, {\r\n            scroll: this.opt('dragScroll'),\r\n            subjectEl: el,\r\n            subjectCenter: true,\r\n            interactionStart: function (ev) {\r\n                seg.component = component; // for renderDrag\r\n                isDragging = false;\r\n                mouseFollower = new MouseFollower_1.default(seg.el, {\r\n                    additionalClass: 'fc-dragging',\r\n                    parentEl: view.el,\r\n                    opacity: dragListener.isTouch ? null : _this.opt('dragOpacity'),\r\n                    revertDuration: _this.opt('dragRevertDuration'),\r\n                    zIndex: 2 // one above the .fc-view\r\n                });\r\n                mouseFollower.hide(); // don't show until we know this is a real drag\r\n                mouseFollower.start(ev);\r\n            },\r\n            dragStart: function (ev) {\r\n                if (dragListener.isTouch &&\r\n                    !view.isEventDefSelected(eventDef) &&\r\n                    eventInstance) {\r\n                    // if not previously selected, will fire after a delay. then, select the event\r\n                    view.selectEventInstance(eventInstance);\r\n                }\r\n                isDragging = true;\r\n                // ensure a mouseout on the manipulated event has been reported\r\n                _this.eventPointing.handleMouseout(seg, ev);\r\n                _this.segDragStart(seg, ev);\r\n                view.hideEventsWithId(seg.footprint.eventDef.id);\r\n            },\r\n            hitOver: function (hit, isOrig, origHit) {\r\n                var isAllowed = true;\r\n                var origFootprint;\r\n                var footprint;\r\n                var mutatedEventInstanceGroup;\r\n                // starting hit could be forced (DayGrid.limit)\r\n                if (seg.hit) {\r\n                    origHit = seg.hit;\r\n                }\r\n                // hit might not belong to this grid, so query origin grid\r\n                origFootprint = origHit.component.getSafeHitFootprint(origHit);\r\n                footprint = hit.component.getSafeHitFootprint(hit);\r\n                if (origFootprint && footprint) {\r\n                    eventDefMutation = _this.computeEventDropMutation(origFootprint, footprint, eventDef);\r\n                    if (eventDefMutation) {\r\n                        mutatedEventInstanceGroup = eventManager.buildMutatedEventInstanceGroup(eventDef.id, eventDefMutation);\r\n                        isAllowed = component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup);\r\n                    }\r\n                    else {\r\n                        isAllowed = false;\r\n                    }\r\n                }\r\n                else {\r\n                    isAllowed = false;\r\n                }\r\n                if (!isAllowed) {\r\n                    eventDefMutation = null;\r\n                    util_1.disableCursor();\r\n                }\r\n                // if a valid drop location, have the subclass render a visual indication\r\n                if (eventDefMutation &&\r\n                    view.renderDrag(// truthy if rendered something\r\n                    component.eventRangesToEventFootprints(mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, calendar)), seg, dragListener.isTouch)) {\r\n                    mouseFollower.hide(); // if the subclass is already using a mock event \"helper\", hide our own\r\n                }\r\n                else {\r\n                    mouseFollower.show(); // otherwise, have the helper follow the mouse (no snapping)\r\n                }\r\n                if (isOrig) {\r\n                    // needs to have moved hits to be a valid drop\r\n                    eventDefMutation = null;\r\n                }\r\n            },\r\n            hitOut: function () {\r\n                view.unrenderDrag(seg); // unrender whatever was done in renderDrag\r\n                mouseFollower.show(); // show in case we are moving out of all hits\r\n                eventDefMutation = null;\r\n            },\r\n            hitDone: function () {\r\n                util_1.enableCursor();\r\n            },\r\n            interactionEnd: function (ev) {\r\n                delete seg.component; // prevent side effects\r\n                // do revert animation if hasn't changed. calls a callback when finished (whether animation or not)\r\n                mouseFollower.stop(!eventDefMutation, function () {\r\n                    if (isDragging) {\r\n                        view.unrenderDrag(seg);\r\n                        _this.segDragStop(seg, ev);\r\n                    }\r\n                    view.showEventsWithId(seg.footprint.eventDef.id);\r\n                    if (eventDefMutation) {\r\n                        // no need to re-show original, will rerender all anyways. esp important if eventRenderWait\r\n                        view.reportEventDrop(eventInstance, eventDefMutation, el, ev);\r\n                    }\r\n                });\r\n                _this.dragListener = null;\r\n            }\r\n        });\r\n        return dragListener;\r\n    };\r\n    // Called before event segment dragging starts\r\n    EventDragging.prototype.segDragStart = function (seg, ev) {\r\n        this.isDragging = true;\r\n        this.component.publiclyTrigger('eventDragStart', {\r\n            context: seg.el[0],\r\n            args: [\r\n                seg.footprint.getEventLegacy(),\r\n                ev,\r\n                {},\r\n                this.view\r\n            ]\r\n        });\r\n    };\r\n    // Called after event segment dragging stops\r\n    EventDragging.prototype.segDragStop = function (seg, ev) {\r\n        this.isDragging = false;\r\n        this.component.publiclyTrigger('eventDragStop', {\r\n            context: seg.el[0],\r\n            args: [\r\n                seg.footprint.getEventLegacy(),\r\n                ev,\r\n                {},\r\n                this.view\r\n            ]\r\n        });\r\n    };\r\n    // DOES NOT consider overlap/constraint\r\n    EventDragging.prototype.computeEventDropMutation = function (startFootprint, endFootprint, eventDef) {\r\n        var eventDefMutation = new EventDefMutation_1.default();\r\n        eventDefMutation.setDateMutation(this.computeEventDateMutation(startFootprint, endFootprint));\r\n        return eventDefMutation;\r\n    };\r\n    EventDragging.prototype.computeEventDateMutation = function (startFootprint, endFootprint) {\r\n        var date0 = startFootprint.unzonedRange.getStart();\r\n        var date1 = endFootprint.unzonedRange.getStart();\r\n        var clearEnd = false;\r\n        var forceTimed = false;\r\n        var forceAllDay = false;\r\n        var dateDelta;\r\n        var dateMutation;\r\n        if (startFootprint.isAllDay !== endFootprint.isAllDay) {\r\n            clearEnd = true;\r\n            if (endFootprint.isAllDay) {\r\n                forceAllDay = true;\r\n                date0.stripTime();\r\n            }\r\n            else {\r\n                forceTimed = true;\r\n            }\r\n        }\r\n        dateDelta = this.component.diffDates(date1, date0);\r\n        dateMutation = new EventDefDateMutation_1.default();\r\n        dateMutation.clearEnd = clearEnd;\r\n        dateMutation.forceTimed = forceTimed;\r\n        dateMutation.forceAllDay = forceAllDay;\r\n        dateMutation.setDateDelta(dateDelta);\r\n        return dateMutation;\r\n    };\r\n    return EventDragging;\r\n}(Interaction_1.default));\r\nexports.default = EventDragging;\r\n\n\n/***/ }),\n/* 236 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar HitDragListener_1 = __webpack_require__(17);\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar Interaction_1 = __webpack_require__(14);\r\nvar DateSelecting = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DateSelecting, _super);\r\n    /*\r\n    component must implement:\r\n      - bindDateHandlerToEl\r\n      - getSafeHitFootprint\r\n      - renderHighlight\r\n      - unrenderHighlight\r\n    */\r\n    function DateSelecting(component) {\r\n        var _this = _super.call(this, component) || this;\r\n        _this.dragListener = _this.buildDragListener();\r\n        return _this;\r\n    }\r\n    DateSelecting.prototype.end = function () {\r\n        this.dragListener.endInteraction();\r\n    };\r\n    DateSelecting.prototype.getDelay = function () {\r\n        var delay = this.opt('selectLongPressDelay');\r\n        if (delay == null) {\r\n            delay = this.opt('longPressDelay'); // fallback\r\n        }\r\n        return delay;\r\n    };\r\n    DateSelecting.prototype.bindToEl = function (el) {\r\n        var _this = this;\r\n        var component = this.component;\r\n        var dragListener = this.dragListener;\r\n        component.bindDateHandlerToEl(el, 'mousedown', function (ev) {\r\n            if (_this.opt('selectable') && !component.shouldIgnoreMouse()) {\r\n                dragListener.startInteraction(ev, {\r\n                    distance: _this.opt('selectMinDistance')\r\n                });\r\n            }\r\n        });\r\n        component.bindDateHandlerToEl(el, 'touchstart', function (ev) {\r\n            if (_this.opt('selectable') && !component.shouldIgnoreTouch()) {\r\n                dragListener.startInteraction(ev, {\r\n                    delay: _this.getDelay()\r\n                });\r\n            }\r\n        });\r\n        util_1.preventSelection(el);\r\n    };\r\n    // Creates a listener that tracks the user's drag across day elements, for day selecting.\r\n    DateSelecting.prototype.buildDragListener = function () {\r\n        var _this = this;\r\n        var component = this.component;\r\n        var selectionFootprint; // null if invalid selection\r\n        var dragListener = new HitDragListener_1.default(component, {\r\n            scroll: this.opt('dragScroll'),\r\n            interactionStart: function () {\r\n                selectionFootprint = null;\r\n            },\r\n            dragStart: function (ev) {\r\n                _this.view.unselect(ev); // since we could be rendering a new selection, we want to clear any old one\r\n            },\r\n            hitOver: function (hit, isOrig, origHit) {\r\n                var origHitFootprint;\r\n                var hitFootprint;\r\n                if (origHit) { // click needs to have started on a hit\r\n                    origHitFootprint = component.getSafeHitFootprint(origHit);\r\n                    hitFootprint = component.getSafeHitFootprint(hit);\r\n                    if (origHitFootprint && hitFootprint) {\r\n                        selectionFootprint = _this.computeSelection(origHitFootprint, hitFootprint);\r\n                    }\r\n                    else {\r\n                        selectionFootprint = null;\r\n                    }\r\n                    if (selectionFootprint) {\r\n                        component.renderSelectionFootprint(selectionFootprint);\r\n                    }\r\n                    else if (selectionFootprint === false) {\r\n                        util_1.disableCursor();\r\n                    }\r\n                }\r\n            },\r\n            hitOut: function () {\r\n                selectionFootprint = null;\r\n                component.unrenderSelection();\r\n            },\r\n            hitDone: function () {\r\n                util_1.enableCursor();\r\n            },\r\n            interactionEnd: function (ev, isCancelled) {\r\n                if (!isCancelled && selectionFootprint) {\r\n                    // the selection will already have been rendered. just report it\r\n                    _this.view.reportSelection(selectionFootprint, ev);\r\n                }\r\n            }\r\n        });\r\n        return dragListener;\r\n    };\r\n    // Given the first and last date-spans of a selection, returns another date-span object.\r\n    // Subclasses can override and provide additional data in the span object. Will be passed to renderSelectionFootprint().\r\n    // Will return false if the selection is invalid and this should be indicated to the user.\r\n    // Will return null/undefined if a selection invalid but no error should be reported.\r\n    DateSelecting.prototype.computeSelection = function (footprint0, footprint1) {\r\n        var wholeFootprint = this.computeSelectionFootprint(footprint0, footprint1);\r\n        if (wholeFootprint && !this.isSelectionFootprintAllowed(wholeFootprint)) {\r\n            return false;\r\n        }\r\n        return wholeFootprint;\r\n    };\r\n    // Given two spans, must return the combination of the two.\r\n    // TODO: do this separation of concerns (combining VS validation) for event dnd/resize too.\r\n    // Assumes both footprints are non-open-ended.\r\n    DateSelecting.prototype.computeSelectionFootprint = function (footprint0, footprint1) {\r\n        var ms = [\r\n            footprint0.unzonedRange.startMs,\r\n            footprint0.unzonedRange.endMs,\r\n            footprint1.unzonedRange.startMs,\r\n            footprint1.unzonedRange.endMs\r\n        ];\r\n        ms.sort(util_1.compareNumbers);\r\n        return new ComponentFootprint_1.default(new UnzonedRange_1.default(ms[0], ms[3]), footprint0.isAllDay);\r\n    };\r\n    DateSelecting.prototype.isSelectionFootprintAllowed = function (componentFootprint) {\r\n        return this.component.dateProfile.validUnzonedRange.containsRange(componentFootprint.unzonedRange) &&\r\n            this.view.calendar.constraints.isSelectionFootprintAllowed(componentFootprint);\r\n    };\r\n    return DateSelecting;\r\n}(Interaction_1.default));\r\nexports.default = DateSelecting;\r\n\n\n/***/ }),\n/* 237 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar HitDragListener_1 = __webpack_require__(17);\r\nvar Interaction_1 = __webpack_require__(14);\r\nvar DateClicking = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DateClicking, _super);\r\n    /*\r\n    component must implement:\r\n      - bindDateHandlerToEl\r\n      - getSafeHitFootprint\r\n      - getHitEl\r\n    */\r\n    function DateClicking(component) {\r\n        var _this = _super.call(this, component) || this;\r\n        _this.dragListener = _this.buildDragListener();\r\n        return _this;\r\n    }\r\n    DateClicking.prototype.end = function () {\r\n        this.dragListener.endInteraction();\r\n    };\r\n    DateClicking.prototype.bindToEl = function (el) {\r\n        var component = this.component;\r\n        var dragListener = this.dragListener;\r\n        component.bindDateHandlerToEl(el, 'mousedown', function (ev) {\r\n            if (!component.shouldIgnoreMouse()) {\r\n                dragListener.startInteraction(ev);\r\n            }\r\n        });\r\n        component.bindDateHandlerToEl(el, 'touchstart', function (ev) {\r\n            if (!component.shouldIgnoreTouch()) {\r\n                dragListener.startInteraction(ev);\r\n            }\r\n        });\r\n    };\r\n    // Creates a listener that tracks the user's drag across day elements, for day clicking.\r\n    DateClicking.prototype.buildDragListener = function () {\r\n        var _this = this;\r\n        var component = this.component;\r\n        var dayClickHit; // null if invalid dayClick\r\n        var dragListener = new HitDragListener_1.default(component, {\r\n            scroll: this.opt('dragScroll'),\r\n            interactionStart: function () {\r\n                dayClickHit = dragListener.origHit;\r\n            },\r\n            hitOver: function (hit, isOrig, origHit) {\r\n                // if user dragged to another cell at any point, it can no longer be a dayClick\r\n                if (!isOrig) {\r\n                    dayClickHit = null;\r\n                }\r\n            },\r\n            hitOut: function () {\r\n                dayClickHit = null;\r\n            },\r\n            interactionEnd: function (ev, isCancelled) {\r\n                var componentFootprint;\r\n                if (!isCancelled && dayClickHit) {\r\n                    componentFootprint = component.getSafeHitFootprint(dayClickHit);\r\n                    if (componentFootprint) {\r\n                        _this.view.triggerDayClick(componentFootprint, component.getHitEl(dayClickHit), ev);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        // because dragListener won't be called with any time delay, \"dragging\" will begin immediately,\r\n        // which will kill any touchmoving/scrolling. Prevent this.\r\n        dragListener.shouldCancelTouchScroll = false;\r\n        dragListener.scrollAlwaysKills = true;\r\n        return dragListener;\r\n    };\r\n    return DateClicking;\r\n}(Interaction_1.default));\r\nexports.default = DateClicking;\r\n\n\n/***/ }),\n/* 238 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar moment = __webpack_require__(0);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar Scroller_1 = __webpack_require__(41);\r\nvar View_1 = __webpack_require__(43);\r\nvar TimeGrid_1 = __webpack_require__(239);\r\nvar DayGrid_1 = __webpack_require__(66);\r\nvar AGENDA_ALL_DAY_EVENT_LIMIT = 5;\r\nvar agendaTimeGridMethods;\r\nvar agendaDayGridMethods;\r\n/* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// Is a manager for the TimeGrid subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).\r\n// Responsible for managing width/height.\r\nvar AgendaView = /** @class */ (function (_super) {\r\n    tslib_1.__extends(AgendaView, _super);\r\n    function AgendaView(calendar, viewSpec) {\r\n        var _this = _super.call(this, calendar, viewSpec) || this;\r\n        _this.usesMinMaxTime = true; // indicates that minTime/maxTime affects rendering\r\n        _this.timeGrid = _this.instantiateTimeGrid();\r\n        _this.addChild(_this.timeGrid);\r\n        if (_this.opt('allDaySlot')) { // should we display the \"all-day\" area?\r\n            _this.dayGrid = _this.instantiateDayGrid(); // the all-day subcomponent of this view\r\n            _this.addChild(_this.dayGrid);\r\n        }\r\n        _this.scroller = new Scroller_1.default({\r\n            overflowX: 'hidden',\r\n            overflowY: 'auto'\r\n        });\r\n        return _this;\r\n    }\r\n    // Instantiates the TimeGrid object this view needs. Draws from this.timeGridClass\r\n    AgendaView.prototype.instantiateTimeGrid = function () {\r\n        var timeGrid = new this.timeGridClass(this);\r\n        util_1.copyOwnProps(agendaTimeGridMethods, timeGrid);\r\n        return timeGrid;\r\n    };\r\n    // Instantiates the DayGrid object this view might need. Draws from this.dayGridClass\r\n    AgendaView.prototype.instantiateDayGrid = function () {\r\n        var dayGrid = new this.dayGridClass(this);\r\n        util_1.copyOwnProps(agendaDayGridMethods, dayGrid);\r\n        return dayGrid;\r\n    };\r\n    /* Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    AgendaView.prototype.renderSkeleton = function () {\r\n        var timeGridWrapEl;\r\n        var timeGridEl;\r\n        this.el.addClass('fc-agenda-view').html(this.renderSkeletonHtml());\r\n        this.scroller.render();\r\n        timeGridWrapEl = this.scroller.el.addClass('fc-time-grid-container');\r\n        timeGridEl = $('<div class=\"fc-time-grid\" />').appendTo(timeGridWrapEl);\r\n        this.el.find('.fc-body > tr > td').append(timeGridWrapEl);\r\n        this.timeGrid.headContainerEl = this.el.find('.fc-head-container');\r\n        this.timeGrid.setElement(timeGridEl);\r\n        if (this.dayGrid) {\r\n            this.dayGrid.setElement(this.el.find('.fc-day-grid'));\r\n            // have the day-grid extend it's coordinate area over the <hr> dividing the two grids\r\n            this.dayGrid.bottomCoordPadding = this.dayGrid.el.next('hr').outerHeight();\r\n        }\r\n    };\r\n    AgendaView.prototype.unrenderSkeleton = function () {\r\n        this.timeGrid.removeElement();\r\n        if (this.dayGrid) {\r\n            this.dayGrid.removeElement();\r\n        }\r\n        this.scroller.destroy();\r\n    };\r\n    // Builds the HTML skeleton for the view.\r\n    // The day-grid and time-grid components will render inside containers defined by this HTML.\r\n    AgendaView.prototype.renderSkeletonHtml = function () {\r\n        var theme = this.calendar.theme;\r\n        return '' +\r\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            (this.opt('columnHeader') ?\r\n                '<thead class=\"fc-head\">' +\r\n                    '<tr>' +\r\n                    '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\r\n                    '</tr>' +\r\n                    '</thead>' :\r\n                '') +\r\n            '<tbody class=\"fc-body\">' +\r\n            '<tr>' +\r\n            '<td class=\"' + theme.getClass('widgetContent') + '\">' +\r\n            (this.dayGrid ?\r\n                '<div class=\"fc-day-grid\"/>' +\r\n                    '<hr class=\"fc-divider ' + theme.getClass('widgetHeader') + '\"/>' :\r\n                '') +\r\n            '</td>' +\r\n            '</tr>' +\r\n            '</tbody>' +\r\n            '</table>';\r\n    };\r\n    // Generates an HTML attribute string for setting the width of the axis, if it is known\r\n    AgendaView.prototype.axisStyleAttr = function () {\r\n        if (this.axisWidth != null) {\r\n            return 'style=\"width:' + this.axisWidth + 'px\"';\r\n        }\r\n        return '';\r\n    };\r\n    /* Now Indicator\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    AgendaView.prototype.getNowIndicatorUnit = function () {\r\n        return this.timeGrid.getNowIndicatorUnit();\r\n    };\r\n    /* Dimensions\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Adjusts the vertical dimensions of the view to the specified values\r\n    AgendaView.prototype.updateSize = function (totalHeight, isAuto, isResize) {\r\n        var eventLimit;\r\n        var scrollerHeight;\r\n        var scrollbarWidths;\r\n        _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\r\n        // make all axis cells line up, and record the width so newly created axis cells will have it\r\n        this.axisWidth = util_1.matchCellWidths(this.el.find('.fc-axis'));\r\n        // hack to give the view some height prior to timeGrid's columns being rendered\r\n        // TODO: separate setting height from scroller VS timeGrid.\r\n        if (!this.timeGrid.colEls) {\r\n            if (!isAuto) {\r\n                scrollerHeight = this.computeScrollerHeight(totalHeight);\r\n                this.scroller.setHeight(scrollerHeight);\r\n            }\r\n            return;\r\n        }\r\n        // set of fake row elements that must compensate when scroller has scrollbars\r\n        var noScrollRowEls = this.el.find('.fc-row:not(.fc-scroller *)');\r\n        // reset all dimensions back to the original state\r\n        this.timeGrid.bottomRuleEl.hide(); // .show() will be called later if this <hr> is necessary\r\n        this.scroller.clear(); // sets height to 'auto' and clears overflow\r\n        util_1.uncompensateScroll(noScrollRowEls);\r\n        // limit number of events in the all-day area\r\n        if (this.dayGrid) {\r\n            this.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\r\n            eventLimit = this.opt('eventLimit');\r\n            if (eventLimit && typeof eventLimit !== 'number') {\r\n                eventLimit = AGENDA_ALL_DAY_EVENT_LIMIT; // make sure \"auto\" goes to a real number\r\n            }\r\n            if (eventLimit) {\r\n                this.dayGrid.limitRows(eventLimit);\r\n            }\r\n        }\r\n        if (!isAuto) { // should we force dimensions of the scroll container?\r\n            scrollerHeight = this.computeScrollerHeight(totalHeight);\r\n            this.scroller.setHeight(scrollerHeight);\r\n            scrollbarWidths = this.scroller.getScrollbarWidths();\r\n            if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\r\n                // make the all-day and header rows lines up\r\n                util_1.compensateScroll(noScrollRowEls, scrollbarWidths);\r\n                // the scrollbar compensation might have changed text flow, which might affect height, so recalculate\r\n                // and reapply the desired height to the scroller.\r\n                scrollerHeight = this.computeScrollerHeight(totalHeight);\r\n                this.scroller.setHeight(scrollerHeight);\r\n            }\r\n            // guarantees the same scrollbar widths\r\n            this.scroller.lockOverflow(scrollbarWidths);\r\n            // if there's any space below the slats, show the horizontal rule.\r\n            // this won't cause any new overflow, because lockOverflow already called.\r\n            if (this.timeGrid.getTotalSlatHeight() < scrollerHeight) {\r\n                this.timeGrid.bottomRuleEl.show();\r\n            }\r\n        }\r\n    };\r\n    // given a desired total height of the view, returns what the height of the scroller should be\r\n    AgendaView.prototype.computeScrollerHeight = function (totalHeight) {\r\n        return totalHeight -\r\n            util_1.subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\r\n    };\r\n    /* Scroll\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Computes the initial pre-configured scroll state prior to allowing the user to change it\r\n    AgendaView.prototype.computeInitialDateScroll = function () {\r\n        var scrollTime = moment.duration(this.opt('scrollTime'));\r\n        var top = this.timeGrid.computeTimeTop(scrollTime);\r\n        // zoom can give weird floating-point values. rather scroll a little bit further\r\n        top = Math.ceil(top);\r\n        if (top) {\r\n            top++; // to overcome top border that slots beyond the first have. looks better\r\n        }\r\n        return { top: top };\r\n    };\r\n    AgendaView.prototype.queryDateScroll = function () {\r\n        return { top: this.scroller.getScrollTop() };\r\n    };\r\n    AgendaView.prototype.applyDateScroll = function (scroll) {\r\n        if (scroll.top !== undefined) {\r\n            this.scroller.setScrollTop(scroll.top);\r\n        }\r\n    };\r\n    /* Hit Areas\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // forward all hit-related method calls to the grids (dayGrid might not be defined)\r\n    AgendaView.prototype.getHitFootprint = function (hit) {\r\n        // TODO: hit.component is set as a hack to identify where the hit came from\r\n        return hit.component.getHitFootprint(hit);\r\n    };\r\n    AgendaView.prototype.getHitEl = function (hit) {\r\n        // TODO: hit.component is set as a hack to identify where the hit came from\r\n        return hit.component.getHitEl(hit);\r\n    };\r\n    /* Event Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    AgendaView.prototype.executeEventRender = function (eventsPayload) {\r\n        var dayEventsPayload = {};\r\n        var timedEventsPayload = {};\r\n        var id;\r\n        var eventInstanceGroup;\r\n        // separate the events into all-day and timed\r\n        for (id in eventsPayload) {\r\n            eventInstanceGroup = eventsPayload[id];\r\n            if (eventInstanceGroup.getEventDef().isAllDay()) {\r\n                dayEventsPayload[id] = eventInstanceGroup;\r\n            }\r\n            else {\r\n                timedEventsPayload[id] = eventInstanceGroup;\r\n            }\r\n        }\r\n        this.timeGrid.executeEventRender(timedEventsPayload);\r\n        if (this.dayGrid) {\r\n            this.dayGrid.executeEventRender(dayEventsPayload);\r\n        }\r\n    };\r\n    /* Dragging/Resizing Routing\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // A returned value of `true` signals that a mock \"helper\" event has been rendered.\r\n    AgendaView.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\r\n        var groups = groupEventFootprintsByAllDay(eventFootprints);\r\n        var renderedHelper = false;\r\n        renderedHelper = this.timeGrid.renderDrag(groups.timed, seg, isTouch);\r\n        if (this.dayGrid) {\r\n            renderedHelper = this.dayGrid.renderDrag(groups.allDay, seg, isTouch) || renderedHelper;\r\n        }\r\n        return renderedHelper;\r\n    };\r\n    AgendaView.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\r\n        var groups = groupEventFootprintsByAllDay(eventFootprints);\r\n        this.timeGrid.renderEventResize(groups.timed, seg, isTouch);\r\n        if (this.dayGrid) {\r\n            this.dayGrid.renderEventResize(groups.allDay, seg, isTouch);\r\n        }\r\n    };\r\n    /* Selection\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders a visual indication of a selection\r\n    AgendaView.prototype.renderSelectionFootprint = function (componentFootprint) {\r\n        if (!componentFootprint.isAllDay) {\r\n            this.timeGrid.renderSelectionFootprint(componentFootprint);\r\n        }\r\n        else if (this.dayGrid) {\r\n            this.dayGrid.renderSelectionFootprint(componentFootprint);\r\n        }\r\n    };\r\n    return AgendaView;\r\n}(View_1.default));\r\nexports.default = AgendaView;\r\nAgendaView.prototype.timeGridClass = TimeGrid_1.default;\r\nAgendaView.prototype.dayGridClass = DayGrid_1.default;\r\n// Will customize the rendering behavior of the AgendaView's timeGrid\r\nagendaTimeGridMethods = {\r\n    // Generates the HTML that will go before the day-of week header cells\r\n    renderHeadIntroHtml: function () {\r\n        var view = this.view;\r\n        var calendar = view.calendar;\r\n        var weekStart = calendar.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs, true);\r\n        var weekText;\r\n        if (this.opt('weekNumbers')) {\r\n            weekText = weekStart.format(this.opt('smallWeekFormat'));\r\n            return '' +\r\n                '<th class=\"fc-axis fc-week-number ' + calendar.theme.getClass('widgetHeader') + '\" ' + view.axisStyleAttr() + '>' +\r\n                view.buildGotoAnchorHtml(// aside from link, important for matchCellWidths\r\n                { date: weekStart, type: 'week', forceOff: this.colCnt > 1 }, util_1.htmlEscape(weekText) // inner HTML\r\n                ) +\r\n                '</th>';\r\n        }\r\n        else {\r\n            return '<th class=\"fc-axis ' + calendar.theme.getClass('widgetHeader') + '\" ' + view.axisStyleAttr() + '></th>';\r\n        }\r\n    },\r\n    // Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.\r\n    renderBgIntroHtml: function () {\r\n        var view = this.view;\r\n        return '<td class=\"fc-axis ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '></td>';\r\n    },\r\n    // Generates the HTML that goes before all other types of cells.\r\n    // Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\r\n    renderIntroHtml: function () {\r\n        var view = this.view;\r\n        return '<td class=\"fc-axis\" ' + view.axisStyleAttr() + '></td>';\r\n    }\r\n};\r\n// Will customize the rendering behavior of the AgendaView's dayGrid\r\nagendaDayGridMethods = {\r\n    // Generates the HTML that goes before the all-day cells\r\n    renderBgIntroHtml: function () {\r\n        var view = this.view;\r\n        return '' +\r\n            '<td class=\"fc-axis ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '>' +\r\n            '<span>' + // needed for matchCellWidths\r\n            view.getAllDayHtml() +\r\n            '</span>' +\r\n            '</td>';\r\n    },\r\n    // Generates the HTML that goes before all other types of cells.\r\n    // Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\r\n    renderIntroHtml: function () {\r\n        var view = this.view;\r\n        return '<td class=\"fc-axis\" ' + view.axisStyleAttr() + '></td>';\r\n    }\r\n};\r\nfunction groupEventFootprintsByAllDay(eventFootprints) {\r\n    var allDay = [];\r\n    var timed = [];\r\n    var i;\r\n    for (i = 0; i < eventFootprints.length; i++) {\r\n        if (eventFootprints[i].componentFootprint.isAllDay) {\r\n            allDay.push(eventFootprints[i]);\r\n        }\r\n        else {\r\n            timed.push(eventFootprints[i]);\r\n        }\r\n    }\r\n    return { allDay: allDay, timed: timed };\r\n}\r\n\n\n/***/ }),\n/* 239 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar InteractiveDateComponent_1 = __webpack_require__(42);\r\nvar BusinessHourRenderer_1 = __webpack_require__(61);\r\nvar StandardInteractionsMixin_1 = __webpack_require__(65);\r\nvar DayTableMixin_1 = __webpack_require__(60);\r\nvar CoordCache_1 = __webpack_require__(58);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar ComponentFootprint_1 = __webpack_require__(12);\r\nvar TimeGridEventRenderer_1 = __webpack_require__(240);\r\nvar TimeGridHelperRenderer_1 = __webpack_require__(241);\r\nvar TimeGridFillRenderer_1 = __webpack_require__(242);\r\n/* A component that renders one or more columns of vertical time slots\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// We mixin DayTable, even though there is only a single row of days\r\n// potential nice values for the slot-duration and interval-duration\r\n// from largest to smallest\r\nvar AGENDA_STOCK_SUB_DURATIONS = [\r\n    { hours: 1 },\r\n    { minutes: 30 },\r\n    { minutes: 15 },\r\n    { seconds: 30 },\r\n    { seconds: 15 }\r\n];\r\nvar TimeGrid = /** @class */ (function (_super) {\r\n    tslib_1.__extends(TimeGrid, _super);\r\n    function TimeGrid(view) {\r\n        var _this = _super.call(this, view) || this;\r\n        _this.processOptions();\r\n        return _this;\r\n    }\r\n    // Slices up the given span (unzoned start/end with other misc data) into an array of segments\r\n    TimeGrid.prototype.componentFootprintToSegs = function (componentFootprint) {\r\n        var segs = this.sliceRangeByTimes(componentFootprint.unzonedRange);\r\n        var i;\r\n        for (i = 0; i < segs.length; i++) {\r\n            if (this.isRTL) {\r\n                segs[i].col = this.daysPerRow - 1 - segs[i].dayIndex;\r\n            }\r\n            else {\r\n                segs[i].col = segs[i].dayIndex;\r\n            }\r\n        }\r\n        return segs;\r\n    };\r\n    /* Date Handling\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    TimeGrid.prototype.sliceRangeByTimes = function (unzonedRange) {\r\n        var segs = [];\r\n        var segRange;\r\n        var dayIndex;\r\n        for (dayIndex = 0; dayIndex < this.daysPerRow; dayIndex++) {\r\n            segRange = unzonedRange.intersect(this.dayRanges[dayIndex]);\r\n            if (segRange) {\r\n                segs.push({\r\n                    startMs: segRange.startMs,\r\n                    endMs: segRange.endMs,\r\n                    isStart: segRange.isStart,\r\n                    isEnd: segRange.isEnd,\r\n                    dayIndex: dayIndex\r\n                });\r\n            }\r\n        }\r\n        return segs;\r\n    };\r\n    /* Options\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Parses various options into properties of this object\r\n    TimeGrid.prototype.processOptions = function () {\r\n        var slotDuration = this.opt('slotDuration');\r\n        var snapDuration = this.opt('snapDuration');\r\n        var input;\r\n        slotDuration = moment.duration(slotDuration);\r\n        snapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration;\r\n        this.slotDuration = slotDuration;\r\n        this.snapDuration = snapDuration;\r\n        this.snapsPerSlot = slotDuration / snapDuration; // TODO: ensure an integer multiple?\r\n        // might be an array value (for TimelineView).\r\n        // if so, getting the most granular entry (the last one probably).\r\n        input = this.opt('slotLabelFormat');\r\n        if ($.isArray(input)) {\r\n            input = input[input.length - 1];\r\n        }\r\n        this.labelFormat = input ||\r\n            this.opt('smallTimeFormat'); // the computed default\r\n        input = this.opt('slotLabelInterval');\r\n        this.labelInterval = input ?\r\n            moment.duration(input) :\r\n            this.computeLabelInterval(slotDuration);\r\n    };\r\n    // Computes an automatic value for slotLabelInterval\r\n    TimeGrid.prototype.computeLabelInterval = function (slotDuration) {\r\n        var i;\r\n        var labelInterval;\r\n        var slotsPerLabel;\r\n        // find the smallest stock label interval that results in more than one slots-per-label\r\n        for (i = AGENDA_STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\r\n            labelInterval = moment.duration(AGENDA_STOCK_SUB_DURATIONS[i]);\r\n            slotsPerLabel = util_1.divideDurationByDuration(labelInterval, slotDuration);\r\n            if (util_1.isInt(slotsPerLabel) && slotsPerLabel > 1) {\r\n                return labelInterval;\r\n            }\r\n        }\r\n        return moment.duration(slotDuration); // fall back. clone\r\n    };\r\n    /* Date Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    TimeGrid.prototype.renderDates = function (dateProfile) {\r\n        this.dateProfile = dateProfile;\r\n        this.updateDayTable();\r\n        this.renderSlats();\r\n        this.renderColumns();\r\n    };\r\n    TimeGrid.prototype.unrenderDates = function () {\r\n        // this.unrenderSlats(); // don't need this because repeated .html() calls clear\r\n        this.unrenderColumns();\r\n    };\r\n    TimeGrid.prototype.renderSkeleton = function () {\r\n        var theme = this.view.calendar.theme;\r\n        this.el.html('<div class=\"fc-bg\"></div>' +\r\n            '<div class=\"fc-slats\"></div>' +\r\n            '<hr class=\"fc-divider ' + theme.getClass('widgetHeader') + '\" style=\"display:none\" />');\r\n        this.bottomRuleEl = this.el.find('hr');\r\n    };\r\n    TimeGrid.prototype.renderSlats = function () {\r\n        var theme = this.view.calendar.theme;\r\n        this.slatContainerEl = this.el.find('> .fc-slats')\r\n            .html(// avoids needing ::unrenderSlats()\r\n        '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            this.renderSlatRowHtml() +\r\n            '</table>');\r\n        this.slatEls = this.slatContainerEl.find('tr');\r\n        this.slatCoordCache = new CoordCache_1.default({\r\n            els: this.slatEls,\r\n            isVertical: true\r\n        });\r\n    };\r\n    // Generates the HTML for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\r\n    TimeGrid.prototype.renderSlatRowHtml = function () {\r\n        var view = this.view;\r\n        var calendar = view.calendar;\r\n        var theme = calendar.theme;\r\n        var isRTL = this.isRTL;\r\n        var dateProfile = this.dateProfile;\r\n        var html = '';\r\n        var slotTime = moment.duration(+dateProfile.minTime); // wish there was .clone() for durations\r\n        var slotIterator = moment.duration(0);\r\n        var slotDate; // will be on the view's first day, but we only care about its time\r\n        var isLabeled;\r\n        var axisHtml;\r\n        // Calculate the time for each slot\r\n        while (slotTime < dateProfile.maxTime) {\r\n            slotDate = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.startMs).time(slotTime);\r\n            isLabeled = util_1.isInt(util_1.divideDurationByDuration(slotIterator, this.labelInterval));\r\n            axisHtml =\r\n                '<td class=\"fc-axis fc-time ' + theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '>' +\r\n                    (isLabeled ?\r\n                        '<span>' + // for matchCellWidths\r\n                            util_1.htmlEscape(slotDate.format(this.labelFormat)) +\r\n                            '</span>' :\r\n                        '') +\r\n                    '</td>';\r\n            html +=\r\n                '<tr data-time=\"' + slotDate.format('HH:mm:ss') + '\"' +\r\n                    (isLabeled ? '' : ' class=\"fc-minor\"') +\r\n                    '>' +\r\n                    (!isRTL ? axisHtml : '') +\r\n                    '<td class=\"' + theme.getClass('widgetContent') + '\"/>' +\r\n                    (isRTL ? axisHtml : '') +\r\n                    '</tr>';\r\n            slotTime.add(this.slotDuration);\r\n            slotIterator.add(this.slotDuration);\r\n        }\r\n        return html;\r\n    };\r\n    TimeGrid.prototype.renderColumns = function () {\r\n        var dateProfile = this.dateProfile;\r\n        var theme = this.view.calendar.theme;\r\n        this.dayRanges = this.dayDates.map(function (dayDate) {\r\n            return new UnzonedRange_1.default(dayDate.clone().add(dateProfile.minTime), dayDate.clone().add(dateProfile.maxTime));\r\n        });\r\n        if (this.headContainerEl) {\r\n            this.headContainerEl.html(this.renderHeadHtml());\r\n        }\r\n        this.el.find('> .fc-bg').html('<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            this.renderBgTrHtml(0) + // row=0\r\n            '</table>');\r\n        this.colEls = this.el.find('.fc-day, .fc-disabled-day');\r\n        this.colCoordCache = new CoordCache_1.default({\r\n            els: this.colEls,\r\n            isHorizontal: true\r\n        });\r\n        this.renderContentSkeleton();\r\n    };\r\n    TimeGrid.prototype.unrenderColumns = function () {\r\n        this.unrenderContentSkeleton();\r\n    };\r\n    /* Content Skeleton\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders the DOM that the view's content will live in\r\n    TimeGrid.prototype.renderContentSkeleton = function () {\r\n        var cellHtml = '';\r\n        var i;\r\n        var skeletonEl;\r\n        for (i = 0; i < this.colCnt; i++) {\r\n            cellHtml +=\r\n                '<td>' +\r\n                    '<div class=\"fc-content-col\">' +\r\n                    '<div class=\"fc-event-container fc-helper-container\"></div>' +\r\n                    '<div class=\"fc-event-container\"></div>' +\r\n                    '<div class=\"fc-highlight-container\"></div>' +\r\n                    '<div class=\"fc-bgevent-container\"></div>' +\r\n                    '<div class=\"fc-business-container\"></div>' +\r\n                    '</div>' +\r\n                    '</td>';\r\n        }\r\n        skeletonEl = this.contentSkeletonEl = $('<div class=\"fc-content-skeleton\">' +\r\n            '<table>' +\r\n            '<tr>' + cellHtml + '</tr>' +\r\n            '</table>' +\r\n            '</div>');\r\n        this.colContainerEls = skeletonEl.find('.fc-content-col');\r\n        this.helperContainerEls = skeletonEl.find('.fc-helper-container');\r\n        this.fgContainerEls = skeletonEl.find('.fc-event-container:not(.fc-helper-container)');\r\n        this.bgContainerEls = skeletonEl.find('.fc-bgevent-container');\r\n        this.highlightContainerEls = skeletonEl.find('.fc-highlight-container');\r\n        this.businessContainerEls = skeletonEl.find('.fc-business-container');\r\n        this.bookendCells(skeletonEl.find('tr')); // TODO: do this on string level\r\n        this.el.append(skeletonEl);\r\n    };\r\n    TimeGrid.prototype.unrenderContentSkeleton = function () {\r\n        if (this.contentSkeletonEl) { // defensive :(\r\n            this.contentSkeletonEl.remove();\r\n            this.contentSkeletonEl = null;\r\n            this.colContainerEls = null;\r\n            this.helperContainerEls = null;\r\n            this.fgContainerEls = null;\r\n            this.bgContainerEls = null;\r\n            this.highlightContainerEls = null;\r\n            this.businessContainerEls = null;\r\n        }\r\n    };\r\n    // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's col\r\n    TimeGrid.prototype.groupSegsByCol = function (segs) {\r\n        var segsByCol = [];\r\n        var i;\r\n        for (i = 0; i < this.colCnt; i++) {\r\n            segsByCol.push([]);\r\n        }\r\n        for (i = 0; i < segs.length; i++) {\r\n            segsByCol[segs[i].col].push(segs[i]);\r\n        }\r\n        return segsByCol;\r\n    };\r\n    // Given segments grouped by column, insert the segments' elements into a parallel array of container\r\n    // elements, each living within a column.\r\n    TimeGrid.prototype.attachSegsByCol = function (segsByCol, containerEls) {\r\n        var col;\r\n        var segs;\r\n        var i;\r\n        for (col = 0; col < this.colCnt; col++) { // iterate each column grouping\r\n            segs = segsByCol[col];\r\n            for (i = 0; i < segs.length; i++) {\r\n                containerEls.eq(col).append(segs[i].el);\r\n            }\r\n        }\r\n    };\r\n    /* Now Indicator\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    TimeGrid.prototype.getNowIndicatorUnit = function () {\r\n        return 'minute'; // will refresh on the minute\r\n    };\r\n    TimeGrid.prototype.renderNowIndicator = function (date) {\r\n        // HACK: if date columns not ready for some reason (scheduler)\r\n        if (!this.colContainerEls) {\r\n            return;\r\n        }\r\n        // seg system might be overkill, but it handles scenario where line needs to be rendered\r\n        //  more than once because of columns with the same date (resources columns for example)\r\n        var segs = this.componentFootprintToSegs(new ComponentFootprint_1.default(new UnzonedRange_1.default(date, date.valueOf() + 1), // protect against null range\r\n        false // all-day\r\n        ));\r\n        var top = this.computeDateTop(date, date);\r\n        var nodes = [];\r\n        var i;\r\n        // render lines within the columns\r\n        for (i = 0; i < segs.length; i++) {\r\n            nodes.push($('<div class=\"fc-now-indicator fc-now-indicator-line\"></div>')\r\n                .css('top', top)\r\n                .appendTo(this.colContainerEls.eq(segs[i].col))[0]);\r\n        }\r\n        // render an arrow over the axis\r\n        if (segs.length > 0) { // is the current time in view?\r\n            nodes.push($('<div class=\"fc-now-indicator fc-now-indicator-arrow\"></div>')\r\n                .css('top', top)\r\n                .appendTo(this.el.find('.fc-content-skeleton'))[0]);\r\n        }\r\n        this.nowIndicatorEls = $(nodes);\r\n    };\r\n    TimeGrid.prototype.unrenderNowIndicator = function () {\r\n        if (this.nowIndicatorEls) {\r\n            this.nowIndicatorEls.remove();\r\n            this.nowIndicatorEls = null;\r\n        }\r\n    };\r\n    /* Coordinates\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    TimeGrid.prototype.updateSize = function (totalHeight, isAuto, isResize) {\r\n        _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\r\n        this.slatCoordCache.build();\r\n        if (isResize) {\r\n            this.updateSegVerticals([].concat(this.eventRenderer.getSegs(), this.businessSegs || []));\r\n        }\r\n    };\r\n    TimeGrid.prototype.getTotalSlatHeight = function () {\r\n        return this.slatContainerEl.outerHeight();\r\n    };\r\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\r\n    // `ms` can be a millisecond UTC time OR a UTC moment.\r\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\r\n    TimeGrid.prototype.computeDateTop = function (ms, startOfDayDate) {\r\n        return this.computeTimeTop(moment.duration(ms - startOfDayDate.clone().stripTime()));\r\n    };\r\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\r\n    TimeGrid.prototype.computeTimeTop = function (time) {\r\n        var len = this.slatEls.length;\r\n        var dateProfile = this.dateProfile;\r\n        var slatCoverage = (time - dateProfile.minTime) / this.slotDuration; // floating-point value of # of slots covered\r\n        var slatIndex;\r\n        var slatRemainder;\r\n        // compute a floating-point number for how many slats should be progressed through.\r\n        // from 0 to number of slats (inclusive)\r\n        // constrained because minTime/maxTime might be customized.\r\n        slatCoverage = Math.max(0, slatCoverage);\r\n        slatCoverage = Math.min(len, slatCoverage);\r\n        // an integer index of the furthest whole slat\r\n        // from 0 to number slats (*exclusive*, so len-1)\r\n        slatIndex = Math.floor(slatCoverage);\r\n        slatIndex = Math.min(slatIndex, len - 1);\r\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\r\n        // could be 1.0 if slatCoverage is covering *all* the slots\r\n        slatRemainder = slatCoverage - slatIndex;\r\n        return this.slatCoordCache.getTopPosition(slatIndex) +\r\n            this.slatCoordCache.getHeight(slatIndex) * slatRemainder;\r\n    };\r\n    // Refreshes the CSS top/bottom coordinates for each segment element.\r\n    // Works when called after initial render, after a window resize/zoom for example.\r\n    TimeGrid.prototype.updateSegVerticals = function (segs) {\r\n        this.computeSegVerticals(segs);\r\n        this.assignSegVerticals(segs);\r\n    };\r\n    // For each segment in an array, computes and assigns its top and bottom properties\r\n    TimeGrid.prototype.computeSegVerticals = function (segs) {\r\n        var eventMinHeight = this.opt('agendaEventMinHeight');\r\n        var i;\r\n        var seg;\r\n        var dayDate;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            dayDate = this.dayDates[seg.dayIndex];\r\n            seg.top = this.computeDateTop(seg.startMs, dayDate);\r\n            seg.bottom = Math.max(seg.top + eventMinHeight, this.computeDateTop(seg.endMs, dayDate));\r\n        }\r\n    };\r\n    // Given segments that already have their top/bottom properties computed, applies those values to\r\n    // the segments' elements.\r\n    TimeGrid.prototype.assignSegVerticals = function (segs) {\r\n        var i;\r\n        var seg;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            seg.el.css(this.generateSegVerticalCss(seg));\r\n        }\r\n    };\r\n    // Generates an object with CSS properties for the top/bottom coordinates of a segment element\r\n    TimeGrid.prototype.generateSegVerticalCss = function (seg) {\r\n        return {\r\n            top: seg.top,\r\n            bottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container\r\n        };\r\n    };\r\n    /* Hit System\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    TimeGrid.prototype.prepareHits = function () {\r\n        this.colCoordCache.build();\r\n        this.slatCoordCache.build();\r\n    };\r\n    TimeGrid.prototype.releaseHits = function () {\r\n        this.colCoordCache.clear();\r\n        // NOTE: don't clear slatCoordCache because we rely on it for computeTimeTop\r\n    };\r\n    TimeGrid.prototype.queryHit = function (leftOffset, topOffset) {\r\n        var snapsPerSlot = this.snapsPerSlot;\r\n        var colCoordCache = this.colCoordCache;\r\n        var slatCoordCache = this.slatCoordCache;\r\n        if (colCoordCache.isLeftInBounds(leftOffset) && slatCoordCache.isTopInBounds(topOffset)) {\r\n            var colIndex = colCoordCache.getHorizontalIndex(leftOffset);\r\n            var slatIndex = slatCoordCache.getVerticalIndex(topOffset);\r\n            if (colIndex != null && slatIndex != null) {\r\n                var slatTop = slatCoordCache.getTopOffset(slatIndex);\r\n                var slatHeight = slatCoordCache.getHeight(slatIndex);\r\n                var partial = (topOffset - slatTop) / slatHeight; // floating point number between 0 and 1\r\n                var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\r\n                var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\r\n                var snapTop = slatTop + (localSnapIndex / snapsPerSlot) * slatHeight;\r\n                var snapBottom = slatTop + ((localSnapIndex + 1) / snapsPerSlot) * slatHeight;\r\n                return {\r\n                    col: colIndex,\r\n                    snap: snapIndex,\r\n                    component: this,\r\n                    left: colCoordCache.getLeftOffset(colIndex),\r\n                    right: colCoordCache.getRightOffset(colIndex),\r\n                    top: snapTop,\r\n                    bottom: snapBottom\r\n                };\r\n            }\r\n        }\r\n    };\r\n    TimeGrid.prototype.getHitFootprint = function (hit) {\r\n        var start = this.getCellDate(0, hit.col); // row=0\r\n        var time = this.computeSnapTime(hit.snap); // pass in the snap-index\r\n        var end;\r\n        start.time(time);\r\n        end = start.clone().add(this.snapDuration);\r\n        return new ComponentFootprint_1.default(new UnzonedRange_1.default(start, end), false // all-day?\r\n        );\r\n    };\r\n    // Given a row number of the grid, representing a \"snap\", returns a time (Duration) from its start-of-day\r\n    TimeGrid.prototype.computeSnapTime = function (snapIndex) {\r\n        return moment.duration(this.dateProfile.minTime + this.snapDuration * snapIndex);\r\n    };\r\n    TimeGrid.prototype.getHitEl = function (hit) {\r\n        return this.colEls.eq(hit.col);\r\n    };\r\n    /* Event Drag Visualization\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders a visual indication of an event being dragged over the specified date(s).\r\n    // A returned value of `true` signals that a mock \"helper\" event has been rendered.\r\n    TimeGrid.prototype.renderDrag = function (eventFootprints, seg, isTouch) {\r\n        var i;\r\n        if (seg) { // if there is event information for this drag, render a helper event\r\n            if (eventFootprints.length) {\r\n                this.helperRenderer.renderEventDraggingFootprints(eventFootprints, seg, isTouch);\r\n                // signal that a helper has been rendered\r\n                return true;\r\n            }\r\n        }\r\n        else { // otherwise, just render a highlight\r\n            for (i = 0; i < eventFootprints.length; i++) {\r\n                this.renderHighlight(eventFootprints[i].componentFootprint);\r\n            }\r\n        }\r\n    };\r\n    // Unrenders any visual indication of an event being dragged\r\n    TimeGrid.prototype.unrenderDrag = function () {\r\n        this.unrenderHighlight();\r\n        this.helperRenderer.unrender();\r\n    };\r\n    /* Event Resize Visualization\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders a visual indication of an event being resized\r\n    TimeGrid.prototype.renderEventResize = function (eventFootprints, seg, isTouch) {\r\n        this.helperRenderer.renderEventResizingFootprints(eventFootprints, seg, isTouch);\r\n    };\r\n    // Unrenders any visual indication of an event being resized\r\n    TimeGrid.prototype.unrenderEventResize = function () {\r\n        this.helperRenderer.unrender();\r\n    };\r\n    /* Selection\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.\r\n    TimeGrid.prototype.renderSelectionFootprint = function (componentFootprint) {\r\n        if (this.opt('selectHelper')) { // this setting signals that a mock helper event should be rendered\r\n            this.helperRenderer.renderComponentFootprint(componentFootprint);\r\n        }\r\n        else {\r\n            this.renderHighlight(componentFootprint);\r\n        }\r\n    };\r\n    // Unrenders any visual indication of a selection\r\n    TimeGrid.prototype.unrenderSelection = function () {\r\n        this.helperRenderer.unrender();\r\n        this.unrenderHighlight();\r\n    };\r\n    return TimeGrid;\r\n}(InteractiveDateComponent_1.default));\r\nexports.default = TimeGrid;\r\nTimeGrid.prototype.eventRendererClass = TimeGridEventRenderer_1.default;\r\nTimeGrid.prototype.businessHourRendererClass = BusinessHourRenderer_1.default;\r\nTimeGrid.prototype.helperRendererClass = TimeGridHelperRenderer_1.default;\r\nTimeGrid.prototype.fillRendererClass = TimeGridFillRenderer_1.default;\r\nStandardInteractionsMixin_1.default.mixInto(TimeGrid);\r\nDayTableMixin_1.default.mixInto(TimeGrid);\r\n\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventRenderer_1 = __webpack_require__(44);\r\n/*\r\nOnly handles foreground segs.\r\nDoes not own rendering. Use for low-level util methods by TimeGrid.\r\n*/\r\nvar TimeGridEventRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(TimeGridEventRenderer, _super);\r\n    function TimeGridEventRenderer(timeGrid, fillRenderer) {\r\n        var _this = _super.call(this, timeGrid, fillRenderer) || this;\r\n        _this.timeGrid = timeGrid;\r\n        return _this;\r\n    }\r\n    TimeGridEventRenderer.prototype.renderFgSegs = function (segs) {\r\n        this.renderFgSegsIntoContainers(segs, this.timeGrid.fgContainerEls);\r\n    };\r\n    // Given an array of foreground segments, render a DOM element for each, computes position,\r\n    // and attaches to the column inner-container elements.\r\n    TimeGridEventRenderer.prototype.renderFgSegsIntoContainers = function (segs, containerEls) {\r\n        var segsByCol;\r\n        var col;\r\n        segsByCol = this.timeGrid.groupSegsByCol(segs);\r\n        for (col = 0; col < this.timeGrid.colCnt; col++) {\r\n            this.updateFgSegCoords(segsByCol[col]);\r\n        }\r\n        this.timeGrid.attachSegsByCol(segsByCol, containerEls);\r\n    };\r\n    TimeGridEventRenderer.prototype.unrenderFgSegs = function () {\r\n        if (this.fgSegs) { // hack\r\n            this.fgSegs.forEach(function (seg) {\r\n                seg.el.remove();\r\n            });\r\n        }\r\n    };\r\n    // Computes a default event time formatting string if `timeFormat` is not explicitly defined\r\n    TimeGridEventRenderer.prototype.computeEventTimeFormat = function () {\r\n        return this.opt('noMeridiemTimeFormat'); // like \"6:30\" (no AM/PM)\r\n    };\r\n    // Computes a default `displayEventEnd` value if one is not expliclty defined\r\n    TimeGridEventRenderer.prototype.computeDisplayEventEnd = function () {\r\n        return true;\r\n    };\r\n    // Renders the HTML for a single event segment's default rendering\r\n    TimeGridEventRenderer.prototype.fgSegHtml = function (seg, disableResizing) {\r\n        var view = this.view;\r\n        var calendar = view.calendar;\r\n        var componentFootprint = seg.footprint.componentFootprint;\r\n        var isAllDay = componentFootprint.isAllDay;\r\n        var eventDef = seg.footprint.eventDef;\r\n        var isDraggable = view.isEventDefDraggable(eventDef);\r\n        var isResizableFromStart = !disableResizing && seg.isStart && view.isEventDefResizableFromStart(eventDef);\r\n        var isResizableFromEnd = !disableResizing && seg.isEnd && view.isEventDefResizableFromEnd(eventDef);\r\n        var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\r\n        var skinCss = util_1.cssToStr(this.getSkinCss(eventDef));\r\n        var timeText;\r\n        var fullTimeText; // more verbose time text. for the print stylesheet\r\n        var startTimeText; // just the start time text\r\n        classes.unshift('fc-time-grid-event', 'fc-v-event');\r\n        // if the event appears to span more than one day...\r\n        if (view.isMultiDayRange(componentFootprint.unzonedRange)) {\r\n            // Don't display time text on segments that run entirely through a day.\r\n            // That would appear as midnight-midnight and would look dumb.\r\n            // Otherwise, display the time text for the *segment's* times (like 6pm-midnight or midnight-10am)\r\n            if (seg.isStart || seg.isEnd) {\r\n                var zonedStart = calendar.msToMoment(seg.startMs);\r\n                var zonedEnd = calendar.msToMoment(seg.endMs);\r\n                timeText = this._getTimeText(zonedStart, zonedEnd, isAllDay);\r\n                fullTimeText = this._getTimeText(zonedStart, zonedEnd, isAllDay, 'LT');\r\n                startTimeText = this._getTimeText(zonedStart, zonedEnd, isAllDay, null, false); // displayEnd=false\r\n            }\r\n        }\r\n        else {\r\n            // Display the normal time text for the *event's* times\r\n            timeText = this.getTimeText(seg.footprint);\r\n            fullTimeText = this.getTimeText(seg.footprint, 'LT');\r\n            startTimeText = this.getTimeText(seg.footprint, null, false); // displayEnd=false\r\n        }\r\n        return '<a class=\"' + classes.join(' ') + '\"' +\r\n            (eventDef.url ?\r\n                ' href=\"' + util_1.htmlEscape(eventDef.url) + '\"' :\r\n                '') +\r\n            (skinCss ?\r\n                ' style=\"' + skinCss + '\"' :\r\n                '') +\r\n            '>' +\r\n            '<div class=\"fc-content\">' +\r\n            (timeText ?\r\n                '<div class=\"fc-time\"' +\r\n                    ' data-start=\"' + util_1.htmlEscape(startTimeText) + '\"' +\r\n                    ' data-full=\"' + util_1.htmlEscape(fullTimeText) + '\"' +\r\n                    '>' +\r\n                    '<span>' + util_1.htmlEscape(timeText) + '</span>' +\r\n                    '</div>' :\r\n                '') +\r\n            (eventDef.title ?\r\n                '<div class=\"fc-title\">' +\r\n                    util_1.htmlEscape(eventDef.title) +\r\n                    '</div>' :\r\n                '') +\r\n            '</div>' +\r\n            '<div class=\"fc-bg\"/>' +\r\n            /* TODO: write CSS for this\r\n            (isResizableFromStart ?\r\n              '<div class=\"fc-resizer fc-start-resizer\" />' :\r\n              ''\r\n              ) +\r\n            */\r\n            (isResizableFromEnd ?\r\n                '<div class=\"fc-resizer fc-end-resizer\" />' :\r\n                '') +\r\n            '</a>';\r\n    };\r\n    // Given segments that are assumed to all live in the *same column*,\r\n    // compute their verical/horizontal coordinates and assign to their elements.\r\n    TimeGridEventRenderer.prototype.updateFgSegCoords = function (segs) {\r\n        this.timeGrid.computeSegVerticals(segs); // horizontals relies on this\r\n        this.computeFgSegHorizontals(segs); // compute horizontal coordinates, z-index's, and reorder the array\r\n        this.timeGrid.assignSegVerticals(segs);\r\n        this.assignFgSegHorizontals(segs);\r\n    };\r\n    // Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\r\n    // NOTE: Also reorders the given array by date!\r\n    TimeGridEventRenderer.prototype.computeFgSegHorizontals = function (segs) {\r\n        var levels;\r\n        var level0;\r\n        var i;\r\n        this.sortEventSegs(segs); // order by certain criteria\r\n        levels = buildSlotSegLevels(segs);\r\n        computeForwardSlotSegs(levels);\r\n        if ((level0 = levels[0])) {\r\n            for (i = 0; i < level0.length; i++) {\r\n                computeSlotSegPressures(level0[i]);\r\n            }\r\n            for (i = 0; i < level0.length; i++) {\r\n                this.computeFgSegForwardBack(level0[i], 0, 0);\r\n            }\r\n        }\r\n    };\r\n    // Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\r\n    // from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\r\n    // seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\r\n    //\r\n    // The segment might be part of a \"series\", which means consecutive segments with the same pressure\r\n    // who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\r\n    // segments behind this one in the current series, and `seriesBackwardCoord` is the starting\r\n    // coordinate of the first segment in the series.\r\n    TimeGridEventRenderer.prototype.computeFgSegForwardBack = function (seg, seriesBackwardPressure, seriesBackwardCoord) {\r\n        var forwardSegs = seg.forwardSegs;\r\n        var i;\r\n        if (seg.forwardCoord === undefined) { // not already computed\r\n            if (!forwardSegs.length) {\r\n                // if there are no forward segments, this segment should butt up against the edge\r\n                seg.forwardCoord = 1;\r\n            }\r\n            else {\r\n                // sort highest pressure first\r\n                this.sortForwardSegs(forwardSegs);\r\n                // this segment's forwardCoord will be calculated from the backwardCoord of the\r\n                // highest-pressure forward segment.\r\n                this.computeFgSegForwardBack(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);\r\n                seg.forwardCoord = forwardSegs[0].backwardCoord;\r\n            }\r\n            // calculate the backwardCoord from the forwardCoord. consider the series\r\n            seg.backwardCoord = seg.forwardCoord -\r\n                (seg.forwardCoord - seriesBackwardCoord) / // available width for series\r\n                    (seriesBackwardPressure + 1); // # of segments in the series\r\n            // use this segment's coordinates to computed the coordinates of the less-pressurized\r\n            // forward segments\r\n            for (i = 0; i < forwardSegs.length; i++) {\r\n                this.computeFgSegForwardBack(forwardSegs[i], 0, seg.forwardCoord);\r\n            }\r\n        }\r\n    };\r\n    TimeGridEventRenderer.prototype.sortForwardSegs = function (forwardSegs) {\r\n        forwardSegs.sort(util_1.proxy(this, 'compareForwardSegs'));\r\n    };\r\n    // A cmp function for determining which forward segment to rely on more when computing coordinates.\r\n    TimeGridEventRenderer.prototype.compareForwardSegs = function (seg1, seg2) {\r\n        // put higher-pressure first\r\n        return seg2.forwardPressure - seg1.forwardPressure ||\r\n            // put segments that are closer to initial edge first (and favor ones with no coords yet)\r\n            (seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||\r\n            // do normal sorting...\r\n            this.compareEventSegs(seg1, seg2);\r\n    };\r\n    // Given foreground event segments that have already had their position coordinates computed,\r\n    // assigns position-related CSS values to their elements.\r\n    TimeGridEventRenderer.prototype.assignFgSegHorizontals = function (segs) {\r\n        var i;\r\n        var seg;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            seg.el.css(this.generateFgSegHorizontalCss(seg));\r\n            // if the event is short that the title will be cut off,\r\n            // attach a className that condenses the title into the time area.\r\n            if (seg.footprint.eventDef.title && seg.bottom - seg.top < 30) {\r\n                seg.el.addClass('fc-short'); // TODO: \"condensed\" is a better name\r\n            }\r\n        }\r\n    };\r\n    // Generates an object with CSS properties/values that should be applied to an event segment element.\r\n    // Contains important positioning-related properties that should be applied to any event element, customized or not.\r\n    TimeGridEventRenderer.prototype.generateFgSegHorizontalCss = function (seg) {\r\n        var shouldOverlap = this.opt('slotEventOverlap');\r\n        var backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\r\n        var forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\r\n        var props = this.timeGrid.generateSegVerticalCss(seg); // get top/bottom first\r\n        var isRTL = this.timeGrid.isRTL;\r\n        var left; // amount of space from left edge, a fraction of the total width\r\n        var right; // amount of space from right edge, a fraction of the total width\r\n        if (shouldOverlap) {\r\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\r\n            forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\r\n        }\r\n        if (isRTL) {\r\n            left = 1 - forwardCoord;\r\n            right = backwardCoord;\r\n        }\r\n        else {\r\n            left = backwardCoord;\r\n            right = 1 - forwardCoord;\r\n        }\r\n        props.zIndex = seg.level + 1; // convert from 0-base to 1-based\r\n        props.left = left * 100 + '%';\r\n        props.right = right * 100 + '%';\r\n        if (shouldOverlap && seg.forwardPressure) {\r\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\r\n            props[isRTL ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\r\n        }\r\n        return props;\r\n    };\r\n    return TimeGridEventRenderer;\r\n}(EventRenderer_1.default));\r\nexports.default = TimeGridEventRenderer;\r\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\r\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\r\nfunction buildSlotSegLevels(segs) {\r\n    var levels = [];\r\n    var i;\r\n    var seg;\r\n    var j;\r\n    for (i = 0; i < segs.length; i++) {\r\n        seg = segs[i];\r\n        // go through all the levels and stop on the first level where there are no collisions\r\n        for (j = 0; j < levels.length; j++) {\r\n            if (!computeSlotSegCollisions(seg, levels[j]).length) {\r\n                break;\r\n            }\r\n        }\r\n        seg.level = j;\r\n        (levels[j] || (levels[j] = [])).push(seg);\r\n    }\r\n    return levels;\r\n}\r\n// For every segment, figure out the other segments that are in subsequent\r\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\r\nfunction computeForwardSlotSegs(levels) {\r\n    var i;\r\n    var level;\r\n    var j;\r\n    var seg;\r\n    var k;\r\n    for (i = 0; i < levels.length; i++) {\r\n        level = levels[i];\r\n        for (j = 0; j < level.length; j++) {\r\n            seg = level[j];\r\n            seg.forwardSegs = [];\r\n            for (k = i + 1; k < levels.length; k++) {\r\n                computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\r\n            }\r\n        }\r\n    }\r\n}\r\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\r\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\r\nfunction computeSlotSegPressures(seg) {\r\n    var forwardSegs = seg.forwardSegs;\r\n    var forwardPressure = 0;\r\n    var i;\r\n    var forwardSeg;\r\n    if (seg.forwardPressure === undefined) { // not already computed\r\n        for (i = 0; i < forwardSegs.length; i++) {\r\n            forwardSeg = forwardSegs[i];\r\n            // figure out the child's maximum forward path\r\n            computeSlotSegPressures(forwardSeg);\r\n            // either use the existing maximum, or use the child's forward pressure\r\n            // plus one (for the forwardSeg itself)\r\n            forwardPressure = Math.max(forwardPressure, 1 + forwardSeg.forwardPressure);\r\n        }\r\n        seg.forwardPressure = forwardPressure;\r\n    }\r\n}\r\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\r\n// Append into an optionally-supplied `results` array and return.\r\nfunction computeSlotSegCollisions(seg, otherSegs, results) {\r\n    if (results === void 0) { results = []; }\r\n    for (var i = 0; i < otherSegs.length; i++) {\r\n        if (isSlotSegCollision(seg, otherSegs[i])) {\r\n            results.push(otherSegs[i]);\r\n        }\r\n    }\r\n    return results;\r\n}\r\n// Do these segments occupy the same vertical space?\r\nfunction isSlotSegCollision(seg1, seg2) {\r\n    return seg1.bottom > seg2.top && seg1.top < seg2.bottom;\r\n}\r\n\n\n/***/ }),\n/* 241 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar HelperRenderer_1 = __webpack_require__(63);\r\nvar TimeGridHelperRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(TimeGridHelperRenderer, _super);\r\n    function TimeGridHelperRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TimeGridHelperRenderer.prototype.renderSegs = function (segs, sourceSeg) {\r\n        var helperNodes = [];\r\n        var i;\r\n        var seg;\r\n        var sourceEl;\r\n        // TODO: not good to call eventRenderer this way\r\n        this.eventRenderer.renderFgSegsIntoContainers(segs, this.component.helperContainerEls);\r\n        // Try to make the segment that is in the same row as sourceSeg look the same\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            if (sourceSeg && sourceSeg.col === seg.col) {\r\n                sourceEl = sourceSeg.el;\r\n                seg.el.css({\r\n                    left: sourceEl.css('left'),\r\n                    right: sourceEl.css('right'),\r\n                    'margin-left': sourceEl.css('margin-left'),\r\n                    'margin-right': sourceEl.css('margin-right')\r\n                });\r\n            }\r\n            helperNodes.push(seg.el[0]);\r\n        }\r\n        return $(helperNodes); // must return the elements rendered\r\n    };\r\n    return TimeGridHelperRenderer;\r\n}(HelperRenderer_1.default));\r\nexports.default = TimeGridHelperRenderer;\r\n\n\n/***/ }),\n/* 242 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar FillRenderer_1 = __webpack_require__(62);\r\nvar TimeGridFillRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(TimeGridFillRenderer, _super);\r\n    function TimeGridFillRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TimeGridFillRenderer.prototype.attachSegEls = function (type, segs) {\r\n        var timeGrid = this.component;\r\n        var containerEls;\r\n        // TODO: more efficient lookup\r\n        if (type === 'bgEvent') {\r\n            containerEls = timeGrid.bgContainerEls;\r\n        }\r\n        else if (type === 'businessHours') {\r\n            containerEls = timeGrid.businessContainerEls;\r\n        }\r\n        else if (type === 'highlight') {\r\n            containerEls = timeGrid.highlightContainerEls;\r\n        }\r\n        timeGrid.updateSegVerticals(segs);\r\n        timeGrid.attachSegsByCol(timeGrid.groupSegsByCol(segs), containerEls);\r\n        return segs.map(function (seg) {\r\n            return seg.el[0];\r\n        });\r\n    };\r\n    return TimeGridFillRenderer;\r\n}(FillRenderer_1.default));\r\nexports.default = TimeGridFillRenderer;\r\n\n\n/***/ }),\n/* 243 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventRenderer_1 = __webpack_require__(44);\r\n/* Event-rendering methods for the DayGrid class\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar DayGridEventRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DayGridEventRenderer, _super);\r\n    function DayGridEventRenderer(dayGrid, fillRenderer) {\r\n        var _this = _super.call(this, dayGrid, fillRenderer) || this;\r\n        _this.dayGrid = dayGrid;\r\n        return _this;\r\n    }\r\n    DayGridEventRenderer.prototype.renderBgRanges = function (eventRanges) {\r\n        // don't render timed background events\r\n        eventRanges = $.grep(eventRanges, function (eventRange) {\r\n            return eventRange.eventDef.isAllDay();\r\n        });\r\n        _super.prototype.renderBgRanges.call(this, eventRanges);\r\n    };\r\n    // Renders the given foreground event segments onto the grid\r\n    DayGridEventRenderer.prototype.renderFgSegs = function (segs) {\r\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\r\n        // append to each row's content skeleton\r\n        this.dayGrid.rowEls.each(function (i, rowNode) {\r\n            $(rowNode).find('.fc-content-skeleton > table').append(rowStructs[i].tbodyEl);\r\n        });\r\n    };\r\n    // Unrenders all currently rendered foreground event segments\r\n    DayGridEventRenderer.prototype.unrenderFgSegs = function () {\r\n        var rowStructs = this.rowStructs || [];\r\n        var rowStruct;\r\n        while ((rowStruct = rowStructs.pop())) {\r\n            rowStruct.tbodyEl.remove();\r\n        }\r\n        this.rowStructs = null;\r\n    };\r\n    // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\r\n    // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\r\n    // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\r\n    DayGridEventRenderer.prototype.renderSegRows = function (segs) {\r\n        var rowStructs = [];\r\n        var segRows;\r\n        var row;\r\n        segRows = this.groupSegRows(segs); // group into nested arrays\r\n        // iterate each row of segment groupings\r\n        for (row = 0; row < segRows.length; row++) {\r\n            rowStructs.push(this.renderSegRow(row, segRows[row]));\r\n        }\r\n        return rowStructs;\r\n    };\r\n    // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\r\n    // the segments. Returns object with a bunch of internal data about how the render was calculated.\r\n    // NOTE: modifies rowSegs\r\n    DayGridEventRenderer.prototype.renderSegRow = function (row, rowSegs) {\r\n        var colCnt = this.dayGrid.colCnt;\r\n        var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\r\n        var levelCnt = Math.max(1, segLevels.length); // ensure at least one level\r\n        var tbody = $('<tbody/>');\r\n        var segMatrix = []; // lookup for which segments are rendered into which level+col cells\r\n        var cellMatrix = []; // lookup for all <td> elements of the level+col matrix\r\n        var loneCellMatrix = []; // lookup for <td> elements that only take up a single column\r\n        var i;\r\n        var levelSegs;\r\n        var col;\r\n        var tr;\r\n        var j;\r\n        var seg;\r\n        var td;\r\n        // populates empty cells from the current column (`col`) to `endCol`\r\n        function emptyCellsUntil(endCol) {\r\n            while (col < endCol) {\r\n                // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\r\n                td = (loneCellMatrix[i - 1] || [])[col];\r\n                if (td) {\r\n                    td.attr('rowspan', parseInt(td.attr('rowspan') || 1, 10) + 1);\r\n                }\r\n                else {\r\n                    td = $('<td/>');\r\n                    tr.append(td);\r\n                }\r\n                cellMatrix[i][col] = td;\r\n                loneCellMatrix[i][col] = td;\r\n                col++;\r\n            }\r\n        }\r\n        for (i = 0; i < levelCnt; i++) { // iterate through all levels\r\n            levelSegs = segLevels[i];\r\n            col = 0;\r\n            tr = $('<tr/>');\r\n            segMatrix.push([]);\r\n            cellMatrix.push([]);\r\n            loneCellMatrix.push([]);\r\n            // levelCnt might be 1 even though there are no actual levels. protect against this.\r\n            // this single empty row is useful for styling.\r\n            if (levelSegs) {\r\n                for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\r\n                    seg = levelSegs[j];\r\n                    emptyCellsUntil(seg.leftCol);\r\n                    // create a container that occupies or more columns. append the event element.\r\n                    td = $('<td class=\"fc-event-container\"/>').append(seg.el);\r\n                    if (seg.leftCol !== seg.rightCol) {\r\n                        td.attr('colspan', seg.rightCol - seg.leftCol + 1);\r\n                    }\r\n                    else { // a single-column segment\r\n                        loneCellMatrix[i][col] = td;\r\n                    }\r\n                    while (col <= seg.rightCol) {\r\n                        cellMatrix[i][col] = td;\r\n                        segMatrix[i][col] = seg;\r\n                        col++;\r\n                    }\r\n                    tr.append(td);\r\n                }\r\n            }\r\n            emptyCellsUntil(colCnt); // finish off the row\r\n            this.dayGrid.bookendCells(tr);\r\n            tbody.append(tr);\r\n        }\r\n        return {\r\n            row: row,\r\n            tbodyEl: tbody,\r\n            cellMatrix: cellMatrix,\r\n            segMatrix: segMatrix,\r\n            segLevels: segLevels,\r\n            segs: rowSegs\r\n        };\r\n    };\r\n    // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\r\n    // NOTE: modifies segs\r\n    DayGridEventRenderer.prototype.buildSegLevels = function (segs) {\r\n        var levels = [];\r\n        var i;\r\n        var seg;\r\n        var j;\r\n        // Give preference to elements with certain criteria, so they have\r\n        // a chance to be closer to the top.\r\n        this.sortEventSegs(segs);\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\r\n            for (j = 0; j < levels.length; j++) {\r\n                if (!isDaySegCollision(seg, levels[j])) {\r\n                    break;\r\n                }\r\n            }\r\n            // `j` now holds the desired subrow index\r\n            seg.level = j;\r\n            // create new level array if needed and append segment\r\n            (levels[j] || (levels[j] = [])).push(seg);\r\n        }\r\n        // order segments left-to-right. very important if calendar is RTL\r\n        for (j = 0; j < levels.length; j++) {\r\n            levels[j].sort(compareDaySegCols);\r\n        }\r\n        return levels;\r\n    };\r\n    // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\r\n    DayGridEventRenderer.prototype.groupSegRows = function (segs) {\r\n        var segRows = [];\r\n        var i;\r\n        for (i = 0; i < this.dayGrid.rowCnt; i++) {\r\n            segRows.push([]);\r\n        }\r\n        for (i = 0; i < segs.length; i++) {\r\n            segRows[segs[i].row].push(segs[i]);\r\n        }\r\n        return segRows;\r\n    };\r\n    // Computes a default event time formatting string if `timeFormat` is not explicitly defined\r\n    DayGridEventRenderer.prototype.computeEventTimeFormat = function () {\r\n        return this.opt('extraSmallTimeFormat'); // like \"6p\" or \"6:30p\"\r\n    };\r\n    // Computes a default `displayEventEnd` value if one is not expliclty defined\r\n    DayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\r\n        return this.dayGrid.colCnt === 1; // we'll likely have space if there's only one day\r\n    };\r\n    // Builds the HTML to be used for the default element for an individual segment\r\n    DayGridEventRenderer.prototype.fgSegHtml = function (seg, disableResizing) {\r\n        var view = this.view;\r\n        var eventDef = seg.footprint.eventDef;\r\n        var isAllDay = seg.footprint.componentFootprint.isAllDay;\r\n        var isDraggable = view.isEventDefDraggable(eventDef);\r\n        var isResizableFromStart = !disableResizing && isAllDay &&\r\n            seg.isStart && view.isEventDefResizableFromStart(eventDef);\r\n        var isResizableFromEnd = !disableResizing && isAllDay &&\r\n            seg.isEnd && view.isEventDefResizableFromEnd(eventDef);\r\n        var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\r\n        var skinCss = util_1.cssToStr(this.getSkinCss(eventDef));\r\n        var timeHtml = '';\r\n        var timeText;\r\n        var titleHtml;\r\n        classes.unshift('fc-day-grid-event', 'fc-h-event');\r\n        // Only display a timed events time if it is the starting segment\r\n        if (seg.isStart) {\r\n            timeText = this.getTimeText(seg.footprint);\r\n            if (timeText) {\r\n                timeHtml = '<span class=\"fc-time\">' + util_1.htmlEscape(timeText) + '</span>';\r\n            }\r\n        }\r\n        titleHtml =\r\n            '<span class=\"fc-title\">' +\r\n                (util_1.htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\r\n                '</span>';\r\n        return '<a class=\"' + classes.join(' ') + '\"' +\r\n            (eventDef.url ?\r\n                ' href=\"' + util_1.htmlEscape(eventDef.url) + '\"' :\r\n                '') +\r\n            (skinCss ?\r\n                ' style=\"' + skinCss + '\"' :\r\n                '') +\r\n            '>' +\r\n            '<div class=\"fc-content\">' +\r\n            (this.dayGrid.isRTL ?\r\n                titleHtml + ' ' + timeHtml : // put a natural space in between\r\n                timeHtml + ' ' + titleHtml //\r\n            ) +\r\n            '</div>' +\r\n            (isResizableFromStart ?\r\n                '<div class=\"fc-resizer fc-start-resizer\" />' :\r\n                '') +\r\n            (isResizableFromEnd ?\r\n                '<div class=\"fc-resizer fc-end-resizer\" />' :\r\n                '') +\r\n            '</a>';\r\n    };\r\n    return DayGridEventRenderer;\r\n}(EventRenderer_1.default));\r\nexports.default = DayGridEventRenderer;\r\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\r\nfunction isDaySegCollision(seg, otherSegs) {\r\n    var i;\r\n    var otherSeg;\r\n    for (i = 0; i < otherSegs.length; i++) {\r\n        otherSeg = otherSegs[i];\r\n        if (otherSeg.leftCol <= seg.rightCol &&\r\n            otherSeg.rightCol >= seg.leftCol) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n// A cmp function for determining the leftmost event\r\nfunction compareDaySegCols(a, b) {\r\n    return a.leftCol - b.leftCol;\r\n}\r\n\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar HelperRenderer_1 = __webpack_require__(63);\r\nvar DayGridHelperRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DayGridHelperRenderer, _super);\r\n    function DayGridHelperRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Renders a mock \"helper\" event. `sourceSeg` is the associated internal segment object. It can be null.\r\n    DayGridHelperRenderer.prototype.renderSegs = function (segs, sourceSeg) {\r\n        var helperNodes = [];\r\n        var rowStructs;\r\n        // TODO: not good to call eventRenderer this way\r\n        rowStructs = this.eventRenderer.renderSegRows(segs);\r\n        // inject each new event skeleton into each associated row\r\n        this.component.rowEls.each(function (row, rowNode) {\r\n            var rowEl = $(rowNode); // the .fc-row\r\n            var skeletonEl = $('<div class=\"fc-helper-skeleton\"><table/></div>'); // will be absolutely positioned\r\n            var skeletonTopEl;\r\n            var skeletonTop;\r\n            // If there is an original segment, match the top position. Otherwise, put it at the row's top level\r\n            if (sourceSeg && sourceSeg.row === row) {\r\n                skeletonTop = sourceSeg.el.position().top;\r\n            }\r\n            else {\r\n                skeletonTopEl = rowEl.find('.fc-content-skeleton tbody');\r\n                if (!skeletonTopEl.length) { // when no events\r\n                    skeletonTopEl = rowEl.find('.fc-content-skeleton table');\r\n                }\r\n                skeletonTop = skeletonTopEl.position().top;\r\n            }\r\n            skeletonEl.css('top', skeletonTop)\r\n                .find('table')\r\n                .append(rowStructs[row].tbodyEl);\r\n            rowEl.append(skeletonEl);\r\n            helperNodes.push(skeletonEl[0]);\r\n        });\r\n        return $(helperNodes); // must return the elements rendered\r\n    };\r\n    return DayGridHelperRenderer;\r\n}(HelperRenderer_1.default));\r\nexports.default = DayGridHelperRenderer;\r\n\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar FillRenderer_1 = __webpack_require__(62);\r\nvar DayGridFillRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DayGridFillRenderer, _super);\r\n    function DayGridFillRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.fillSegTag = 'td'; // override the default tag name\r\n        return _this;\r\n    }\r\n    DayGridFillRenderer.prototype.attachSegEls = function (type, segs) {\r\n        var nodes = [];\r\n        var i;\r\n        var seg;\r\n        var skeletonEl;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            skeletonEl = this.renderFillRow(type, seg);\r\n            this.component.rowEls.eq(seg.row).append(skeletonEl);\r\n            nodes.push(skeletonEl[0]);\r\n        }\r\n        return nodes;\r\n    };\r\n    // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\r\n    DayGridFillRenderer.prototype.renderFillRow = function (type, seg) {\r\n        var colCnt = this.component.colCnt;\r\n        var startCol = seg.leftCol;\r\n        var endCol = seg.rightCol + 1;\r\n        var className;\r\n        var skeletonEl;\r\n        var trEl;\r\n        if (type === 'businessHours') {\r\n            className = 'bgevent';\r\n        }\r\n        else {\r\n            className = type.toLowerCase();\r\n        }\r\n        skeletonEl = $('<div class=\"fc-' + className + '-skeleton\">' +\r\n            '<table><tr/></table>' +\r\n            '</div>');\r\n        trEl = skeletonEl.find('tr');\r\n        if (startCol > 0) {\r\n            trEl.append(\r\n            // will create (startCol + 1) td's\r\n            new Array(startCol + 1).join('<td/>'));\r\n        }\r\n        trEl.append(seg.el.attr('colspan', endCol - startCol));\r\n        if (endCol < colCnt) {\r\n            trEl.append(\r\n            // will create (colCnt - endCol) td's\r\n            new Array(colCnt - endCol + 1).join('<td/>'));\r\n        }\r\n        this.component.bookendCells(trEl);\r\n        return skeletonEl;\r\n    };\r\n    return DayGridFillRenderer;\r\n}(FillRenderer_1.default));\r\nexports.default = DayGridFillRenderer;\r\n\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar moment = __webpack_require__(0);\r\nvar util_1 = __webpack_require__(4);\r\nvar BasicView_1 = __webpack_require__(67);\r\nvar MonthViewDateProfileGenerator_1 = __webpack_require__(247);\r\n/* A month view with day cells running in rows (one-per-week) and columns\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar MonthView = /** @class */ (function (_super) {\r\n    tslib_1.__extends(MonthView, _super);\r\n    function MonthView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Overrides the default BasicView behavior to have special multi-week auto-height logic\r\n    MonthView.prototype.setGridHeight = function (height, isAuto) {\r\n        // if auto, make the height of each row the height that it would be if there were 6 weeks\r\n        if (isAuto) {\r\n            height *= this.dayGrid.rowCnt / 6;\r\n        }\r\n        util_1.distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\r\n    };\r\n    MonthView.prototype.isDateInOtherMonth = function (date, dateProfile) {\r\n        return date.month() !== moment.utc(dateProfile.currentUnzonedRange.startMs).month(); // TODO: optimize\r\n    };\r\n    return MonthView;\r\n}(BasicView_1.default));\r\nexports.default = MonthView;\r\nMonthView.prototype.dateProfileGeneratorClass = MonthViewDateProfileGenerator_1.default;\r\n\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar BasicViewDateProfileGenerator_1 = __webpack_require__(68);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar MonthViewDateProfileGenerator = /** @class */ (function (_super) {\r\n    tslib_1.__extends(MonthViewDateProfileGenerator, _super);\r\n    function MonthViewDateProfileGenerator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Computes the date range that will be rendered.\r\n    MonthViewDateProfileGenerator.prototype.buildRenderRange = function (currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\r\n        var renderUnzonedRange = _super.prototype.buildRenderRange.call(this, currentUnzonedRange, currentRangeUnit, isRangeAllDay);\r\n        var start = this.msToUtcMoment(renderUnzonedRange.startMs, isRangeAllDay);\r\n        var end = this.msToUtcMoment(renderUnzonedRange.endMs, isRangeAllDay);\r\n        var rowCnt;\r\n        // ensure 6 weeks\r\n        if (this.opt('fixedWeekCount')) {\r\n            rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\r\n            end.diff(start, 'weeks', true) // dontRound=true\r\n            );\r\n            end.add(6 - rowCnt, 'weeks');\r\n        }\r\n        return new UnzonedRange_1.default(start, end);\r\n    };\r\n    return MonthViewDateProfileGenerator;\r\n}(BasicViewDateProfileGenerator_1.default));\r\nexports.default = MonthViewDateProfileGenerator;\r\n\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar UnzonedRange_1 = __webpack_require__(5);\r\nvar View_1 = __webpack_require__(43);\r\nvar Scroller_1 = __webpack_require__(41);\r\nvar ListEventRenderer_1 = __webpack_require__(249);\r\nvar ListEventPointing_1 = __webpack_require__(250);\r\n/*\r\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\r\n*/\r\nvar ListView = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ListView, _super);\r\n    function ListView(calendar, viewSpec) {\r\n        var _this = _super.call(this, calendar, viewSpec) || this;\r\n        _this.segSelector = '.fc-list-item'; // which elements accept event actions\r\n        _this.scroller = new Scroller_1.default({\r\n            overflowX: 'hidden',\r\n            overflowY: 'auto'\r\n        });\r\n        return _this;\r\n    }\r\n    ListView.prototype.renderSkeleton = function () {\r\n        this.el.addClass('fc-list-view ' +\r\n            this.calendar.theme.getClass('listView'));\r\n        this.scroller.render();\r\n        this.scroller.el.appendTo(this.el);\r\n        this.contentEl = this.scroller.scrollEl; // shortcut\r\n    };\r\n    ListView.prototype.unrenderSkeleton = function () {\r\n        this.scroller.destroy(); // will remove the Grid too\r\n    };\r\n    ListView.prototype.updateSize = function (totalHeight, isAuto, isResize) {\r\n        _super.prototype.updateSize.call(this, totalHeight, isAuto, isResize);\r\n        this.scroller.clear(); // sets height to 'auto' and clears overflow\r\n        if (!isAuto) {\r\n            this.scroller.setHeight(this.computeScrollerHeight(totalHeight));\r\n        }\r\n    };\r\n    ListView.prototype.computeScrollerHeight = function (totalHeight) {\r\n        return totalHeight -\r\n            util_1.subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\r\n    };\r\n    ListView.prototype.renderDates = function (dateProfile) {\r\n        var calendar = this.calendar;\r\n        var dayStart = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.startMs, true);\r\n        var viewEnd = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.endMs, true);\r\n        var dayDates = [];\r\n        var dayRanges = [];\r\n        while (dayStart < viewEnd) {\r\n            dayDates.push(dayStart.clone());\r\n            dayRanges.push(new UnzonedRange_1.default(dayStart, dayStart.clone().add(1, 'day')));\r\n            dayStart.add(1, 'day');\r\n        }\r\n        this.dayDates = dayDates;\r\n        this.dayRanges = dayRanges;\r\n        // all real rendering happens in EventRenderer\r\n    };\r\n    // slices by day\r\n    ListView.prototype.componentFootprintToSegs = function (footprint) {\r\n        var dayRanges = this.dayRanges;\r\n        var dayIndex;\r\n        var segRange;\r\n        var seg;\r\n        var segs = [];\r\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex++) {\r\n            segRange = footprint.unzonedRange.intersect(dayRanges[dayIndex]);\r\n            if (segRange) {\r\n                seg = {\r\n                    startMs: segRange.startMs,\r\n                    endMs: segRange.endMs,\r\n                    isStart: segRange.isStart,\r\n                    isEnd: segRange.isEnd,\r\n                    dayIndex: dayIndex\r\n                };\r\n                segs.push(seg);\r\n                // detect when footprint won't go fully into the next day,\r\n                // and mutate the latest seg to the be the end.\r\n                if (!seg.isEnd && !footprint.isAllDay &&\r\n                    dayIndex + 1 < dayRanges.length &&\r\n                    footprint.unzonedRange.endMs < dayRanges[dayIndex + 1].startMs + this.nextDayThreshold) {\r\n                    seg.endMs = footprint.unzonedRange.endMs;\r\n                    seg.isEnd = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return segs;\r\n    };\r\n    ListView.prototype.renderEmptyMessage = function () {\r\n        this.contentEl.html('<div class=\"fc-list-empty-wrap2\">' + // TODO: try less wraps\r\n            '<div class=\"fc-list-empty-wrap1\">' +\r\n            '<div class=\"fc-list-empty\">' +\r\n            util_1.htmlEscape(this.opt('noEventsMessage')) +\r\n            '</div>' +\r\n            '</div>' +\r\n            '</div>');\r\n    };\r\n    // render the event segments in the view\r\n    ListView.prototype.renderSegList = function (allSegs) {\r\n        var segsByDay = this.groupSegsByDay(allSegs); // sparse array\r\n        var dayIndex;\r\n        var daySegs;\r\n        var i;\r\n        var tableEl = $('<table class=\"fc-list-table ' + this.calendar.theme.getClass('tableList') + '\"><tbody/></table>');\r\n        var tbodyEl = tableEl.find('tbody');\r\n        for (dayIndex = 0; dayIndex < segsByDay.length; dayIndex++) {\r\n            daySegs = segsByDay[dayIndex];\r\n            if (daySegs) { // sparse array, so might be undefined\r\n                // append a day header\r\n                tbodyEl.append(this.dayHeaderHtml(this.dayDates[dayIndex]));\r\n                this.eventRenderer.sortEventSegs(daySegs);\r\n                for (i = 0; i < daySegs.length; i++) {\r\n                    tbodyEl.append(daySegs[i].el); // append event row\r\n                }\r\n            }\r\n        }\r\n        this.contentEl.empty().append(tableEl);\r\n    };\r\n    // Returns a sparse array of arrays, segs grouped by their dayIndex\r\n    ListView.prototype.groupSegsByDay = function (segs) {\r\n        var segsByDay = []; // sparse array\r\n        var i;\r\n        var seg;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\r\n                .push(seg);\r\n        }\r\n        return segsByDay;\r\n    };\r\n    // generates the HTML for the day headers that live amongst the event rows\r\n    ListView.prototype.dayHeaderHtml = function (dayDate) {\r\n        var mainFormat = this.opt('listDayFormat');\r\n        var altFormat = this.opt('listDayAltFormat');\r\n        return '<tr class=\"fc-list-heading\" data-date=\"' + dayDate.format('YYYY-MM-DD') + '\">' +\r\n            '<td class=\"' + (this.calendar.theme.getClass('tableListHeading') ||\r\n            this.calendar.theme.getClass('widgetHeader')) + '\" colspan=\"3\">' +\r\n            (mainFormat ?\r\n                this.buildGotoAnchorHtml(dayDate, { 'class': 'fc-list-heading-main' }, util_1.htmlEscape(dayDate.format(mainFormat)) // inner HTML\r\n                ) :\r\n                '') +\r\n            (altFormat ?\r\n                this.buildGotoAnchorHtml(dayDate, { 'class': 'fc-list-heading-alt' }, util_1.htmlEscape(dayDate.format(altFormat)) // inner HTML\r\n                ) :\r\n                '') +\r\n            '</td>' +\r\n            '</tr>';\r\n    };\r\n    return ListView;\r\n}(View_1.default));\r\nexports.default = ListView;\r\nListView.prototype.eventRendererClass = ListEventRenderer_1.default;\r\nListView.prototype.eventPointingClass = ListEventPointing_1.default;\r\n\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar util_1 = __webpack_require__(4);\r\nvar EventRenderer_1 = __webpack_require__(44);\r\nvar ListEventRenderer = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ListEventRenderer, _super);\r\n    function ListEventRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ListEventRenderer.prototype.renderFgSegs = function (segs) {\r\n        if (!segs.length) {\r\n            this.component.renderEmptyMessage();\r\n        }\r\n        else {\r\n            this.component.renderSegList(segs);\r\n        }\r\n    };\r\n    // generates the HTML for a single event row\r\n    ListEventRenderer.prototype.fgSegHtml = function (seg) {\r\n        var view = this.view;\r\n        var calendar = view.calendar;\r\n        var theme = calendar.theme;\r\n        var eventFootprint = seg.footprint;\r\n        var eventDef = eventFootprint.eventDef;\r\n        var componentFootprint = eventFootprint.componentFootprint;\r\n        var url = eventDef.url;\r\n        var classes = ['fc-list-item'].concat(this.getClasses(eventDef));\r\n        var bgColor = this.getBgColor(eventDef);\r\n        var timeHtml;\r\n        if (componentFootprint.isAllDay) {\r\n            timeHtml = view.getAllDayHtml();\r\n        }\r\n        else if (view.isMultiDayRange(componentFootprint.unzonedRange)) {\r\n            if (seg.isStart || seg.isEnd) { // outer segment that probably lasts part of the day\r\n                timeHtml = util_1.htmlEscape(this._getTimeText(calendar.msToMoment(seg.startMs), calendar.msToMoment(seg.endMs), componentFootprint.isAllDay));\r\n            }\r\n            else { // inner segment that lasts the whole day\r\n                timeHtml = view.getAllDayHtml();\r\n            }\r\n        }\r\n        else {\r\n            // Display the normal time text for the *event's* times\r\n            timeHtml = util_1.htmlEscape(this.getTimeText(eventFootprint));\r\n        }\r\n        if (url) {\r\n            classes.push('fc-has-url');\r\n        }\r\n        return '<tr class=\"' + classes.join(' ') + '\">' +\r\n            (this.displayEventTime ?\r\n                '<td class=\"fc-list-item-time ' + theme.getClass('widgetContent') + '\">' +\r\n                    (timeHtml || '') +\r\n                    '</td>' :\r\n                '') +\r\n            '<td class=\"fc-list-item-marker ' + theme.getClass('widgetContent') + '\">' +\r\n            '<span class=\"fc-event-dot\"' +\r\n            (bgColor ?\r\n                ' style=\"background-color:' + bgColor + '\"' :\r\n                '') +\r\n            '></span>' +\r\n            '</td>' +\r\n            '<td class=\"fc-list-item-title ' + theme.getClass('widgetContent') + '\">' +\r\n            '<a' + (url ? ' href=\"' + util_1.htmlEscape(url) + '\"' : '') + '>' +\r\n            util_1.htmlEscape(eventDef.title || '') +\r\n            '</a>' +\r\n            '</td>' +\r\n            '</tr>';\r\n    };\r\n    // like \"4:00am\"\r\n    ListEventRenderer.prototype.computeEventTimeFormat = function () {\r\n        return this.opt('mediumTimeFormat');\r\n    };\r\n    return ListEventRenderer;\r\n}(EventRenderer_1.default));\r\nexports.default = ListEventRenderer;\r\n\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar EventPointing_1 = __webpack_require__(64);\r\nvar ListEventPointing = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ListEventPointing, _super);\r\n    function ListEventPointing() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // for events with a url, the whole <tr> should be clickable,\r\n    // but it's impossible to wrap with an <a> tag. simulate this.\r\n    ListEventPointing.prototype.handleClick = function (seg, ev) {\r\n        var url;\r\n        _super.prototype.handleClick.call(this, seg, ev); // might prevent the default action\r\n        // not clicking on or within an <a> with an href\r\n        if (!$(ev.target).closest('a[href]').length) {\r\n            url = seg.footprint.eventDef.url;\r\n            if (url && !ev.isDefaultPrevented()) { // jsEvent not cancelled in handler\r\n                window.location.href = url; // simulate link click\r\n            }\r\n        }\r\n    };\r\n    return ListEventPointing;\r\n}(EventPointing_1.default));\r\nexports.default = ListEventPointing;\r\n\n\n/***/ }),\n/* 251 */,\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */,\n/* 256 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(3);\r\nvar exportHooks = __webpack_require__(18);\r\nvar util_1 = __webpack_require__(4);\r\nvar Calendar_1 = __webpack_require__(232);\r\n// for intentional side-effects\r\n__webpack_require__(11);\r\n__webpack_require__(49);\r\n__webpack_require__(260);\r\n__webpack_require__(261);\r\n__webpack_require__(264);\r\n__webpack_require__(265);\r\n__webpack_require__(266);\r\n__webpack_require__(267);\r\n$.fullCalendar = exportHooks;\r\n$.fn.fullCalendar = function (options) {\r\n    var args = Array.prototype.slice.call(arguments, 1); // for a possible method call\r\n    var res = this; // what this function will return (this jQuery object by default)\r\n    this.each(function (i, _element) {\r\n        var element = $(_element);\r\n        var calendar = element.data('fullCalendar'); // get the existing calendar object (if any)\r\n        var singleRes; // the returned value of this single method call\r\n        // a method call\r\n        if (typeof options === 'string') {\r\n            if (options === 'getCalendar') {\r\n                if (!i) { // first element only\r\n                    res = calendar;\r\n                }\r\n            }\r\n            else if (options === 'destroy') { // don't warn if no calendar object\r\n                if (calendar) {\r\n                    calendar.destroy();\r\n                    element.removeData('fullCalendar');\r\n                }\r\n            }\r\n            else if (!calendar) {\r\n                util_1.warn('Attempting to call a FullCalendar method on an element with no calendar.');\r\n            }\r\n            else if ($.isFunction(calendar[options])) {\r\n                singleRes = calendar[options].apply(calendar, args);\r\n                if (!i) {\r\n                    res = singleRes; // record the first method call result\r\n                }\r\n                if (options === 'destroy') { // for the destroy method, must remove Calendar object data\r\n                    element.removeData('fullCalendar');\r\n                }\r\n            }\r\n            else {\r\n                util_1.warn(\"'\" + options + \"' is an unknown FullCalendar method.\");\r\n            }\r\n        }\r\n        else if (!calendar) { // don't initialize twice\r\n            calendar = new Calendar_1.default(element, options);\r\n            element.data('fullCalendar', calendar);\r\n            calendar.render();\r\n        }\r\n    });\r\n    return res;\r\n};\r\nmodule.exports = exportHooks;\r\n\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\n/* Toolbar with buttons and title\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar Toolbar = /** @class */ (function () {\r\n    function Toolbar(calendar, toolbarOptions) {\r\n        this.el = null; // mirrors local `el`\r\n        this.viewsWithButtons = [];\r\n        this.calendar = calendar;\r\n        this.toolbarOptions = toolbarOptions;\r\n    }\r\n    // method to update toolbar-specific options, not calendar-wide options\r\n    Toolbar.prototype.setToolbarOptions = function (newToolbarOptions) {\r\n        this.toolbarOptions = newToolbarOptions;\r\n    };\r\n    // can be called repeatedly and will rerender\r\n    Toolbar.prototype.render = function () {\r\n        var sections = this.toolbarOptions.layout;\r\n        var el = this.el;\r\n        if (sections) {\r\n            if (!el) {\r\n                el = this.el = $(\"<div class='fc-toolbar \" + this.toolbarOptions.extraClasses + \"'/>\");\r\n            }\r\n            else {\r\n                el.empty();\r\n            }\r\n            el.append(this.renderSection('left'))\r\n                .append(this.renderSection('right'))\r\n                .append(this.renderSection('center'))\r\n                .append('<div class=\"fc-clear\"/>');\r\n        }\r\n        else {\r\n            this.removeElement();\r\n        }\r\n    };\r\n    Toolbar.prototype.removeElement = function () {\r\n        if (this.el) {\r\n            this.el.remove();\r\n            this.el = null;\r\n        }\r\n    };\r\n    Toolbar.prototype.renderSection = function (position) {\r\n        var _this = this;\r\n        var calendar = this.calendar;\r\n        var theme = calendar.theme;\r\n        var optionsManager = calendar.optionsManager;\r\n        var viewSpecManager = calendar.viewSpecManager;\r\n        var sectionEl = $('<div class=\"fc-' + position + '\"/>');\r\n        var buttonStr = this.toolbarOptions.layout[position];\r\n        var calendarCustomButtons = optionsManager.get('customButtons') || {};\r\n        var calendarButtonTextOverrides = optionsManager.overrides.buttonText || {};\r\n        var calendarButtonText = optionsManager.get('buttonText') || {};\r\n        if (buttonStr) {\r\n            $.each(buttonStr.split(' '), function (i, buttonGroupStr) {\r\n                var groupChildren = $();\r\n                var isOnlyButtons = true;\r\n                var groupEl;\r\n                $.each(buttonGroupStr.split(','), function (j, buttonName) {\r\n                    var customButtonProps;\r\n                    var viewSpec;\r\n                    var buttonClick;\r\n                    var buttonIcon; // only one of these will be set\r\n                    var buttonText; // \"\r\n                    var buttonInnerHtml;\r\n                    var buttonClasses;\r\n                    var buttonEl;\r\n                    var buttonAriaAttr;\r\n                    if (buttonName === 'title') {\r\n                        groupChildren = groupChildren.add($('<h2>&nbsp;</h2>')); // we always want it to take up height\r\n                        isOnlyButtons = false;\r\n                    }\r\n                    else {\r\n                        if ((customButtonProps = calendarCustomButtons[buttonName])) {\r\n                            buttonClick = function (ev) {\r\n                                if (customButtonProps.click) {\r\n                                    customButtonProps.click.call(buttonEl[0], ev);\r\n                                }\r\n                            };\r\n                            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\r\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\r\n                                (buttonText = customButtonProps.text);\r\n                        }\r\n                        else if ((viewSpec = viewSpecManager.getViewSpec(buttonName))) {\r\n                            _this.viewsWithButtons.push(buttonName);\r\n                            buttonClick = function () {\r\n                                calendar.changeView(buttonName);\r\n                            };\r\n                            (buttonText = viewSpec.buttonTextOverride) ||\r\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\r\n                                (buttonText = viewSpec.buttonTextDefault);\r\n                        }\r\n                        else if (calendar[buttonName]) { // a calendar method\r\n                            buttonClick = function () {\r\n                                calendar[buttonName]();\r\n                            };\r\n                            (buttonText = calendarButtonTextOverrides[buttonName]) ||\r\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\r\n                                (buttonText = calendarButtonText[buttonName]);\r\n                            //            ^ everything else is considered default\r\n                        }\r\n                        if (buttonClick) {\r\n                            buttonClasses = [\r\n                                'fc-' + buttonName + '-button',\r\n                                theme.getClass('button'),\r\n                                theme.getClass('stateDefault')\r\n                            ];\r\n                            if (buttonText) {\r\n                                buttonInnerHtml = util_1.htmlEscape(buttonText);\r\n                                buttonAriaAttr = '';\r\n                            }\r\n                            else if (buttonIcon) {\r\n                                buttonInnerHtml = \"<span class='\" + buttonIcon + \"'></span>\";\r\n                                buttonAriaAttr = ' aria-label=\"' + buttonName + '\"';\r\n                            }\r\n                            buttonEl = $(// type=\"button\" so that it doesn't submit a form\r\n                            '<button type=\"button\" class=\"' + buttonClasses.join(' ') + '\"' +\r\n                                buttonAriaAttr +\r\n                                '>' + buttonInnerHtml + '</button>')\r\n                                .click(function (ev) {\r\n                                // don't process clicks for disabled buttons\r\n                                if (!buttonEl.hasClass(theme.getClass('stateDisabled'))) {\r\n                                    buttonClick(ev);\r\n                                    // after the click action, if the button becomes the \"active\" tab, or disabled,\r\n                                    // it should never have a hover class, so remove it now.\r\n                                    if (buttonEl.hasClass(theme.getClass('stateActive')) ||\r\n                                        buttonEl.hasClass(theme.getClass('stateDisabled'))) {\r\n                                        buttonEl.removeClass(theme.getClass('stateHover'));\r\n                                    }\r\n                                }\r\n                            })\r\n                                .mousedown(function () {\r\n                                // the *down* effect (mouse pressed in).\r\n                                // only on buttons that are not the \"active\" tab, or disabled\r\n                                buttonEl\r\n                                    .not('.' + theme.getClass('stateActive'))\r\n                                    .not('.' + theme.getClass('stateDisabled'))\r\n                                    .addClass(theme.getClass('stateDown'));\r\n                            })\r\n                                .mouseup(function () {\r\n                                // undo the *down* effect\r\n                                buttonEl.removeClass(theme.getClass('stateDown'));\r\n                            })\r\n                                .hover(function () {\r\n                                // the *hover* effect.\r\n                                // only on buttons that are not the \"active\" tab, or disabled\r\n                                buttonEl\r\n                                    .not('.' + theme.getClass('stateActive'))\r\n                                    .not('.' + theme.getClass('stateDisabled'))\r\n                                    .addClass(theme.getClass('stateHover'));\r\n                            }, function () {\r\n                                // undo the *hover* effect\r\n                                buttonEl\r\n                                    .removeClass(theme.getClass('stateHover'))\r\n                                    .removeClass(theme.getClass('stateDown')); // if mouseleave happens before mouseup\r\n                            });\r\n                            groupChildren = groupChildren.add(buttonEl);\r\n                        }\r\n                    }\r\n                });\r\n                if (isOnlyButtons) {\r\n                    groupChildren\r\n                        .first().addClass(theme.getClass('cornerLeft')).end()\r\n                        .last().addClass(theme.getClass('cornerRight')).end();\r\n                }\r\n                if (groupChildren.length > 1) {\r\n                    groupEl = $('<div/>');\r\n                    if (isOnlyButtons) {\r\n                        groupEl.addClass(theme.getClass('buttonGroup'));\r\n                    }\r\n                    groupEl.append(groupChildren);\r\n                    sectionEl.append(groupEl);\r\n                }\r\n                else {\r\n                    sectionEl.append(groupChildren); // 1 or 0 children\r\n                }\r\n            });\r\n        }\r\n        return sectionEl;\r\n    };\r\n    Toolbar.prototype.updateTitle = function (text) {\r\n        if (this.el) {\r\n            this.el.find('h2').text(text);\r\n        }\r\n    };\r\n    Toolbar.prototype.activateButton = function (buttonName) {\r\n        if (this.el) {\r\n            this.el.find('.fc-' + buttonName + '-button')\r\n                .addClass(this.calendar.theme.getClass('stateActive'));\r\n        }\r\n    };\r\n    Toolbar.prototype.deactivateButton = function (buttonName) {\r\n        if (this.el) {\r\n            this.el.find('.fc-' + buttonName + '-button')\r\n                .removeClass(this.calendar.theme.getClass('stateActive'));\r\n        }\r\n    };\r\n    Toolbar.prototype.disableButton = function (buttonName) {\r\n        if (this.el) {\r\n            this.el.find('.fc-' + buttonName + '-button')\r\n                .prop('disabled', true)\r\n                .addClass(this.calendar.theme.getClass('stateDisabled'));\r\n        }\r\n    };\r\n    Toolbar.prototype.enableButton = function (buttonName) {\r\n        if (this.el) {\r\n            this.el.find('.fc-' + buttonName + '-button')\r\n                .prop('disabled', false)\r\n                .removeClass(this.calendar.theme.getClass('stateDisabled'));\r\n        }\r\n    };\r\n    Toolbar.prototype.getViewsWithButtons = function () {\r\n        return this.viewsWithButtons;\r\n    };\r\n    return Toolbar;\r\n}());\r\nexports.default = Toolbar;\r\n\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar $ = __webpack_require__(3);\r\nvar util_1 = __webpack_require__(4);\r\nvar options_1 = __webpack_require__(33);\r\nvar locale_1 = __webpack_require__(32);\r\nvar Model_1 = __webpack_require__(51);\r\nvar OptionsManager = /** @class */ (function (_super) {\r\n    tslib_1.__extends(OptionsManager, _super);\r\n    function OptionsManager(_calendar, overrides) {\r\n        var _this = _super.call(this) || this;\r\n        _this._calendar = _calendar;\r\n        _this.overrides = $.extend({}, overrides); // make a copy\r\n        _this.dynamicOverrides = {};\r\n        _this.compute();\r\n        return _this;\r\n    }\r\n    OptionsManager.prototype.add = function (newOptionHash) {\r\n        var optionCnt = 0;\r\n        var optionName;\r\n        this.recordOverrides(newOptionHash); // will trigger this model's watchers\r\n        for (optionName in newOptionHash) {\r\n            optionCnt++;\r\n        }\r\n        // special-case handling of single option change.\r\n        // if only one option change, `optionName` will be its name.\r\n        if (optionCnt === 1) {\r\n            if (optionName === 'height' || optionName === 'contentHeight' || optionName === 'aspectRatio') {\r\n                this._calendar.updateViewSize(true); // isResize=true\r\n                return;\r\n            }\r\n            else if (optionName === 'defaultDate') {\r\n                return; // can't change date this way. use gotoDate instead\r\n            }\r\n            else if (optionName === 'businessHours') {\r\n                return; // this model already reacts to this\r\n            }\r\n            else if (/^(event|select)(Overlap|Constraint|Allow)$/.test(optionName)) {\r\n                return; // doesn't affect rendering. only interactions.\r\n            }\r\n            else if (optionName === 'timezone') {\r\n                this._calendar.view.flash('initialEvents');\r\n                return;\r\n            }\r\n        }\r\n        // catch-all. rerender the header and footer and rebuild/rerender the current view\r\n        this._calendar.renderHeader();\r\n        this._calendar.renderFooter();\r\n        // even non-current views will be affected by this option change. do before rerender\r\n        // TODO: detangle\r\n        this._calendar.viewsByType = {};\r\n        this._calendar.reinitView();\r\n    };\r\n    // Computes the flattened options hash for the calendar and assigns to `this.options`.\r\n    // Assumes this.overrides and this.dynamicOverrides have already been initialized.\r\n    OptionsManager.prototype.compute = function () {\r\n        var locale;\r\n        var localeDefaults;\r\n        var isRTL;\r\n        var dirDefaults;\r\n        var rawOptions;\r\n        locale = util_1.firstDefined(// explicit locale option given?\r\n        this.dynamicOverrides.locale, this.overrides.locale);\r\n        localeDefaults = locale_1.localeOptionHash[locale];\r\n        if (!localeDefaults) { // explicit locale option not given or invalid?\r\n            locale = options_1.globalDefaults.locale;\r\n            localeDefaults = locale_1.localeOptionHash[locale] || {};\r\n        }\r\n        isRTL = util_1.firstDefined(// based on options computed so far, is direction RTL?\r\n        this.dynamicOverrides.isRTL, this.overrides.isRTL, localeDefaults.isRTL, options_1.globalDefaults.isRTL);\r\n        dirDefaults = isRTL ? options_1.rtlDefaults : {};\r\n        this.dirDefaults = dirDefaults;\r\n        this.localeDefaults = localeDefaults;\r\n        rawOptions = options_1.mergeOptions([\r\n            options_1.globalDefaults,\r\n            dirDefaults,\r\n            localeDefaults,\r\n            this.overrides,\r\n            this.dynamicOverrides\r\n        ]);\r\n        locale_1.populateInstanceComputableOptions(rawOptions); // fill in gaps with computed options\r\n        this.reset(rawOptions);\r\n    };\r\n    // stores the new options internally, but does not rerender anything.\r\n    OptionsManager.prototype.recordOverrides = function (newOptionHash) {\r\n        var optionName;\r\n        for (optionName in newOptionHash) {\r\n            this.dynamicOverrides[optionName] = newOptionHash[optionName];\r\n        }\r\n        this._calendar.viewSpecManager.clearCache(); // the dynamic override invalidates the options in this cache, so just clear it\r\n        this.compute(); // this.options needs to be recomputed after the dynamic override\r\n    };\r\n    return OptionsManager;\r\n}(Model_1.default));\r\nexports.default = OptionsManager;\r\n\n\n/***/ }),\n/* 259 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment = __webpack_require__(0);\r\nvar $ = __webpack_require__(3);\r\nvar ViewRegistry_1 = __webpack_require__(24);\r\nvar util_1 = __webpack_require__(4);\r\nvar options_1 = __webpack_require__(33);\r\nvar locale_1 = __webpack_require__(32);\r\nvar ViewSpecManager = /** @class */ (function () {\r\n    function ViewSpecManager(optionsManager, _calendar) {\r\n        this.optionsManager = optionsManager;\r\n        this._calendar = _calendar;\r\n        this.clearCache();\r\n    }\r\n    ViewSpecManager.prototype.clearCache = function () {\r\n        this.viewSpecCache = {};\r\n    };\r\n    // Gets information about how to create a view. Will use a cache.\r\n    ViewSpecManager.prototype.getViewSpec = function (viewType) {\r\n        var cache = this.viewSpecCache;\r\n        return cache[viewType] || (cache[viewType] = this.buildViewSpec(viewType));\r\n    };\r\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\r\n    // Preference is given to views that have corresponding buttons.\r\n    ViewSpecManager.prototype.getUnitViewSpec = function (unit) {\r\n        var viewTypes;\r\n        var i;\r\n        var spec;\r\n        if ($.inArray(unit, util_1.unitsDesc) !== -1) {\r\n            // put views that have buttons first. there will be duplicates, but oh well\r\n            viewTypes = this._calendar.header.getViewsWithButtons(); // TODO: include footer as well?\r\n            $.each(ViewRegistry_1.viewHash, function (viewType) {\r\n                viewTypes.push(viewType);\r\n            });\r\n            for (i = 0; i < viewTypes.length; i++) {\r\n                spec = this.getViewSpec(viewTypes[i]);\r\n                if (spec) {\r\n                    if (spec.singleUnit === unit) {\r\n                        return spec;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    // Builds an object with information on how to create a given view\r\n    ViewSpecManager.prototype.buildViewSpec = function (requestedViewType) {\r\n        var viewOverrides = this.optionsManager.overrides.views || {};\r\n        var specChain = []; // for the view. lowest to highest priority\r\n        var defaultsChain = []; // for the view. lowest to highest priority\r\n        var overridesChain = []; // for the view. lowest to highest priority\r\n        var viewType = requestedViewType;\r\n        var spec; // for the view\r\n        var overrides; // for the view\r\n        var durationInput;\r\n        var duration;\r\n        var unit;\r\n        // iterate from the specific view definition to a more general one until we hit an actual View class\r\n        while (viewType) {\r\n            spec = ViewRegistry_1.viewHash[viewType];\r\n            overrides = viewOverrides[viewType];\r\n            viewType = null; // clear. might repopulate for another iteration\r\n            if (typeof spec === 'function') { // TODO: deprecate\r\n                spec = { 'class': spec };\r\n            }\r\n            if (spec) {\r\n                specChain.unshift(spec);\r\n                defaultsChain.unshift(spec.defaults || {});\r\n                durationInput = durationInput || spec.duration;\r\n                viewType = viewType || spec.type;\r\n            }\r\n            if (overrides) {\r\n                overridesChain.unshift(overrides); // view-specific option hashes have options at zero-level\r\n                durationInput = durationInput || overrides.duration;\r\n                viewType = viewType || overrides.type;\r\n            }\r\n        }\r\n        spec = util_1.mergeProps(specChain);\r\n        spec.type = requestedViewType;\r\n        if (!spec['class']) {\r\n            return false;\r\n        }\r\n        // fall back to top-level `duration` option\r\n        durationInput = durationInput ||\r\n            this.optionsManager.dynamicOverrides.duration ||\r\n            this.optionsManager.overrides.duration;\r\n        if (durationInput) {\r\n            duration = moment.duration(durationInput);\r\n            if (duration.valueOf()) { // valid?\r\n                unit = util_1.computeDurationGreatestUnit(duration, durationInput);\r\n                spec.duration = duration;\r\n                spec.durationUnit = unit;\r\n                // view is a single-unit duration, like \"week\" or \"day\"\r\n                // incorporate options for this. lowest priority\r\n                if (duration.as(unit) === 1) {\r\n                    spec.singleUnit = unit;\r\n                    overridesChain.unshift(viewOverrides[unit] || {});\r\n                }\r\n            }\r\n        }\r\n        spec.defaults = options_1.mergeOptions(defaultsChain);\r\n        spec.overrides = options_1.mergeOptions(overridesChain);\r\n        this.buildViewSpecOptions(spec);\r\n        this.buildViewSpecButtonText(spec, requestedViewType);\r\n        return spec;\r\n    };\r\n    // Builds and assigns a view spec's options object from its already-assigned defaults and overrides\r\n    ViewSpecManager.prototype.buildViewSpecOptions = function (spec) {\r\n        var optionsManager = this.optionsManager;\r\n        spec.options = options_1.mergeOptions([\r\n            options_1.globalDefaults,\r\n            spec.defaults,\r\n            optionsManager.dirDefaults,\r\n            optionsManager.localeDefaults,\r\n            optionsManager.overrides,\r\n            spec.overrides,\r\n            optionsManager.dynamicOverrides // dynamically set via setter. highest precedence\r\n        ]);\r\n        locale_1.populateInstanceComputableOptions(spec.options);\r\n    };\r\n    // Computes and assigns a view spec's buttonText-related options\r\n    ViewSpecManager.prototype.buildViewSpecButtonText = function (spec, requestedViewType) {\r\n        var optionsManager = this.optionsManager;\r\n        // given an options object with a possible `buttonText` hash, lookup the buttonText for the\r\n        // requested view, falling back to a generic unit entry like \"week\" or \"day\"\r\n        function queryButtonText(options) {\r\n            var buttonText = options.buttonText || {};\r\n            return buttonText[requestedViewType] ||\r\n                // view can decide to look up a certain key\r\n                (spec.buttonTextKey ? buttonText[spec.buttonTextKey] : null) ||\r\n                // a key like \"month\"\r\n                (spec.singleUnit ? buttonText[spec.singleUnit] : null);\r\n        }\r\n        // highest to lowest priority\r\n        spec.buttonTextOverride =\r\n            queryButtonText(optionsManager.dynamicOverrides) ||\r\n                queryButtonText(optionsManager.overrides) || // constructor-specified buttonText lookup hash takes precedence\r\n                spec.overrides.buttonText; // `buttonText` for view-specific options is a string\r\n        // highest to lowest priority. mirrors buildViewSpecOptions\r\n        spec.buttonTextDefault =\r\n            queryButtonText(optionsManager.localeDefaults) ||\r\n                queryButtonText(optionsManager.dirDefaults) ||\r\n                spec.defaults.buttonText || // a single string. from ViewSubclass.defaults\r\n                queryButtonText(options_1.globalDefaults) ||\r\n                (spec.duration ? this._calendar.humanizeDuration(spec.duration) : null) || // like \"3 days\"\r\n                requestedViewType; // fall back to given view name\r\n    };\r\n    return ViewSpecManager;\r\n}());\r\nexports.default = ViewSpecManager;\r\n\n\n/***/ }),\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventSourceParser_1 = __webpack_require__(38);\r\nvar ArrayEventSource_1 = __webpack_require__(56);\r\nvar FuncEventSource_1 = __webpack_require__(223);\r\nvar JsonFeedEventSource_1 = __webpack_require__(224);\r\nEventSourceParser_1.default.registerClass(ArrayEventSource_1.default);\r\nEventSourceParser_1.default.registerClass(FuncEventSource_1.default);\r\nEventSourceParser_1.default.registerClass(JsonFeedEventSource_1.default);\r\n\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ThemeRegistry_1 = __webpack_require__(57);\r\nvar StandardTheme_1 = __webpack_require__(221);\r\nvar JqueryUiTheme_1 = __webpack_require__(222);\r\nvar Bootstrap3Theme_1 = __webpack_require__(262);\r\nvar Bootstrap4Theme_1 = __webpack_require__(263);\r\nThemeRegistry_1.defineThemeSystem('standard', StandardTheme_1.default);\r\nThemeRegistry_1.defineThemeSystem('jquery-ui', JqueryUiTheme_1.default);\r\nThemeRegistry_1.defineThemeSystem('bootstrap3', Bootstrap3Theme_1.default);\r\nThemeRegistry_1.defineThemeSystem('bootstrap4', Bootstrap4Theme_1.default);\r\n\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Theme_1 = __webpack_require__(22);\r\nvar Bootstrap3Theme = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Bootstrap3Theme, _super);\r\n    function Bootstrap3Theme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return Bootstrap3Theme;\r\n}(Theme_1.default));\r\nexports.default = Bootstrap3Theme;\r\nBootstrap3Theme.prototype.classes = {\r\n    widget: 'fc-bootstrap3',\r\n    tableGrid: 'table-bordered',\r\n    tableList: 'table',\r\n    tableListHeading: 'active',\r\n    buttonGroup: 'btn-group',\r\n    button: 'btn btn-default',\r\n    stateActive: 'active',\r\n    stateDisabled: 'disabled',\r\n    today: 'alert alert-info',\r\n    popover: 'panel panel-default',\r\n    popoverHeader: 'panel-heading',\r\n    popoverContent: 'panel-body',\r\n    // day grid\r\n    // for left/right border color when border is inset from edges (all-day in agenda view)\r\n    // avoid `panel` class b/c don't want margins/radius. only border color.\r\n    headerRow: 'panel-default',\r\n    dayRow: 'panel-default',\r\n    // list view\r\n    listView: 'panel panel-default'\r\n};\r\nBootstrap3Theme.prototype.baseIconClass = 'glyphicon';\r\nBootstrap3Theme.prototype.iconClasses = {\r\n    close: 'glyphicon-remove',\r\n    prev: 'glyphicon-chevron-left',\r\n    next: 'glyphicon-chevron-right',\r\n    prevYear: 'glyphicon-backward',\r\n    nextYear: 'glyphicon-forward'\r\n};\r\nBootstrap3Theme.prototype.iconOverrideOption = 'bootstrapGlyphicons';\r\nBootstrap3Theme.prototype.iconOverrideCustomButtonOption = 'bootstrapGlyphicon';\r\nBootstrap3Theme.prototype.iconOverridePrefix = 'glyphicon-';\r\n\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(2);\r\nvar Theme_1 = __webpack_require__(22);\r\nvar Bootstrap4Theme = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Bootstrap4Theme, _super);\r\n    function Bootstrap4Theme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return Bootstrap4Theme;\r\n}(Theme_1.default));\r\nexports.default = Bootstrap4Theme;\r\nBootstrap4Theme.prototype.classes = {\r\n    widget: 'fc-bootstrap4',\r\n    tableGrid: 'table-bordered',\r\n    tableList: 'table',\r\n    tableListHeading: 'table-active',\r\n    buttonGroup: 'btn-group',\r\n    button: 'btn btn-primary',\r\n    stateActive: 'active',\r\n    stateDisabled: 'disabled',\r\n    today: 'alert alert-info',\r\n    popover: 'card card-primary',\r\n    popoverHeader: 'card-header',\r\n    popoverContent: 'card-body',\r\n    // day grid\r\n    // for left/right border color when border is inset from edges (all-day in agenda view)\r\n    // avoid `table` class b/c don't want margins/padding/structure. only border color.\r\n    headerRow: 'table-bordered',\r\n    dayRow: 'table-bordered',\r\n    // list view\r\n    listView: 'card card-primary'\r\n};\r\nBootstrap4Theme.prototype.baseIconClass = 'fa';\r\nBootstrap4Theme.prototype.iconClasses = {\r\n    close: 'fa-times',\r\n    prev: 'fa-chevron-left',\r\n    next: 'fa-chevron-right',\r\n    prevYear: 'fa-angle-double-left',\r\n    nextYear: 'fa-angle-double-right'\r\n};\r\nBootstrap4Theme.prototype.iconOverrideOption = 'bootstrapFontAwesome';\r\nBootstrap4Theme.prototype.iconOverrideCustomButtonOption = 'bootstrapFontAwesome';\r\nBootstrap4Theme.prototype.iconOverridePrefix = 'fa-';\r\n\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewRegistry_1 = __webpack_require__(24);\r\nvar BasicView_1 = __webpack_require__(67);\r\nvar MonthView_1 = __webpack_require__(246);\r\nViewRegistry_1.defineView('basic', {\r\n    'class': BasicView_1.default\r\n});\r\nViewRegistry_1.defineView('basicDay', {\r\n    type: 'basic',\r\n    duration: { days: 1 }\r\n});\r\nViewRegistry_1.defineView('basicWeek', {\r\n    type: 'basic',\r\n    duration: { weeks: 1 }\r\n});\r\nViewRegistry_1.defineView('month', {\r\n    'class': MonthView_1.default,\r\n    duration: { months: 1 },\r\n    defaults: {\r\n        fixedWeekCount: true\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewRegistry_1 = __webpack_require__(24);\r\nvar AgendaView_1 = __webpack_require__(238);\r\nViewRegistry_1.defineView('agenda', {\r\n    'class': AgendaView_1.default,\r\n    defaults: {\r\n        allDaySlot: true,\r\n        slotDuration: '00:30:00',\r\n        slotEventOverlap: true // a bad name. confused with overlap/constraint system\r\n    }\r\n});\r\nViewRegistry_1.defineView('agendaDay', {\r\n    type: 'agenda',\r\n    duration: { days: 1 }\r\n});\r\nViewRegistry_1.defineView('agendaWeek', {\r\n    type: 'agenda',\r\n    duration: { weeks: 1 }\r\n});\r\n\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewRegistry_1 = __webpack_require__(24);\r\nvar ListView_1 = __webpack_require__(248);\r\nViewRegistry_1.defineView('list', {\r\n    'class': ListView_1.default,\r\n    buttonTextKey: 'list',\r\n    defaults: {\r\n        buttonText: 'list',\r\n        listDayFormat: 'LL',\r\n        noEventsMessage: 'No events to display'\r\n    }\r\n});\r\nViewRegistry_1.defineView('listDay', {\r\n    type: 'list',\r\n    duration: { days: 1 },\r\n    defaults: {\r\n        listDayFormat: 'dddd' // day-of-week is all we need. full date is probably in header\r\n    }\r\n});\r\nViewRegistry_1.defineView('listWeek', {\r\n    type: 'list',\r\n    duration: { weeks: 1 },\r\n    defaults: {\r\n        listDayFormat: 'dddd',\r\n        listDayAltFormat: 'LL'\r\n    }\r\n});\r\nViewRegistry_1.defineView('listMonth', {\r\n    type: 'list',\r\n    duration: { month: 1 },\r\n    defaults: {\r\n        listDayAltFormat: 'dddd' // day-of-week is nice-to-have\r\n    }\r\n});\r\nViewRegistry_1.defineView('listYear', {\r\n    type: 'list',\r\n    duration: { year: 1 },\r\n    defaults: {\r\n        listDayAltFormat: 'dddd' // day-of-week is nice-to-have\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}